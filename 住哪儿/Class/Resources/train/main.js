!function(){var requirejs,require,define;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),define("lib/almond",function(){}),define("src/common/lib/lang",["require"],function(a){var b={};return b.inherits=function(a,b){var c=function(){};c.prototype=b.prototype;var d=a.prototype,e=a.prototype=new c;for(var f in d)e[f]=d[f];return a.prototype.constructor=a,a.superClass=b.prototype,a},b.clone=function(a){if(!a||"object"!=typeof a)return a;var b=a;if(u.isArray(a))b=u.clone(a);else if("[object Object]"==={}.toString.call(a)&&"isPrototypeOf"in a){b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=lib.deepClone(a[c]))}return b},b.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&"undefined"!=typeof b[c]&&(a[c]=b[c]);return a},b}),define("src/common/lib/string",["require"],function(a){var b={};return b.toPascal=function(a){return a?a.charAt(0).toUpperCase()+b.toCamel(a.slice(1)):""},b.toCamel=function(a){return a?a.replace(/-([a-z])/g,function(a){return a.toUpperCase()}):""},b}),define("src/common/lib",["require","./lib/lang","./lib/string"],function(a){var b={},c=a("./lib/lang"),d=a("./lib/string"),e=22;return b.getUniqueID=function(a){return a=a||"uniq",a+e++},b.noop=function(){},b.offloadFn=function(a){setTimeout(a||b.noop,0)},c.extend(b,c),c.extend(b,d),b}),define("src/web/events",["require"],function(a){var b={},c=["layerCreateSuccess","layerLoadFinish","layerPullDown","layerPoped","tap","slide","menuPressed","layerGoBack","backPressedBeforeExit"],d=function(a,b){for(var c in a)if(a[c]==search)return!0;return!1};return b.on=function(a,b,e,f){"undefined"==typeof f&&(f=e||this.id?Blend.ui.get(e||this.id).main:d(c,a)?Blend.ui.activeLayer[0]:document),"function"==typeof b&&f.addEventListener(a,b)},b.once=function(a,b,c,d){if("undefined"==typeof d&&(d=c||this.id?Blend.ui.get(c||this.id).main:document),"function"==typeof b)if("onrender"===a&&this&&this.isRender&&this.isRender())b.apply(d,arguments);else{var e=function(){b.apply(d,arguments),d.removeEventListener(a,e)};d.addEventListener(a,e)}},b.off=function(a,b,c,d){"undefined"==typeof d&&(d=Blend.ui.get(c||this.id).main),"function"==typeof b&&d.removeEventListener(a,b)},b.fire=function(a,b,c,d,e){try{var f;b||(b=this.id),"undefined"==typeof b&&(e=document),"undefined"==typeof e&&"undefined"!=typeof b&&(e=Blend.ui.get(b).main);var g={bubbles:!0,cancelable:!0,detail:b};if("function"==typeof CustomEvent?f=new CustomEvent(a,g):(f=document.createEvent("Events"),f.initEvent(a,g.bubbles,g.cancelable,g.detail),f.detail=g.detail),"undefined"!=typeof c&&(f.data1=c),"function"==typeof d&&d(f),"undefined"!=typeof b){var h=Blend.ui.get(b)[a];"function"==typeof h&&h.call(this,f)}e&&e.dispatchEvent(f),console.log(f.type,f.detail,f.data1)}catch(i){console.warn("Events fire errors.please check the runtime environment.",i.stack)}},b}),define("src/web/api",["require"],function(a){var b={},c=function(){};return b.layerStopRefresh=function(a){a||(a=Blend.ui.activeLayer.attr("data-blend-id")||"0"),Blend.ui.get(a).endPullRefresh()},b.layerBack=function(a){a||(a=Blend.ui.activeLayer.attr("data-blend-id")||"0"),Blend.ui.get(a).out()},b.removeSplashScreen=c,b}),define("src/web/blend",["../common/lib","../web/events","../web/api"],function(a,b,c){var d={},e={},f={};return d.version="alpha",a.extend(d,c),d.layerInit=function(a,b){f[a]=b;var c=d.get(a);c&&c.isRender()&&b&&b.call(c,c.main,c.controllerData)},$(document).on("onrender",function(a){var b="undefined"!=typeof a.originalEvent?a.originalEvent.detail:a.detail;if(b&&f[b]){var c=d.get(b);f[b].call(c,c.main,c.controllerData)}c&&c.isRender(!0)}),d.ready=function(a){/complete|loaded/.test(document.readyState)&&document.body?a():document.addEventListener("DOMContentLoaded",function(){a()},!1)},d.ready(function(){b.fire("blendready"),d.activeLayer=$(".page")}),d.inRuntime=function(){return!1},d.getLayerId=function(){return Blend.ui.activeLayer.attr("data-blend-id")},d.getUI=function(a){a=$(a)[0];do{if(!a||9==a.nodeType)return null;if(a.getAttribute("data-blend"))return e[a.getAttribute("data-blend-id")]}while((a=a.parentNode)!=document.body)},d.register=function(a){console.log("reg: "+a.id),e[a.id]=a},d.cancel=function(a){delete e[a.id]},d.create=function(a,b){},d.canGoBack=function(){return d.layerStack.length},d.get=function(a){return"0"===a&&(e[a]||(e[a]=new d.Layer({id:"0"}),$(".page").length?e[a].main=$(".page")[0]:console.warn(" '0' page need to have classes .pages>.page>.page-content "))),e[a]},d.on=b.on,d.once=b.once,d.off=b.off,d.fire=b.fire,d.layerStack=[],d}),define("src/web/Control",["require","../common/lib","../web/blend"],function(a){function b(a){a=a||{};this.id||(this.id=a.id||c.getUniqueID()),this.url=a.url||"",this.main=a.main?this.setMainAttr(a.main):this.initMain(a),this.controllerData=null,this.initOptions(a),d.register(this),this.currentStates={},this._listener={}}var c=a("../common/lib"),d=a("../web/blend");return b.prototype={constructor:b,currentStates:null,_listener:null,getType:function(){return this.type||"control"},initOptions:function(a){a=a||{},this.setProperties(a)},initMain:function(){var a=document.createElement("div");return this.setMainAttr(a),a},setMainAttr:function(a){return a?(a.setAttribute("data-blend",this.getType()),a.setAttribute("data-blend-id",this.id),this.url&&a.setAttribute("data-url",this.url),a.id=c.getUniqueID(),a):!1},render:function(){if(!this.hasState("got")&&!this.hasState("get")){this.addState("get"),this.fire("beforerender",this.id);var a=this;return a.fire("onload",this.id),a.paint(),this.main}},paint:function(a,b){},appendTo:function(a){this.main.appendChild(a)},insertBefore:function(a){this.main.parentNode.insertBefore(a,this.main)},dispose:function(){this.fire("beforedestroy"),this.fire("afterdestroy")},clearDOMEvents:function(){},destroy:function(){this.dispose(),d.cancel(this),$(this.main).remove()},get:function(a){var b=this["get"+c.toPascal(a)];return"function"==typeof b?b.call(this):this[a]},set:function(a,b){var d=this["set"+c.toPascal(a)];if("function"==typeof d)return d.call(this,b);var e={};e[a]=b,this.setProperties(e)},setProperties:function(a){c.extend(this,a)},disable:function(){this.addState("disabled")},enable:function(){this.removeState("disabled")},isDisabled:function(){return this.hasState("disabled")},setUrl:function(a){this.url=a,this.main.setAttribute("data-url",a)},addState:function(a){this.hasState(a)||(this.currentStates[a]=!0)},removeState:function(a){this.hasState(a)&&delete this.currentStates[a]},toggleState:function(a){var b=this.hasState(a)?"removeState":"addState";this[b](a)},hasState:function(a){if("string"==typeof a)return!!this.currentStates[a];var b=this,c=a.filter(function(a){return b.currentStates[a]});return c.length?c:!1},on:function(a,b){var c=this;c._listener[a]||(c._listener[a]=[]),c._listener[a].push(b)},off:function(a,b){var c=this._listener[a];if(c){if(!b)return void delete this._listener[a];c.splice(types.indexOf(b),1),c.length||delete this._listener[a]}},fire:function(a,b,c){if(!a)throw new Error("未指定事件名");var d=this._listener[a];if(c=c||this,d)for(var e=0,f=d.length;f>e;e++)d[e].apply(c,b);var g=this["on"+a];return"function"==typeof g&&g.call(this,event),event}},b}),define("src/web/WebControl",["require","../web/blend","../common/lib","../web/Control","../web/events"],function(a){function b(a){d.apply(this,arguments)}var c=(a("../web/blend"),a("../common/lib")),d=a("../web/Control"),e=a("../web/events");return b.prototype.type="layout",b.prototype.on=e.on,b.prototype.once=e.once,b.prototype.off=e.off,b.prototype.fire=e.fire,b.prototype.isRender=function(a){return"undefined"==typeof a?this.isRendered?this.isRendered:!1:void(this.isRendered=a)},b.prototype.animationEnd=function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},b.prototype.transitionEnd=function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},c.inherits(b,d),b}),define("src/web/layer/layerapi",["require"],function(a){var b={},c=window.devicePixelRatio||1;b.prepare=function(a,b,c,d){d=d||c.main,d!==c.main&&c.main.appendChild(d);var e=$(c.main);e.css({top:b.top,left:b.left,right:b.right,bottom:b.bottom}),(b.top||b.bottom)&&(e.css({height:"calc(100% - "+(b.top+b.bottom)+"px)",width:"calc(100% - "+(b.left+b.right)+"px)"}),-1===e.css("height").indexOf("calc")&&(e.css({height:$("body").height()-(b.top+b.bottom),width:$("body").width()+(b.left+b.right)}),$(window).resize(function(){e.css({height:$("body").height()-(b.top+b.bottom),width:$("body").width()+(b.left+b.right)})}))),"entry"!=a&&c.startLoading();var f,g={};if(g.renderData=function(a,b,c){var d=c.main;if($(".page-content",d).hasClass("pull-to-refresh-content")){var e=$("<div></div>").html(a).find(".page-content").html()||a;$(".page-content",d).html(e),c.fire("onrender","",Date.now()+","+f)}else if($(d).attr("data-title-id")&&"undefined"==typeof c.myGroup)$(d).html($(a)),c.fire("onrender","",Date.now()+","+f);else if("undefined"==typeof c.myGroup)$(d).html($(a).children()),c.fire("onrender","",Date.now()+","+f);else{var a=$("<div></div>").html(a).find(".page-content");$(d).html($(a)),c.fire("onrender","",Date.now()+","+f)}},g.url=function(a,b){if("json"===b){var c=(new Date).getTime();a=a.indexOf("?")>0?a+"&&timestamp="+c:a+"?timestamp="+c}return a},g.localStorageData=function(a,b,c){var d=a.main;d.addEventListener("online",function(){location.href=c.url}),d.addEventListener("offline",function(){location.href=c.url});var e=b;b.match(/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/)&&(e=slark.getActiveId()+b);var f="undefined"==typeof Blend.project?a.getProject():Blend.project;if(null!==localStorage.getItem("elong"+f+e)){var h=JSON.parse(localStorage.getItem("elong"+f+e));g.jsonHandle(a,c,b,h,"json")}else a.fire("renderfailed"),console.log("offline no cached data!!")},g.jsonHandle=function(a,b,c,d,e){var h,i,j=c;"undefined"==typeof Blend.project?a.getProject():Blend.project;"object"==typeof d?h=d:"string"==typeof d&&(h=window.JSON.parse(d)),c.match(/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/)&&(j=slark.getActiveId()+c),$(a.main).attr("data-title",h.doctitle),(slark.is_exists(c,"frender")||slark.is_exists(c,"offline"))&&($(a.main).attr("data-title",h.doctitle),$(a.main).attr("data-title-id",c)),a.layerData(h),a.fetchData?a.fire("onrender","",Date.now()+","+f):(i=b.tpl(h),g.renderData(i,e,a))},g.htmlHandle=function(a,b,c){if(-1!==b.indexOf("<html")){var d=b.substring(b.indexOf("<title"),b.indexOf("</title>"));-1!==b.indexOf("<title")&&d&&(document.title=d.replace(/<title[^>]*>/,""),$(a.main).attr("data-title",d.replace(/<title[^>]*>/,""))),a.myGroup&&$(b).find(".page .bar").remove()}b=$(b).find(".page").length>1?$(b).find(".page")[0]:$(b).find(".page"),a.hasState("slidein")?a.once("onshow",function(){g.renderData(b,c,a)}):g.renderData(b,c,a)},g.fetch=function(a,b,c,d){f=Date.now();var e="json"===b?"application/json":"text/html";$.ajax({url:g.url(a.url,b),type:"get",headers:{Accept:e+"; charset=utf-8"},dataType:b,contentType:e,success:function(e){"json"===b?g.jsonHandle(c,a,d,e,b):g.htmlHandle(c,e,b)},error:function(e,f,h){return console.log(b+"renderfailed"),!a.errorHandle||a.errorHandle(e,f,h)?slark.router.getInfoFromId(d)||c.myGroup?void(c.is_offline&&g.localStorageData(c,d,a)):(console.log("jump server"),void(location.href=a.url)):void 0}})},b.tpl&&"function"==typeof b.tpl)if(Blend.ui.activeLayer)if($(c.main).attr("data-title-id")||"undefined"!=typeof c.myGroup)b.withoutData?c.fire("onrender"):g.fetch(b,"json",c,a);else{var d=template(a,{});$(c.main).html($(d).find(".page").children()),c.main.setAttribute("data-title-id",a),c.paint()}else b.withoutData?(c.stopLoading(),c.addState("fetched"),"complete"==document.readyState&&c.fire("onrender")):g.fetch(b,"json",c,a);else g.fetch(b,"html",c,a)},b.resume=function(a){var b;a.myGroup?(console.log("in layer group..."+a.myGroup.index),b=a.myGroup.main):b=document.body.firstElementChild,$("#"+a.main.id).length||b.appendChild(a.main)};var d={};b.startPullRefresh=function(a){var b,c,e=function(){return b=$(a.main).find(".page-content"),b.length?(b.addClass("pull-to-refresh-content"),$(".pull-to-refresh-layer",a.main).length||$(".page-content",a.main).before('<div class="pull-to-refresh-layer"> <div class="preloader"></div><div class="pull-to-refresh-arrow"></div><div class="pull-to-refresh-label"></div> </div>'),c=$(".pull-to-refresh-layer",a.main).css("padding-top",b.css("padding-top")),void c.css("margin-top",b.position().top)):(console.log("pull to refresh should has .page-content"),!1)};if(e(),b.length){var f,g,h,i,j,k={},l=!1,m=!1,n=0,o=function(b){b.removeClass("refreshing").addClass("transitioning"),$(".pull-to-refresh-label",c).text(a.loadingText),a.transitionEnd(function(){b.removeClass("transitioning"),c.removeClass("pull-up refreshing")})},p=function(b){a.transitionEnd(function(){b.removeClass("transitioning")})};d.handleTouchStart=function(a){return f?!1:(0===b.parent().length&&e(),b.hasClass("refreshing")?!1:(g=!1,f=b[0].scrollTop>0?!1:!0,h=void 0,k.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,k.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,void(j=(new Date).getTime())))},d.handleTouchMove=function(d){if(!f)return!1;var e="touchmove"===d.type?d.targetTouches[0].pageX:d.pageX,j="touchmove"===d.type?d.targetTouches[0].pageY:d.pageY;if("undefined"==typeof h&&(h=!!(h||Math.abs(j-k.y)>Math.abs(e-k.x))),!h)return f=!1,!1;if(g||(b.removeClass("transitioning"),n=c.hasClass("refreshing")?44:0,m=!0),g=!0,i=j-k.y,0>i&&!b[0].style.webkitTransform)return f=!1,!1;if(b.hasClass("refreshing"))d.preventDefault(),i>0?b[0].style.webkitTransform="translate3d(0,"+(Math.pow(i,.85)+n)+"px,0)":b[0].style.webkitTransform="translate3d(0, -"+(Math.pow(-i,.85)-n)+"px,0)";else{if(!(i>0&&b[0].scrollTop<=0||c.hasClass("pull-up")))return void(l=!1);m&&(d.preventDefault(),b[0].style.webkitTransform="translate3d(0,"+(Math.pow(i,.85)+n)+"px,0)"),m&&Math.pow(i,.85)>44||!m&&i>=88?(l=!0,c.addClass("pull-up"),$(".pull-to-refresh-label",c).text(a.releaseText)):(l=!1,c.removeClass("pull-up"),$(".pull-to-refresh-label",c).text(a.pullText))}},d.handleTouchEnd=function(d){return b.hasClass("refreshing")?!1:f&&g?(b.scrollTop<=5&&b.scrollTop(0),b.addClass("transitioning"),b[0].style.webkitTransform="",l?(c.addClass("refreshing"),b.addClass("refreshing"),$(".pull-to-refresh-label",c).text(a.loadingText),a.fire("layerPullDown"),a.once("layerPullEnd",function(){o(b)})):p(b),f=!1,void(g=!1)):(f=!1,g=!1,!1)},a.on("touchstart",d.handleTouchStart),a.on("touchmove",d.handleTouchMove),a.on("touchend",d.handleTouchEnd)}},b.isRefreshing=function(a){var b=$(a.main).find(".page-content");return b.hasClass("refreshing")},b.endPullRefresh=function(a){a.fire("layerPullEnd")},b.stopPullRefresh=function(a){$(a.main).removeClass("pull-to-refresh-content"),a.off("touchstart",d.handleTouchStart),a.off("touchmove",d.handleTouchMove),a.off("touchend",d.handleTouchEnd)};var e={};return b.startSwipe=function(a,b){var d,f,g,h,i,j,k,l=!1,m=!1,n={},o=!0;f=$(a.main),b=b||$(".pages"),console.log("startSwipe init ... "+a.id);var p=0;e.handleTouchStart=function(a){return!o||l?!1:(m=!1,l=!0,d=void 0,n.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,n.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,void(k=(new Date).getTime()))},e.handleTouchMove=function(e){if(!l)return!1;var k="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(j=k-n.x,"undefined"==typeof d&&(d=!!(d||Math.abs(o-n.y)>Math.abs(j))),d)return l=!1,!1;if(!m||0>m*j){m=!1;var q=!1;i=b.width();var r=a.myGroup.getIdByStep(j>0?-1:1);if(console.log("re init layer prvious...",r),g&&(g[0].style.webkitTransform=""),h=a.myGroup.__layers[r],g=$(h.main),r===a.id?q=!0:j>0?g.removeClass("page-on-right").addClass("page-on-left"):g.removeClass("page-on-left").addClass("page-on-right"),p&&Math.abs(n.x-b.offset().left)>p&&(q=!0),(0===g.length||0===f.length)&&(q=!0),q)return l=!1,!1}m=j>0?1:-1,e.preventDefault();var s=Math.abs(j/i);f[0].style.webkitTransform="translate3d("+j+"px,0,0)";var t=j-m*i;1===c&&(t=Math.round(t)),g[0].style.webkitTransform="translate3d("+t+"px,0,0)",g[0].style.opacity=.9+.1*s},e.handleTouchEnd=function(b){if(!l||!m)return l=!1,m=!1,!1;if(l=!1,m=!1,0===j)return $([f[0],g[0]]).css({opacity:"",boxShadow:""}),f[0].style.webkitTransform="",g[0].style.webkitTransform="",!1;var c=Math.abs(j),d=(new Date).getTime()-k,e=!1;(300>d&&c>10||d>=300&&c>i/2)&&(j>0?(f.removeClass("page-on-center page-on-left").addClass("page-on-right"),g.removeClass("page-on-right page-on-left").addClass("page-on-center")):(f.removeClass("page-on-center page-on-right").addClass("page-on-left"),g.removeClass("page-on-right page-on-left").addClass("page-on-center")),e=!0),$([f[0],g[0]]).css({opacity:"",boxShadow:""}).addClass("page-transitioning"),f[0].style.webkitTransform="",g[0].style.webkitTransform="",o=!1,e&&(h.fire("beforeshow"),a.fire("beforehide")),a.transitionEnd(function(){$([f[0],g[0]]).removeClass("page-transitioning"),o=!0,e&&(h.fire("onshow"),a.fire("onhide"))})},a.on("touchstart",e.handleTouchStart),a.on("touchmove",e.handleTouchMove),a.on("touchend",e.handleTouchEnd)},b.endSwipe=function(a){a.off("touchstart",e.handleTouchStart),a.off("touchmove",e.handleTouchMove),a.off("touchend",e.handleTouchEnd)},b.backLayer=function(a){blend.get(a).out()},b}),define("src/common/loader",["require"],function(a){var b={},c=function(a,b){var c=document.createElement("script");c.setAttribute("src",a),document.head.appendChild(c),c.onload=function(){b&&b(c)}};return b.getScript=function(a,b,d){for(var e=0,f=0,g=b.length;g>f;f++)c(b[f],function(){e++,e===g&&d()})},b.runScript=function(a,b){$("script",a).length&&$("script",a).each(function(){"text/custom"===$(this).attr("type")&&""!==$.trim($(this).html())?window.eval("slark.get('"+b+"').layerData("+$(this).html()+")"):window.eval($(this).html())})},b}),define("src/web/Layer",["require","../common/lib","../web/WebControl","../web/blend","../web/layer/layerapi","../common/loader"],function(a){var b=a("../common/lib"),c=a("../web/WebControl"),d=a("../web/blend"),e=a("../web/layer/layerapi"),f=!1,g=a("../common/loader"),h=function(a){return c.call(this,a),this._init(a),this};return b.inherits(h,c),h.prototype.onload=h.prototype.beforeshow=h.prototype.beforehide=b.noop,h.prototype.constructor=h,h.prototype.top=0,h.prototype.bottom=0,h.prototype.left=0,h.prototype.right=0,h.prototype.pullText="下拉刷新...",h.prototype.loadingText="加载中...",h.prototype.releaseText="释放刷新...",h.prototype.controllerData=null,h.prototype._init=function(a){var b=this;return $(this.main).addClass("page"),a.title&&$(this.main).attr("data-title",a.title),e.resume(this),a.main&&"undefined"==typeof a.myGroup?(this.addState("got"),d.ready(function(){var c=$(a.main).data("blend-id"),d=Blend.ui.get(a.id),e="undefined"==typeof Blend.ui.project?b.getProject():Blend.ui.project,f=a.is_frender||null!==localStorage.getItem("elong"+e+c)&&a.is_offline;if(d.tpl&&"function"==typeof d.tpl&&f){if(a.is_offline){var g=template(c,{});$(".page[data-blend-id="+c+"]").html("").append($(g).find(".page").children())}else b.fetchData=!0;d.main.setAttribute("data-title-id",c),b._initEvent(),d.withoutData?d.hasState("fetched")&&d.fire("onrender"):d.paint()}else"html"===d.tpl?($(d.main).attr("data-title",document.title),$(d.main).attr("data-title-id",c),b._initEvent(),a.is_hash?b.paint():b.fire("onrender")):console.log("front render no template")})):b._initEvent(),this.url?this.autoload&&this.render():console.log("###No url for render###"),this.once("onrender",function(){b.ptrFn&&(b.pullToRefresh=!0),b.pullToRefresh&&(b.on("layerPullDown",function(a){b.ptrFn&&b.ptrFn(a)}),e.startPullRefresh(b))}),a.active&&b["in"](),"undefined"!=typeof a.index&&this.main.setAttribute("data-blend-index",a.index),this},h.prototype.getProject=function(){var a,b=location.pathname.split("/");return a="3000"===location.port?Blend.ui.project?Blend.ui.project:b[2]:Blend.ui.project?Blend.ui.project:b[1]},h.prototype.layerData=function(a){var b=this,c=this.getProject();if("string"==typeof a&&(a=JSON.parse(a)),"object"==typeof a.controller&&(b.controllerData=a.controller),"undefined"!=typeof b.myGroup&&b.is_offline){var d=slark.getActiveId();localStorage["elong"+c+d+b.id]=JSON.stringify(a)}else b.is_offline&&(localStorage["elong"+c+b.id]=JSON.stringify(a))},h.prototype._initEvent=function(){var a=this;"none"===this.layerAnimate?f=!0:this.layerAnimate&&$(this.main).addClass(this.layerAnimate),a.on("out",a.beforehide),a.on("onrender",function(b){var c="undefined"!=typeof b.originalEvent?b.originalEvent.detail:b.detail,d=Blend.ui.get(c).main;g.runScript(d,c),a.stopLoading(),a.removeState("get"),a.addState("got")}),a.on("renderfailed",function(b){a.stopLoading(),a.removeState("get")}),a.on("onshow",function(b){a.render(),a.myGroup&&d.layerStack.pop(),a.myGroup?a.myGroup.activeId=b.detail:d.layerStack.push(d.activeLayer)}),a.on("beforedestroy",function(b){a.pullToRefresh&&(e.stopPullRefresh(a),a.on("layerPullDown",a.ptrFn))})},h.prototype.type="layer",h.prototype.loadingTime=500,h.prototype.paint=function(){var a=this;if(""!==a.url&&"undefined"!=typeof a.url)return e.prepare(a.id,{url:a.url,top:a.top,left:a.left,bottom:a.bottom,right:a.right,tpl:a.tpl,withoutData:a.withoutData,errorHandle:a.errorHandle,pullToRefresh:a.pullToRefresh},a),this},h.prototype["in"]=function(a){if(this.isActive())return void console.log("layer is already activity ");if(this.hasState("slidein"))return console.log("this layer is sliding in."),void this.removeState("slidein");if(a&&a.url){var b=a.url,c=location.host,e=(b.indexOf("#"),b.indexOf(c));e>=0&&(b=b.substring(e+c.length)),a.url=b}a&&(a.url&&decodeURI(a.url)!==decodeURI(this.url)||a.force)&&(console.log("layer url changed to..."+a.url),this.setUrl(a.url),this.removeState("got"),this.main.innerHTML=""),this.render();var g=this;this.addState("slidein");var h=!1;this.myGroup&&this.myGroup.isActive()&&this.myGroup.idtoindex(this.myGroup.activeId)>this.index&&(h=!0);var i,j,k,l;if(i=$(this.main),j=this,this.myGroup){var m=this.myGroup;this.myGroup.isActive()||(i=$(m.main),j=m),m.activeId===j.id?(console.log("group.activeId is already activity,no need to slide out "+m.activeId),k=$()):(k=$(m.__layers[m.activeId].main),l=m.__layers[m.activeId])}else k=d.activeLayer,l=d.get(k.attr("data-blend-id"));!this.myGroup||this.myGroup.isActive()||(i=$(this.myGroup.main),j=this.myGroup,j.activeId!==this.id&&($(j.__layers[j.activeId].main).addClass("page-on-right").removeClass("page-on-center"),$(j.__layers[this.id].main).removeClass("page-on-right").addClass("page-on-center"))),a&&a.reverse?h=!h:this.lindex&&this.lindex&&l.lindex&&l.lindex>this.lindex&&(h=!h),this.myGroup&&k.parent().hasClass("layerGroup")||this.isSubLayer()&&(k=$());var n,o;h?(n="right",o="left"):(n="left",o="right"),f?(i.removeClass("page-on-left page-on-right").addClass("page-on-center"),k.removeClass("page-on-center").addClass("page-on-"+n)):(k.removeClass("page-on-center").addClass("page-from-center-to-"+n),i.removeClass("page-on-right").removeClass("page-on-left").addClass("page-from-"+o+"-to-center")),g.fire("beforeshow"),l&&l.fire("beforehide");var p=function(){g.removeState("slidein"),g.fire("onshow"),l&&l.fire("onhide")};return f?p():j.animationEnd(function(){k.removeClass(function(a,b){return(b.match(/\bpage-from\S+/g)||[]).join(" ")}),i.removeClass(function(a,b){return(b.match(/\bpage-from\S+/g)||[]).join(" ")});var a;a=g.myGroup?$(g.myGroup.__layers[g.myGroup.activeId].main):d.activeLayer,a.attr("data-blend-id")!==k.attr("data-blend-id")&&k.addClass("page-on-"+n),a.attr("data-blend-id")===i.attr("data-blend-id")&&i.addClass("page-on-center"),p()}),this.myGroup?g.myGroup.activeId=this.id:d.activeLayer=$(g.main),this},h.prototype.out=function(a){var b=this;if(!this.isActive())return void console.log("layer is already inactivity ");this.isRefreshing()&&this.endPullRefresh();var c=d.layerStack.length>1?d.layerStack[d.layerStack.length-2]:$(".page-on-left"),e=$(b.main),g=c,h=d.get(g.attr("data-blend-id")),i=Blend.ui.get(g.attr("data-blend-id"));i&&i.addState("slidein"),this.myGroup&&e.parent().hasClass("layerGroup")||this.isSubLayer()&&(g=$()),f?(g.removeClass("page-on-left").addClass("page-on-center"),e.removeClass("page-on-center").addClass("page-on-right")):(g.removeClass("page-on-left").addClass("page-from-left-to-center"),e.removeClass("page-on-center").addClass("page-from-center-to-right")),b.fire("beforehide"),h&&h.fire("beforeshow");var j=function(){b.fire("onhide"),h&&h.fire("onshow"),d.activeLayer=c,i&&i.removeState("slidein")};return b.myGroup||d.layerStack.pop(),f?j():this.animationEnd(function(){j(),c.removeClass("page-from-left-to-center").addClass("page-on-center"),e.removeClass("page-from-center-to-right").addClass("page-on-right")}),this},h.prototype.reload=function(a,b){var c={url:a,onsuccess:this.onsuccess,onfail:this.onfail,top:this.top,left:this.left,right:this.right,bottom:this.bottom};return this.isRender(!1),e.prepare(this.id,c,this),"function"==typeof b&&this.once("onrender",b),this},h.prototype.isSubLayer=function(){return this.sublayer||this.myGroup?!0:!1},h.prototype.isRefreshing=function(a){return e.isRefreshing(a||this)},h.prototype.stopPullRefresh=function(a){return e.stopPullRefresh(a||this),this},h.prototype.endPullRefresh=function(a){return e.endPullRefresh(a||this),this},h.prototype.destroy=function(){c.prototype.destroy.apply(this,arguments)},h.prototype.replace=function(a){return me.url=a,this},h.prototype.startLoading=function(){$(".preloader-indicator-overlay",this.main).length||$(this.main).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"></div>');var a=$("html");return a.hasClass("android")&&a.css("overflow","hidden"),this},h.prototype.stopLoading=function(){$(".preloader-indicator-overlay",this.main).remove(),$(".preloader-indicator-modal",this.main).remove();var a=$("html");return a.hasClass("android")&&a.css("overflow",""),this},h.prototype.getUrl=function(){return this.url},h.prototype.canGoBack=function(){return d.canGoBack()},h.prototype.clearHistory=function(){console.error("web cant clearHistory")},h.prototype.isActive=function(){return $(this.main).hasClass("page-on-center")},h}),define("src/web/layer/layerGroupApi",["require","./layerapi"],function(a){var b={},c=a("./layerapi"),d=window.devicePixelRatio||2;return b.create=function(a,b,e,f){var g={id:a||uniqid(),infos:b};e.active&&(g.active=e.active);var h={};["left","top","width","height"].forEach(function(a,b){void 0!==e[a]&&(h[a]=e[a]*d)});for(var i,j=0,k=b.length;k>j;j++)i=document.createElement("div"),i.className="page",c.prepare(b[j].id,e,i),f.main.appendChild(i);return a},b.showLayer=function(a,b,c){return c.__layers[b]?(c.__layers[b]["in"](),c.activeId=b):console.warn("no layerid found..."+b),a},b.addLayer=function(a,b){return window.lc_bridge.addLayerInGroup(a,b,index),a},b.removeLayer=function(a,b){return window.lc_bridge.removeLayerInGroup(a,b),a},b.updateLayer=function(a,b,c){return window.lc_bridge.updateLayerInGroup(a,b,c),a},b}),define("src/web/LayerGroup",["require","../web/blend","../common/lib","../web/WebControl","../web/layer/layerGroupApi","../web/layer/layerapi","../web/Layer"],function(a){var b=a("../web/blend"),c=a("../common/lib"),d=a("../web/WebControl"),e=a("../web/layer/layerGroupApi"),f=a("../web/layer/layerapi"),g=a("../web/Layer"),h=!1,i=($("html").hasClass("android"),function(a){d.call(this,a),this._init(a)});c.inherits(i,d),i.prototype.constructor=i,i.prototype.type="layerGroup",i.prototype.top=0,i.prototype.bottom=0,i.prototype.left=0,i.prototype.right=0,i.prototype.index=0,i.prototype._init=function(a){var b=this,d={},e=null;if(b.layers&&b.layers.length){this.routing===!1?this.main.setAttribute("data-routing","false"):this.main.setAttribute("data-routing","true");for(var f=0,g=b.layers.length;g>f;f++)b.layers[f].id||(b.layers[f].id=c.getUniqueID()),b.layers[f].active&&(e?(console.log("active id:"+e+" is already defined.. ignore the coming active ones:"+b.layers[f].id),delete b.layers[f].active):e=b.layers[f].id),b.layers[f].index=f,d[b.layers[f].id]=b.layers[f];return b._layers=d,b.__layers={},b.activeId=e||b.layers[0].id,b.layerArray=[],b.render(),b.once("onrender",function(){b._initEvent(),a.active&&b["in"]()}),b.once("renderfail",function(){console.error("render fail")}),this}};return i.prototype._initEvent=function(){return this.enableSwipe!==!1&&this.initSwipe(),null},i.prototype.paint=function(){var a=this;"none"===this.layerAnimate?h=!0:this.layerAnimate&&$(this.main).addClass(this.layerAnimate),"undefined"!=typeof this.parent?$(this.main).addClass("layerGroup page page-on-center").appendTo(this.parent):$(this.main).addClass("layerGroup page page-on-center").appendTo(b.activeLayer),$(this.main).css({top:a.top,left:a.left,right:a.right,bottom:a.bottom}),(a.top||a.bottom)&&($(this.main).css({height:"calc(100% - "+(a.top+a.bottom)+"px)",width:"calc(100% - "+(a.left+a.right)+"px)"}),-1===$(this.main).css("height").indexOf("calc")&&($(this.main).css({height:$("body").height()-(a.top+a.bottom),width:$("body").width()+(a.left+a.right)}),$(window).resize(function(){
$(a.main).css({height:$("body").height()-(a.top+a.bottom),width:$("body").width()+(a.left+a.right)})})));for(var c in this._layers)this.add(this._layers[c]);return this},i.prototype.active=function(a){return e.showLayer(this.id,a,this),this},i.prototype.idtoindex=function(a){return this._layers[a].index||0},i.prototype.indextoid=function(a){return a>=this.layers.length?a=this.layers.length-1:0>a&&(a=0),this.index=a,this.layers[a].id},i.prototype.getIdByStep=function(a){return this.index=this.idtoindex(this.activeId),this.indextoid(this.index+a)},i.prototype.next=function(){this.index=this.idtoindex(this.activeId);var a=this.indextoid(++this.index);return e.showLayer(this.id,a,this),this},i.prototype.prev=function(){this.index=this.idtoindex(this.activeId);var a=this.indextoid(--this.index);return e.showLayer(this.id,a,this),this},i.prototype.remove=function(a){return e.removeLayer(this.id,a),delete this._layers[a],this},i.prototype.add=function(a,b){var d=this;a.id||(a.id=c.getUniqueID());var e=Blend.ui.activeLayer.attr("data-blend-id");if(a.tpl="undefined"!=typeof template&&template.get(e)&&"function"==typeof template.get(e)?template.get(e):e,a.groupId=e,this._layers[a.id]&&this.__layers[a.id])return console.log("layerid:"+a.id+" in group has already exist..."),a.url&&this._layers[a.id].url!==a.url,this.__layers[a.id]["in"](),void(this.__layers[a.id].force&&this.__layers[a.id].onrender());d.onshow&&(a.onshow=d.onshow),d.beforeshow&&(a.beforeshow=d.beforeshow),d.onrender&&(a.onrender=d.onrender),a.myGroup=this;var f=new g(a);return this.__layers[a.id]=f,this._layers[a.id]=a,0===b?this.layerArray.unshift(f):this.layerArray.push(f),this.main.appendChild(f.main),this},i.prototype.update=function(a,b){return e.updateLayer(this.id,a,b),c.extend(this._layers[b.id],b),this},i.prototype["in"]=function(){return this.isActive()?void console.log("layergroup is already active."):void this.__layers[this.activeId]["in"]()},i.prototype.out=function(){var a=this;if(!this.isActive())return void console.log("layer group is already inactivity ");var c=b.layerStack.length>1?b.layerStack[b.layerStack.length-2]:$(".page-on-left:first");h?(c.removeClass("page-on-left").addClass("page-on-center"),$(a.main).removeClass("page-on-center").addClass("page-on-right")):(c.removeClass("page-on-left").addClass("page-from-left-to-center"),$(a.main).removeClass("page-on-center").addClass("page-from-center-to-right")),b.layerStack.pop();var d=function(){a.fire("onhide")};return h?d():this.animationEnd(function(){d(),c.removeClass("page-from-left-to-center").addClass("page-on-center"),$(a.main).removeClass("page-from-center-to-right").addClass("page-on-right")}),this},i.prototype.destroy=function(a){d.prototype.destroy.apply(this,arguments)},i.prototype.initSwipe=function(){for(var a in this._layers)f.startSwipe(this.__layers[a],$(this.main))},i.prototype.isActive=function(){return $(this.main).hasClass("page-on-center")},i}),define("src/web/main",["./blend","./Layer","./LayerGroup"],function(a,b,c){"use strict";return a=a||{},a.Layer=b,a.LayerGroup=c,window.Blend=window.Blend||{},window.Blend.ui=a,a}),define("src/fw/util",[],function(){var a={};return a.isLowDevice=function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("iemobile")||-1!==a.indexOf("android")&&(/ucbrowser\/[2-9]\./.test(a)||/android [1-2]\./.test(a))?!0:!1}(),a.supports=function(b,c){return a.hasSupport()===!1?!1:"undefined"==typeof c?CSS.supports(b)||window.supportsCSS&&supportsCSS(b):CSS.supports(b,c)||window.supportsCSS&&supportsCSS(b,c)},a.hasSupport=function(){return!!(window.CSS&&window.CSS.supports||window.supportsCSS)},a.animationEnd=function(){var b;if(a.hasSupport()){var c={"-webkit-transform":"webkitAnimationEnd","-o-transform":"oAnimationEnd","-moz-transform":"AnimationEnd","-ms-transform":"msAnimationEnd",transform:"animationEnd"};for(b in c)if(a.supports(b,"initial"))return a.transform=b,c[b]}else{var d=document.createElement("element"),c={WebkitTransform:"webkitAnimationEnd",OTransform:"oAnimationEnd",MozTransform:"AnimationEnd",MsTransform:"msAnimationEnd",transform:"animationEnd"};for(b in c)if(void 0!==d.style[b])return a.transform=b,c[b]}}(),a.transitionEnd=function(){var b;if(a.hasSupport()){var c={"-webkit-transition":"webkitTransitionEnd","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-ms-transition":"msTransitionEnd",transition:"transitionend"};for(b in c)if(a.supports(b,"initial"))return a.transition=b,c[b]}else{var d=document.createElement("element"),c={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",MozTransition:"transitionend",MsTransition:"msTransitionEnd",transition:"transitionend"};for(b in c)if(void 0!==d.style[b])return a.transition=b,c[b]}}(),a.moveWidget=function(b,c,d,e){a.isLowDevice||!a.animationEnd?(b.addClass("page-on-"+d),b.removeClass("page-on-"+c),e&&e()):(b.bind(a.animationEnd,function(){b.addClass("page-on-"+d),b.removeClass("page-on-"+c),b.removeClass("page-from-"+c+"-to-"+d),e&&e(),b.unbind(a.animationEnd)}),b.removeClass("page-on-"+c).addClass("page-from-"+c+"-to-"+d))},a.removeZeroOfDate=function(a){return"0"==a.charAt(0)?a.substring(1):a},a.getElementLeft=function(a){for(var b=a.offsetLeft,c=a.offsetParent;null!==c;)b+=c.offsetLeft,c=c.offsetParent;return b},a.getElementTop=function(a){for(var b=a.offsetTop,c=a.offsetParent;null!==c;)b+=c.offsetTop,c=c.offsetParent;return b},a.getElementVisibleLeft=function(a){for(var b=a.offsetLeft,c=a.offsetParent;null!==c;)b+=c.offsetLeft,b-=c.scrollLeft,c=c.offsetParent;return $(c).hasClass("page")&&(b-=c.scrollLeft),b},a.getElementVisibleTop=function(a){for(var b=a.offsetTop,c=a.offsetParent;null!==c;)b+=c.offsetTop,b-=c.scrollTop,c=c.offsetParent;return $(c).hasClass("page")&&(b-=c.scrollTop),b},a.getLanguage=function(a,b,c){if(!b)return"";var d=b[a];if(!d)return"";if(c&&c.length>0)for(var e=0;e<c.length;e++)d=d.replace(new RegExp("\\{"+e+"\\}","g"),c[e]);return d},a.getHash=function(a){for(var b=location.hash.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d.length>1&&a==d[0])return d[1]}return null},a.setHash=function(b){if(b&&b.length){for(var c=location.hash,d=c,e=function(b,d){var e=c.indexOf(b),f=c.charAt(e+b.length);if(d){if(0===c.length)return void(c=b+"="+d);if(e>0&&("="==f||"&"==f||""===f)){var g=(a.getHash(b),c.substring(e)),f=g.indexOf("&");return g=g.substring(0,f>0?f:g.length),void(c=c.replace(g,b+"="+d))}return void(c+="&"==c.charAt(c.length-1)?"":"&"+b+"="+d)}},f=0;f<b.length;f++){var g=b[f];e(g.name,g.value)}"#"!==c.charAt(0)&&(c="#"+c),d!=c&&History.replaceState(this.getActiveId(),document.title,location.pathname+location.search+c)}},a.clone=function(b){var c=null;if(b)if("object"!=typeof b)c=b;else{c=b.constructor==Array?[]:{};for(var d in b)c[d]=a.clone(b[d])}else c=b;return c},a.smartFloat=function(a){return a=Math.round(100*a),a/100},a.countTimer={},a.countTimer.set=function(){},a.countTimer.clear=function(){},a.getParam=function(a){var b=location.search.substring(1).split("&");if(1!=b.length||""!=b[0])for(var c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return d[1]}},a.handleBlankPaint=function(a,b,c,d){window.applicationCache.addEventListener("updateready",function(a){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),confirm("存在最新数据，是否刷新")&&window.location.reload())},!1)},a.testVersion=function(a){if(0==ElongBridge.RUNTIME_VERSION)return!1;for(var b=ElongBridge.RUNTIME_VERSION.split("."),c=a.split("."),d=!1,e=0;e<b.length;e++)b[e]=parseInt(b[e]),c[e]=parseInt(c[e]);return b.length>2&&(b[0]>c[0]?d=!0:b[0]==c[0]&&(b[1]>c[1]?d=!0:b[1]==c[1]&&b[2]>=c[2]&&(d=!0))),d},a.setAppNavBar=function(){"undefined"!=typeof ElongBridge&&a.testVersion("9.10.0")&&ElongBridge.setNavbar({data:[{key:"title",content:document.title,priority:0}],onsuccess:function(){console.log("set navbar title success")},onfail:function(){console.log("set navbar title faile")}})},a}),define("src/fw/router",[],function(){var a=function(){this.routers={}};return a.prototype.add=function(a){for(var b in a)a[b].url_pattern||(a[b].url_pattern=new RegExp(a[b].url,"i")),this.routers[b]=a[b]},a.prototype.getInfoFromId=function(a){if("string"!=typeof a)return void console.warn("router-getinfofromurl-warning. id is not string");for(var b in this.routers)if(this.routers[b].tpl===a)return this.routers[b]},a.prototype.getInfoFromUrl=function(a){if("string"!=typeof a)return void console.warn("router-getinfofromurl-warning. url is not string");if(a.indexOf("#!i!/")>0){var b=a.indexOf("!&")>0?a.indexOf("!&"):a.length,c=a.substring(a.indexOf("#!i!/")+5,b);return this.routers[c]}var d,e,f;for(var g in this.routers)this.routers[g].url_pattern.test(a)&&(f=a.match(this.routers[g].url_pattern)[0].length,d?f>e&&(d=this.routers[g],e=f):(d=this.routers[g],e=f));return d},a.prototype.getidFromUrl=function(a){var b=this.getInfoFromUrl(a);return b&&b.tpl},a.prototype.getUrlFromTpl=function(a){return this.routers[a]&&this.routers[a].url||""},a.prototype.cleanUrl=function(a,b,c,d){if(!b)return!1;"string"!=typeof b&&(b=this.getidFromUrl(a)),"undefined"!=typeof c&&(b=d);var e=this.getUrlFromTpl(b);return"undefined"!=typeof this.routers[b].is_hash&&this.routers[b].is_hash===!0?this.getUrlFromHashUrl(a,b):a.substring(a.lastIndexOf(e))},a.prototype.getUrlFromHashUrl=function(a,b){var c="";return a.indexOf("!&")>0&&(c=a.substr(a.indexOf("!&")).replace(/!&/g,"&&").replace("&&","?")),a.indexOf("?")>0&&(c+=a.substr(a.indexOf("?"))),"string"!=typeof b&&(b=this.getidFromUrl(a)),this.routers[b].is_hash===!0?this.getUrlFromTpl(b)+c:void 0},a.prototype.getTplFromHashUrl=function(a){if(a.indexOf("#!i!/")>0){var b=a.indexOf("!&")>0?a.indexOf("!&"):a.length,c=a.substring(a.indexOf("#!i!/")+5,b);return c}return"undefined"!=typeof this.getidFromUrl(a)?this.getidFromUrl(a):void 0},a.prototype.getHashFromUrl=function(a){var b=this.getInfoFromUrl(a),c=location.pathname;return-1!==a.indexOf("#!i!/")&&(c=a.substr(0,a.indexOf("#!i!/"))),c+="#!i!/"+b.tpl,a.split("?").length>1&&(c+="!&"+a.split("?")[1].replace(/&&/g,"!&")),c},a});var Zepto=function(){function a(a){return null==a?String(a):U[V.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return"number"==typeof a.length}function h(a){return D.call(a,function(a){return null!=a})}function i(a){return a.length>0?x.fn.concat.apply([],a):a}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in G?G[a]:G[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a,b){return"number"!=typeof b||H[j(a)]?b:b+"px"}function m(a){var b,c;return F[a]||(b=E.createElement(a),E.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),F[a]=c),F[a]}function n(a){return"children"in a?C.call(a.children):x.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function o(a,b,c){for(w in b)c&&(f(b[w])||Z(b[w]))?(f(b[w])&&!f(a[w])&&(a[w]={}),Z(b[w])&&!Z(a[w])&&(a[w]=[]),o(a[w],b[w],c)):b[w]!==v&&(a[w]=b[w])}function p(a,b){return null==b?x(a):x(a).filter(b)}function q(a,c,d,e){return b(c)?c.call(a,d,e):c}function r(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function s(a,b){var c=a.className||"",d=c&&c.baseVal!==v;return b===v?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function t(a){try{return a?"true"==a||("false"==a?!1:"null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?x.parseJSON(a):a):a}catch(b){return a}}function u(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)u(a.childNodes[c],b)}var v,w,x,y,z,A,B=[],C=B.slice,D=B.filter,E=window.document,F={},G={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=E.createElement("table"),Q=E.createElement("tr"),R={tr:E.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":E.createElement("div")},S=/complete|loaded|interactive/,T=/^[\w-]*$/,U={},V=U.toString,W={},X=E.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(a){return a instanceof Array};return W.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=X).appendChild(a),d=~W.qsa(e,b).indexOf(a),f&&X.removeChild(a),d},z=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},A=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})},W.fragment=function(a,b,c){var d,e,g;return J.test(a)&&(d=x(E.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(K,"<$1></$2>")),b===v&&(b=I.test(a)&&RegExp.$1),b in R||(b="*"),g=R[b],g.innerHTML=""+a,d=x.each(C.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=x(d),x.each(c,function(a,b){N.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},W.Z=function(a,b){return a=a||[],a.__proto__=x.fn,a.selector=b||"",a},W.isZ=function(a){return a instanceof W.Z},W.init=function(a,c){var d;if(!a)return W.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&I.test(a))d=W.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}else{if(b(a))return x(E).ready(a);if(W.isZ(a))return a;if(Z(a))d=h(a);else if(e(a))d=[a],a=null;else if(I.test(a))d=W.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}}return W.Z(d,a)},x=function(a,b){return W.init(a,b)},x.extend=function(a){var b,c=C.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){o(a,c,b)}),a},W.qsa=function(a,b){var c,e="#"==b[0],f=!e&&"."==b[0],g=e||f?b.slice(1):b,h=T.test(g);return d(a)&&h&&e?(c=a.getElementById(g))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(h&&!e?f?a.getElementsByClassName(g):a.getElementsByTagName(b):a.querySelectorAll(b))},x.contains=E.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},x.type=a,x.isFunction=b,x.isWindow=c,x.isArray=Z,x.isPlainObject=f,x.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},x.inArray=function(a,b,c){return B.indexOf.call(b,a,c)},x.camelCase=z,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},x.uuid=0,x.support={},x.expr={},x.map=function(a,b){var c,d,e,f=[];if(g(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return i(f)},x.each=function(a,b){var c,d;if(g(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},x.grep=function(a,b){return D.call(a,b)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){U["[object "+b+"]"]=b.toLowerCase()}),x.fn={forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,indexOf:B.indexOf,concat:B.concat,map:function(a){return x(x.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return x(C.apply(this,arguments))},ready:function(a){return S.test(E.readyState)&&E.body?a(x):E.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===v?C.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return B.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):x(D.call(this,function(b){return W.matches(b,a)}))},add:function(a,b){return x(A(this.concat(x(a,b))))},is:function(a){return this.length>0&&W.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):g(a)&&b(a.item)?C.call(a):x(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return x(c)},has:function(a){return this.filter(function(){return e(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:x(a)},find:function(a){var b,c=this;return b=a?"object"==typeof a?x(a).filter(function(){var a=this;return B.some.call(c,function(b){return x.contains(b,a)})}):1==this.length?x(W.qsa(this[0],a)):this.map(function(){return W.qsa(this,a)}):x()},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=x(a));c&&!(e?e.indexOf(c)>=0:W.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return x(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=x.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return p(b,a)},parent:function(a){return p(A(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return n(this)}),a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,b){return D.call(n(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=x(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){x(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var b;(b=a.children()).length;)a=b.first();x(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=x(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=x(this);(a===v?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;x(this).empty().append(q(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=q(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(e(a))for(w in a)r(this,w,a[w]);else r(this,a,q(this,b,c,this.getAttribute(a)))}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&a.split(" ").forEach(function(a){r(this,a)},this)})},prop:function(a,b){return a=Y[a]||a,1 in arguments?this.each(function(c){this[a]=q(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(M,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?t(d):v},val:function(a){return 0 in arguments?this.each(function(b){this.value=q(this,a,b,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=x(this),d=q(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d,e=this[0];if(!e)return;if(d=getComputedStyle(e,""),"string"==typeof b)return e.style[z(b)]||d.getPropertyValue(b);if(Z(b)){var f={};return x.each(b,function(a,b){f[b]=e.style[z(b)]||d.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=j(b)+":"+l(b,c):this.each(function(){this.style.removeProperty(j(b))});else for(w in b)b[w]||0===b[w]?g+=j(w)+":"+l(w,b[w])+";":this.each(function(){this.style.removeProperty(j(w))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?B.some.call(this,function(a){return this.test(s(a))},k(a)):!1},addClass:function(a){return a?this.each(function(b){if("className"in this){y=[];var c=s(this),d=q(this,a,b,c);d.split(/\s+/g).forEach(function(a){x(this).hasClass(a)||y.push(a)},this),y.length&&s(this,c+(c?" ":"")+y.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===v)return s(this,"");y=s(this),q(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(k(a)," ")}),s(this,y.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var d=x(this),e=q(this,a,c,s(this));e.split(/\s+/g).forEach(function(a){(b===v?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===v?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===v?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=L.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(x(a).css("margin-top"))||0,c.left-=parseFloat(x(a).css("margin-left"))||0,d.top+=parseFloat(x(b[0]).css("border-top-width"))||0,d.left+=parseFloat(x(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||E.body;a&&!L.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});x.fn[a]=function(e){var f,g=this[0];return e===v?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=x(this),g.css(a,q(this,e,b,g[a]()))})}}),O.forEach(function(b,c){var d=c%2;x.fn[b]=function(){var b,e,f=x.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:W.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var h=x.contains(E.documentElement,e);f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return x(a).remove();e.insertBefore(a,b),h&&u(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},x.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return x(a)[b](this),this}}),W.Z.prototype=x.fn,W.uniq=A,W.deserializeValue=t,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||h.test(a.ns))&&(!f||b(a.fn)===b(f))&&(!g||a.sel==g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){var e=2 in arguments&&n.call(arguments,2);if(o(c)){var f=function(){return c.apply(d,e?e.concat(n.call(arguments)):arguments)};return f._zid=b(c),f}if(p(d))return e?(e.unshift(c[d],c),a.proxy.apply(null,e)):a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){b.type in t&&"function"==typeof this[b.type]?this[b.type]():"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return 0 in arguments?this.bind(b,a):this.trigger(b)}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/,z=s.createElement("a");z.href=window.location.href,a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c,e=a.extend({},b||{}),i=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===e[p]&&(e[p]=a.ajaxSettings[p]);d(e),e.crossDomain||(c=s.createElement("a"),c.href=e.url,c.href=c.href,e.crossDomain=z.protocol+"//"+z.host!=c.protocol+"//"+c.host),e.url||(e.url=window.location.toString()),m(e);var n=e.dataType,o=/\?.+=\?/.test(e.url);if(o&&(n="jsonp"),e.cache!==!1&&(b&&b.cache===!0||"script"!=n&&"jsonp"!=n)||(e.url=l(e.url,"_="+Date.now())),"jsonp"==n)return o||(e.url=l(e.url,e.jsonp?e.jsonp+"=?":e.jsonp===!1?"":"callback=?")),
a.ajaxJSONP(e,i);var r,t=e.accepts[n],u={},v=function(a,b){u[a.toLowerCase()]=[a,b]},w=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,x=e.xhr(),A=x.setRequestHeader;if(i&&i.promise(x),e.crossDomain||v("X-Requested-With","XMLHttpRequest"),v("Accept",t||"*/*"),(t=e.mimeType||t)&&(t.indexOf(",")>-1&&(t=t.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(t)),(e.contentType||e.contentType!==!1&&e.data&&"GET"!=e.type.toUpperCase())&&v("Content-Type",e.contentType||"application/x-www-form-urlencoded"),e.headers)for(q in e.headers)v(q,e.headers[q]);if(x.setRequestHeader=v,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=j,clearTimeout(r);var b,c=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==w){n=n||k(e.mimeType||x.getResponseHeader("content-type")),b=x.responseText;try{"script"==n?(1,eval)(b):"xml"==n?b=x.responseXML:"json"==n&&(b=y.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?h(c,"parsererror",x,e,i):g(b,x,e,i)}else h(x.statusText||null,x.status?"error":"abort",x,e,i)}},f(x,e)===!1)return x.abort(),h(null,"abort",x,e,i),x;if(e.xhrFields)for(q in e.xhrFields)x[q]=e.xhrFields[q];var B="async"in e?e.async:!0;x.open(e.type,e.url,B,e.username,e.password);for(q in u)A.apply(x,u[q]);return e.timeout>0&&(r=setTimeout(function(){x.onreadystatechange=j,x.abort(),h(null,"timeout",x,e,i)},e.timeout)),x.send(e.data?e.data:null),x},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var A=encodeURIComponent;a.param=function(b,c){var d=[];return d.add=function(b,c){a.isFunction(c)&&(c=c()),null==c&&(c=""),this.push(A(b)+"="+A(c))},o(d,b,c),d.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c,d=[],e=function(a){return a.forEach?a.forEach(e):void d.push({name:b,value:a})};return this[0]&&a.each(this[0].elements,function(d,f){c=f.type,b=f.name,b&&"fieldset"!=f.nodeName.toLowerCase()&&!f.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&"file"!=c&&("radio"!=c&&"checkbox"!=c||f.checked)&&e(a(f).val())}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(0 in arguments)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){return b=b||[],a.extend(b,a.fn),b.selector=c||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}}(Zepto),define("lib/zepto",function(){}),define("lib/zepto.history",["./zepto"],function(){("undefined"==typeof History||"undefined"==typeof History.Adapter)&&(!function(a,b){"use strict";var c=a.History=a.History||{},d=a.Zepto;if("undefined"!=typeof c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){new d(a).bind(b,c)},trigger:function(a,b){new d(a).trigger(b)},extractEventData:function(a,c){var d=c&&c[a]||b;return d},onDomLoad:function(a){new d(a)}},"undefined"!=typeof c.init&&c.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;try{f=a.sessionStorage,f.setItem("TEST","1"),f.removeItem("TEST")}catch(o){f=!1}if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(a){return"undefined"==typeof m.Adapter?!1:("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(o){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.disableSuid=m.options.disableSuid||!1,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.options.html4Mode=m.options.html4Mode||!1,m.options.delayInit=m.options.delayInit||!1,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var a,b,e,f,g,h=!("undefined"==typeof c||"undefined"==typeof c.log||"undefined"==typeof c.log.apply),i=d.getElementById("log");for(h?(f=Array.prototype.slice.call(arguments),a=f.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[a,f]):c.log.apply(c,[a,f])):a="\n"+arguments[0]+"\n",b=1,e=arguments.length;e>b;++b){if(g=arguments[b],"object"==typeof g&&"undefined"!=typeof k)try{g=k.stringify(g)}catch(j){}a+="\n"+g+"\n"}return i?(i.value+=a+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):h||l(a),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.options.html4Mode?m.emulated={pushState:!0,hashChange:!0}:m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a,b=m.getState(!1,!1),c=(b||{}).url||m.getLocationHref();return a=c.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=m.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.getLocationHref=function(a){return a=a||d,a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash?a.location.href:-1==a.URL.indexOf("#")&&-1!=a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b,c=m.extractId(a.url);if(!c)if(b=m.getStateString(a),"undefined"!=typeof m.stateToId[b])c=m.stateToId[b];else if("undefined"!=typeof m.store.stateToId[b])c=m.store.stateToId[b];else{for(;;)if(c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof m.idToState[c]&&"undefined"==typeof m.store.idToState[c])break;m.stateToId[b]=c,m.idToState[c]=a}return c},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(a.url?a.url:m.getLocationHref()),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&m.options.disableSuid!==!0&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d,e;return e=-1!=a.indexOf("#")?a.split("#")[0]:a,c=/(.*)\&_suid=([0-9]+)$/.exec(e),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c,d,e=null;return b=b||!1,c=m.extractId(a),c&&(e=m.getStateById(c)),e||(d=m.getFullUrl(a),c=m.getIdByUrl(d)||!1,c&&(e=m.getStateById(c)),e||!b||m.isTraditionalAnchor(a)||(e=m.createStateObject(null,null,d))),e},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b,c=!1;return b=m.extractState(a.url),c=b&&b.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b,c,d,e=!1;return m.savedStates.length&&(b=a.id,c=m.getLastSavedState(),d=c.id,e=b===d),e},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:0>a?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getCurrentIndex=function(){var a=null;return a=m.savedStates.length<1?0:m.savedStates.length-1},m.getHash=function(a){var b,c=m.getLocationHref(a);return b=m.getHashByUrl(c)},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=decodeURIComponent(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(m.busy(!0),c=m.extractState(a,!0),c&&!m.emulated.pushState?m.pushState(c.data,c.title,c.url,!1):m.getHash()!==a&&(m.bugs.setHash?(e=m.getPageUrl(),m.pushState(null,null,e+"#"+a,!1)):d.location.hash=a),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.encodeURIComponent(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var b,c=a.title;c||(b=m.getStateByIndex(0),b&&b.url===a.url&&(c=b.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=c,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b,c=m.extractState(m.getLocationHref());if(!m.isLastSavedState(c))return b=c,b||(b=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;a>=c;++c)m.forward(b);else{if(!(0>a))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var p=function(){};m.pushState=m.pushState||p,m.replaceState=m.replaceState||p}else m.onPopState=function(b,c){var d,e=!1,f=!1;return m.doubleCheckComplete(),d=m.getHash(),e=m.Adapter.extractEventData("state",b,c)||!1,f=e?m.getStateById(e):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(m.getLocationHref()),f||(f=m.createStateObject(null,null,m.getLocationHref())),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0)},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(q){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(m.getLocationHref(),!0))),f&&(m.onUnload=function(){var a,b,c;try{a=k.parse(f.getItem("History.store"))||{}}catch(d){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),c=k.stringify(a);try{f.setItem("History.store",c)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;f.length&&(f.removeItem("History.store"),f.setItem("History.store",c))}},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),("Apple Computer, Inc."===e.vendor||"Mozilla"===(e.appCodeName||""))&&(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.options&&m.options.delayInit||m.init()}(window))}),define("src/fw/bindevents",["../../lib/zepto.history"],function(){$(document).on("click","a[href='#']",function(a){return!1}),$(document).on("click",".label-switch",function(a){var b=$(this).find(".checkbox");return b.hasClass("active")?b.removeClass("active").attr("data-checkbox","false"):b.addClass("active").attr("data-checkbox","true"),!1}),$(document).on("click",".label-radio",function(a){var b=$(a.currentTarget);if(!b.hasClass("label-radio_disabled")){var c=$(a.currentTarget).attr("data-group");$(".label-radio[data-group="+c+"] .checkbox").removeClass("checked");var d=$(this).find(".checkbox");return d.addClass("checked"),!1}}),$(document).on("click",".label-checkbox",function(a){var b=$(this).find(".checkbox");return b.hasClass("checked")?b.removeClass("checked"):b.addClass("checked"),!1}),$(document).on("click","[data-rel=back]",function(a){var b=Date.now()-slark.initTime;if(1200>b)return!1;var c=$(this).attr("href"),d=$(this).attr("data-href"),e=c+location.hash;return"JavaScript:void(0);"==c?!1:"no"==d?!1:(d&&"null"!=d?slark.addPager({url:d,active:!0,reverse:!0}):slark.isLowDevice||slark.canGoBack()||c===location.href||e===location.href?History.back():c&&slark.addPager({url:c,active:!0,reverse:!0}),!1)});var a={},b={};$(document).on("beforeshow",function(c){var d=$(c.srcElement||c.target),e="undefined"!=typeof c.originalEvent?c.originalEvent.detail:c.detail;if("layer"===d.attr("data-blend")){var f=$(d).attr("data-blend-id");if("layerGroup"===d.parent().attr("data-blend")){f=$(d).parents("div[data-blend=layer]").attr("data-blend-id");var g=slark.is_exists(f,"is_hash")?slark.router.getHashFromUrl(d.attr("data-url")):d.attr("data-url");"false"===d.parent().attr("data-routing")||(slark.get(slark.getActiveId()).url=d.attr("data-url"),slark.getActiveLayer().attr("data-url",d.attr("data-url")),History.replaceState({blendid:d.attr("data-blend-id")},document.title,g))}else{var g=slark.is_exists(f,"is_hash")?slark.router.getHashFromUrl(d.attr("data-url")):d.attr("data-url");a[e]||(a[e]=!0,d.attr("data-title")?History.pushState({blendid:d.attr("data-blend-id")},d.attr("data-title"),g):History.pushState({blendid:d.attr("data-blend-id")},d.attr("data-title")||d.attr("data-blend-id"),g)),d.attr("data-title")?(document.title&&document.title!==d.attr("data-title")&&History.replaceState(d.attr("data-blend-id"),d.attr("data-title"),g),b[d.attr("data-blend-id")]=d.attr("data-title")):b[d.attr("data-blend-id")]=!1}}}),$(document).on("onrender",function(a){var c=$(a.srcElement||a.target);b[c.attr("data-blend-id")]===!1&&c.attr("data-title")&&(b[c.attr("data-blend-id")]=c.attr("data-title"),History.replaceState(c.attr("data-blend-id"),c.attr("data-title"),location.href))}),$(document).on("onshow",function(b){var c=$(b.srcElement||b.target),d="undefined"!=typeof b.originalEvent?b.originalEvent.detail:b.detail;"layer"===c.attr("data-blend")&&(a[d]=!1)}),History.Adapter.bind(window,"statechange",function(){var c=History.getState(),d=slark.router.getidFromUrl(c.url);if(!slark.getActiveId()||slark.getActiveId()&&d===slark.getActiveId())return void console.log("active id === state layerid, return;");var e=slark.router.cleanUrl(c.url,d);b[d]&&b[d]!=document.title&&(document.title=b[d]),d&&a[d]!==!0&&slark.getActiveId()!==d&&(slark.get(d)?(slark.get(d).myGroup||(a[d]=!0),slark.is_exists(d,"is_hash")&&(e=slark.router.getUrlFromHashUrl(e,d)),slark.get(d)["in"]({url:e})):(a[d]=!0,slark.addPager({url:c.url,active:!0})))})}),define("src/fw/core",["../web/main","../fw/util","../fw/router","../fw/bindevents","../../lib/zepto"],function(a,b,c){if("undefined"!=typeof slark)return slark;a=Blend.ui;var d={};d.initTime=Date.now(),d.is_exists=function(a,b){var c=this.router.routers[a];return"undefined"!=typeof c&&"undefined"!=typeof c[b]&&c[b]===!0},d.needHashUrl=function(a){var b=this.router.routers[a];return"undefined"!=typeof b&&!!b.needHashUrl},d.onrender=function(b,c){"function"==typeof b?$(document).on("onrender",b):a.layerInit(b,c)},d.onreload=function(){},d.router=new c,d.addPager=function(b){var c,e,f=d.isLowDevice?!0:!1;return e=b.id?d.router.getInfoFromId(b.id):d.router.getInfoFromUrl(b.url),e?(b.title=e.title,c=b.id=e.tpl,b.lindex=e.lindex,b.is_frender=e.is_frender,b.is_hash=e.is_hash,b.is_offline=e.is_offline,b.errorHandle=e.errorHandle,b.withoutData=e.withoutData):f=!0,f&&!b.main?(location.href=b.url,!1):("undefined"!=typeof template&&"undefined"==typeof b.tpl?b.tpl=template.get(e.tpl)&&"function"==typeof template.get(e.tpl)?template.get(e.tpl):b.id:"undefined"==typeof b.tpl&&(b.tpl=b.id),b.url=d.router.cleanUrl(b.url,b.id),c&&d.get(c)?void d.get(c)["in"](b):new a.Layer(b))},d.addGroup=function(b){return"undefined"!=typeof template&&"undefined"!=typeof template.get(d.getActiveId())?new a.LayerGroup(b):new a.LayerGroup(b)},d.get=function(b){return a.get(b)},d.canGoBack=function(){return a.canGoBack()},d.getActiveId=function(){return a.activeLayer?a.activeLayer.attr("data-blend-id"):0},d.getActiveLayer=function(){return a.activeLayer};for(var e in b)d[e]=b[e];return d.init=function(b){if(1===$(".pages>.page").length||1===$(".doc-page .pages>.page").length){var c=$(".pages>.page");if(!c.attr("data-blend")){var e,f,g=location.pathname+location.search,h=d.router.getInfoFromUrl(location.href);"undefined"!=typeof h&&"unedfiend"!==h.is_hash&&h.is_hash===!0&&(f=location.hash,f&&f.indexOf("!&")?(e=f.substr(f.indexOf("!&")).replace(/!&/g,"&&").replace("&&","?"),g=h.url+e):g=h.url),c.addClass("page-on-center");var i=h&&h.is_frender===!0?"template":"html";"undefined"!=typeof template&&(i=template.get(h.tpl)&&"function"==typeof template.get(h.tpl)?template.get(h.tpl):"html"),a.project=b;new d.addPager({url:g,main:c[0],tpl:i,active:!0})}}},d.ui=a,window.slark=d,d}),define("src/js/core",["../fw/core"],function(a){return a}),function(){var a,b=navigator.userAgent.toLowerCase(),c="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,d=screen.width/document.body.clientWidth!==1&&screen.height/document.body.clientHeight!==1,e=d?screen.width/c:screen.width,f=d?screen.height/c:screen.height,g=e>=600&&f>=600,h=/ ew(\w+)\/([\d.-_]*)/.test(b);a=h?1:location.host.match(/^m[\w\.]*\.elong\.com/)?2:4;var i=99;b.match(/android/)?i=g?8:3:b.match(/iphone/)?i=1:b.match(/ipad/)?i=2:b.match(/macintosh/)?i=7:b.match(/windows/)&&(i=-1!==b.indexOf("Touch")?g?9:5:7);var j=500,k=(new Date).getTime(),l=function(){var a="https:"===location.protocol?"msecure.elong.com":"tj.elongstatic.com",b="//"+a+"/t.gif?",c={g:Math.floor(99999*Math.random()),rf:"",bs:screen?screen.width+"*"+screen.height:""},d=[];for(var e in c)d.push(e+"="+c[e]);return b+=d.join("&")}(),m={fetchStart:"p88",domainLookupStart:"p89",domainLookupEnd:"p90",connectStart:"p91",connectEnd:"p92",requestStart:"p93",responseStart:"p94",responseEnd:"p95",domLoading:"p96",domContentLoadedEventEnd:"p97",loadEventEnd:"p99"},n=function(a,b){var c={},d={};if(a&&a.timing){for(var e in a.timing)"number"==typeof a.timing[e]&&b<a.timing[e]&&(b=a.timing[e]);for(var e in m)c[e]=a.timing[e]||b;for(var f in c){var g=m[f];g&&(d[g]=c[f])}}return d},o=function(a,b){var c={};c.timing={};for(var d in m)c.timing[d]=a;return c.timing.domContentLoadedEventEnd=b,c.timing.loadEventEnd=b,c};document.addEventListener("onrender",function(a){if("string"==typeof a.data1&&-1!==a.data1.indexOf(",")){var b=a.data1.split(","),c=o(b[1],b[0]);r.pt=a.detail,r.p98=b[0],r.__sendObj(c)}});var p=function(){this.vt=a,this.appt=i,document.cookie.match(/SessionGuid=([\w-]*)/)&&(this.sid=document.cookie.match(/SessionGuid=([\w-]*)/)[1]),document.cookie.match(/CookieGuid=([\w-]*)/)&&(this.cid=document.cookie.match(/CookieGuid=([\w-]*)/)[1]),navigator.connection&&(this.nt=navigator.connection.type),this.ch="webapp",this.pt="tjonly",this.p1="",this.p98=k},q=function(a,b){var c=n(a,k+j);for(var d in b)b[d]&&"function"!=typeof b[d]&&(c[d]=b[d]);var e="";for(var f in c)e=e+"&"+f+"="+c[f];(new Image).src=l+e};p.prototype.__sendObj=function(a){var b=this,c=(new Date).getTime();c-k>=j||a&&a.timing&&a.timing.loadEventEnd?q(a,b):setTimeout(function(){q(a,b)},j-c+k)},p.prototype.setChannel=function(a,b,c,d){a&&(this.ch=a),b&&(this.pt=b),c&&(this.p1=c),d&&(this.cardno=d),this.__sendObj(window.performance)};var r=new p;!function(){var a={23:"http://www.elongstatic.com/hc/status.html",88:"http://m.elongstatic.com/hc/status.html",1:"http://pavo.elongstatic.com/hc/status.html"},b=parseInt(100*Math.random());try{if(a[b]){var c=(new Date).getTime(),d=new p;window.req=new XMLHttpRequest,req.timeout=3e3,req.onreadystatechange=function(){if(4===req.readyState){var e=(new Date).getTime(),f=o(c,e);d.ch="monitor",d.pt=req.status>0&&req.status<500?"cdnmonitor":"cdnerror",e-c>2e3&&(d.pt="cdnerror"),d.p98=e,d.p81=req.status,d.p82=a[b].match(/([^\/]*)\.elongstatic/)[1],d.p83=k,d.p85=req.getResponseHeader("chinacacheip")||"",d.__sendObj(f)}},req.open("HEAD",a[b],!0),req.send(null)}}catch(e){}}(),window.onerror=function(a,b,c,d,e){q(null,{ch:"webapp",pt:"jserror",p75:a,p76:b,p77:k,p78:r.ch+"_"+r.pt,p79:e?e.stack:a})},"function"==typeof define&&define.amd?define("src/js/j",[],function(){"use strict";return r}):"undefined"!=typeof module&&module.exports&&(module.exports.tjClient=r),window.tjClient=r}(),define("src/fw/PluginManager",["../fw/core"],function(a){function b(c,d){for(var e in d)c[e]?"object"==typeof c[e]&&"object"==typeof d[e]&&b(c[e],d[e]):"object"==typeof d[e]?c[e]=a.clone(d[e]):c[e]=d[e]}!function(){if(location.href.indexOf("&!_PLU_")>0){var b=a.getActiveId();History.replaceState(b,document.title,location.href.split("&!_PLU_")[0]+location.hash)}}(),PluginManager={plugins:{},isHashChangeByPlugin:!1,lastUrl:location.href,maskNum:0,advancedMaskNum:0,showPluginNum:0,base:{id:null,option:{showLoad:!1,showTransition:!1,showType:"animation",transitionClass:""},init:function(){},Beforeinit:function(){a.isPad&&"animation"==this.option.showType?this.option.showLoad=!0:this.page&&this.page.hasClass("page-plugin")&&(a.isPad&&(this.option.showLoad=!0),this.option.showTransition=!0)},page:null,beforeShow:function(){return!1},lastShowArguments:null,show:function(){if(!this.beforeShow.apply(this,arguments)){var b=$("html"),c=this.page;if($("html").hasClass("android")?b.css("overflow","hidden"):(a.getActiveLayer().find(".page-content").css("overflow","hidden!important"),PluginManager._removeOverflow(c.find(".page-content"))),a.getActiveLayer().addClass("fixed"),PluginManager.showPluginNum++,"animation"==this.option.showType)c.addClass("plugin-show"),a.moveWidget(c,"right","center");else{var d=this;a.transitionEnd&&this.option.showTransition?(c.addClass("page-transitioning"),c.off(a.transitionEnd).on(a.transitionEnd,function(){c.removeClass("page-transitioning"),c.addClass("plugin-show"),c.off(a.transitionEnd)})):c.addClass("plugin-show"),setTimeout(function(){c.addClass(d.option.transitionClass)},0)}if(this.option.showLoad&&PluginManager.showLoad(),this.afterShow.apply(this,arguments),this.lastShowArguments=arguments,location.href.indexOf("&!_PLU_"+this.id)<0){var e=a.getActiveId(),f=location.pathname+(""===location.search?"?_=1":location.search)+"&!_PLU_"+this.id+location.hash;PluginManager.isHashChangeByPlugin=!0,History.pushState(e,document.title,f)}}},afterShow:function(){},beforeHide:function(){},hide:function(){if(!this.beforeHide()){var b=this.page;if("animation"==this.option.showType&&b.hasClass("page-on-center"))a.moveWidget(b,"center","right",function(){b.removeClass("plugin-show")});else{a.transitionEnd&&this.option.showTransition?(b.addClass("page-transitioning"),b.removeClass("plugin-show"),b.off(a.transitionEnd).on(a.transitionEnd,function(){b.removeClass("page-transitioning"),b.off(a.transitionEnd)})):b.removeClass("plugin-show"),b.removeClass(this.option.transitionClass)}PluginManager.showPluginNum>0&&PluginManager.showPluginNum--,0===PluginManager.showPluginNum&&a.getActiveLayer().removeClass("fixed"),this.option.showLoad&&PluginManager.removeLoad();var c=$("html");c.hasClass("android")?c.css("overflow",""):PluginManager._removeOverflow(a.getActiveLayer().find(".page-content")),this.afterHide(),location.href.indexOf("&!_PLU_"+this.id)>0&&(PluginManager.isHashChangeByPlugin=!0,History.back())}},afterHide:function(){},destroy:function(){this.page.detach(),a.getActiveLayer().removeClass("fixed")},restore:function(b){var c=a.get(b);this.page.appendTo(c.main)}},add:function(c,d){var e=this.getCurrentPagePlugins();e||(e={},this.setCurrentPagePlugins(e));b(d,this.base),d.id=c,d.Beforeinit(),d.init(),d.destroy(),d.restore(a.getActiveId()),d.page.addClass("plugin-inited"),"animation"==d.option.showType&&d.page.addClass("page-plugin"),e[c]=d},getCurrentPagePlugins:function(){return this.plugins[a.getActiveId()]},setCurrentPagePlugins:function(b){this.plugins[a.getActiveId()]=b},getItem:function(a){var b=this.getCurrentPagePlugins();return b?b[a]:null},remove:function(a){var b=this.getCurrentPagePlugins();b[a].destroy(),delete b[a]},removePluginBeforePageHide:function(a){var b=this.plugins[a];if(b)for(var c in b)b[c].destroy()},restorePluginBeforePageShow:function(a){var b=this.plugins[a];if(b)for(var c in b)b[c].restore(a)},showLoad:function(){a.getActiveLayer().children(".mask-layer").length?a.getActiveLayer().children(".mask-layer").show():$("<div class='mask-layer'></div>").appendTo(a.getActiveLayer()),this.maskNum++},removeLoad:function(){this.maskNum>0&&this.maskNum--,0===this.maskNum&&$(".mask-layer",a.getActiveLayer()).hide()},showAdvancedLoad:function(){a.getActiveLayer().children(".advanced-mask-layer").length?a.getActiveLayer().children(".advanced-mask-layer").show():$("<div class='advanced-mask-layer'></div>").appendTo(a.getActiveLayer());
},removeAdvancedLoad:function(){$(".advanced-mask-layer",a.getActiveLayer()).hide()},_removeOverflow:function(a){a.each(function(){var a=$(this),b=a.attr("style");if("string"!=typeof b)return!0;for(var c=b.split(";"),d=0;d<c.length;d++){var e=c[d];if(e.indexOf("overflow")>=0){a.attr("style",b.replace(e+";",""));break}}})}};var c=function(a){PluginManager.restorePluginBeforePageShow(a.detail)},d=function(a){PluginManager.removePluginBeforePageHide(a.detail)};return $(document).on("beforehide",d),$(document).on("onshow",c),History.Adapter.bind(window,"statechange",function(a){var b=location.href,c=PluginManager.lastUrl;if(PluginManager.lastUrl=location.href,PluginManager.isHashChangeByPlugin)return void(PluginManager.isHashChangeByPlugin=!1);var d=null,e=null;if(b.length>c.length){d=b.split("&!_PLU_");var f=d[d.length-1];if(f=f.substring(0,f.indexOf("#")),e=PluginManager.getItem(f),!e)return;e.lastShowArguments?e.show.apply(e,e.lastShowArguments):e.show()}else d=c.split("&!_PLU_"),e=PluginManager.getItem(d[d.length-1].split("#")[0]),e?e.hide():null}),PluginManager}),define("src/js/PluginManager",["../fw/PluginManager"],function(a){return a}),define("entry/train/js/dialog",["src/js/core","src/js/PluginManager"],function(a,b){var c=($('<div class="dialog"></div>'),$("html")),d=function(){},e=function(){};e.prototype={init:function(){this.page=$('<div class="dialog"></div>')},config:{content:"请选择相应的操作",btnArr:[{}],mask:!0,clickMask:function(){}},option:{showType:"transition",transitionClass:"dialog-active",showTransition:!1},beforeShow:function(a,b){c.hasClass("android")&&c.css("overflow","hidden"),b?this.showRadio(a):this.showDialog(a)},showDialog:function(c){for(var d=$.extend(this.config,c),e="",f=this,g=0;g<d.btnArr.length;g++)e+=c.btnArr.length>1?'<div class="item-btn item-btn'+c.btnArr.length+'">'+d.btnArr[g].text+"</div>":'<div class="item-btn">'+d.btnArr[g].text+"</div>";e='<div class="dialog-footer">'+e+"</div>",b.showAdvancedLoad(),$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){d.clickMask()}),this.page.html('<div class="content">'+d.content+"</div>"+e),this.page.find(".item-btn").each(function(a){"button"==d.btnArr[a].type&&$(this).on("click",function(){var b=d.btnArr[a].click();b!==!1&&f.hide()})})},showRadio:function(c){var d=$.extend({title:"请选择一项",defaultSelected:1,defaultIdSelected:"",radioArr:[{}],success:function(){},cancel:function(){},maskClosed:!1,mask:!0,clickMask:function(){}},c),e="",f="",g="",h="",i=this,j=this.page;if(d.radioArr.length>0)for(var k=0;k<d.radioArr.length;k++)e+='<li class="radio-item"><label class="label-radio clearfix"><div class="radio-icon"><span class="radio"></span></div><div class="radio-text" data-rid="'+d.radioArr[k].id+'">'+d.radioArr[k].text+"</div></label></li>";if(b.showAdvancedLoad(),$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){d.clickMask()}),d.maskClosed&&$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){i.hide()}),c.success&&(f='<div class="item-btn radio-success" data-selected="">确定</div>'),c.cancel&&(g='<div class="item-btn radio-cancel">取消</div>'),j.html('<div class="radio-title">'+d.title+"</div><ul>"+e+"</ul>"+f+g),j.find("ul li").each(function(a){d.radioArr[a].click&&$(this).on("click",function(){var b=$(this);d.radioArr[a].click(b),i.hide()})}),""!==d.defaultIdSelected)j.find('[data-rid="'+d.defaultIdSelected+'"]').parents("li").find(".radio").addClass("selected");else if(d.defaultSelected>0){var l=j.find("li").eq(d.defaultSelected-1);l.find(".radio").addClass("selected"),j.find(".radio-success").data("selected",l.find(".radio-text").data("rid"))}d.radioArr.length>0&&j.find(".label-radio").on("click",function(){$(this).parent().siblings().find(".radio").removeClass("selected"),$(this).find(".radio").addClass("selected"),h=$(this).find(".radio-text").data("rid"),j.find(".radio-success").data("selected",h)}),c.success&&j.find(".radio-success").on("click",function(){var a=$(this);d.success(a),i.hide()}),c.cancel&&j.find(".radio-cancel").on("click",function(){d.cancel(),i.hide()})},afterHide:function(){$(a.getActiveLayer()).off("click",".advanced-mask-layer"),c.hasClass("android")&&c.css("overflow",""),b.removeAdvancedLoad()}};var f={currentPageDialog:null,init:function(a){this.currentPageDialog=b.getItem("dialog"),this.currentPageDialog&&0!=this.currentPageDialog.page.parents("html").length&&0!=$(".dialog").length?a?a():null:(this.currentPageDialog=new e,b.add("dialog",this.currentPageDialog),a&&setTimeout(a,10))},show:function(a){var b=this;this.init(function(){b.currentPageDialog.show(a)})},radioShow:function(a){var b=this;this.init(function(){b.currentPageDialog.show(a,!0)})},alert:function(a,b){"object"==typeof a&&(opt=a,a=opt.content,b=opt.click);var c={content:a,btnArr:[{text:"确 定",color:"#ed6d18",type:"button",click:b||d}]};f.show(c)},newAlert:function(a){var b=$.extend({msg:"请选择相应的操作",btnText:"确 定",callback:function(){}},a),c={content:b.msg,btnArr:[{text:b.btnText,color:"#E65749",type:"button",click:b.callback}]};f.show(c)},confirm:function(a){a.success||(a.success=function(){}),a.cancel||(a.cancel=function(){});var b={content:a.content,text:a.text?a.text:["确定","取消"],btnArr:[{text:a.text&&a.text[0]?a.text[0]:"确定",color:"#fff",tinct:"#e65749",type:"button",click:a.success},{text:a.text&&a.text[1]?a.text[1]:"取消",color:"#e65749",type:"button",click:a.cancel}]};f.show(b)},moreconfirm:function(a){a.first||(a.first=function(){}),a.second||(a.second=function(){}),a.third||(a.third=function(){});var b={content:a.content,text:a.text,btnArr:[{text:a.text[0],color:"#fff",tinct:"#e65749",type:"button",click:a.first},{text:a.text[1],color:"#fff",tinct:"#e65749",type:"button",click:a.second},{text:a.text[2],color:"#fff",tinct:"#e65749",type:"button",click:a.third}]};f.show(b)},superconfirm:function(a){a.cancel||(a.cancel=function(){});var b={content:a.content,btnArr:[{text:"取 消",color:"#757575",type:"button",click:a.cancel}]};if(a&&a.btnArr)for(var c=a.btnArr.length-1;c>=0;c--){var d=a.btnArr[c];b.btnArr.unshift({text:d.name,color:"#E65749",type:"button",click:d.event})}f.show(b)},radiocomfirm:function(a){f.radioShow(a)}};return f}),define("entry/train/js/route",["src/js/core"],function(a){a.router.add({entry:{lindex:1,tpl:"entry",url:"http://m.elong.com/train/",is_frender:!0,is_hash:!0,is_offline:!0,url_pattern:/\/train/},orderlist:{lindex:2,tpl:"orderlist",url:"http://m.elong.com/train/orderlist",is_frender:!0,is_hash:!0,is_offline:!0},orderdetail:{lindex:3,tpl:"orderdetail",url:"http://m.elong.com/train/orderdetail",is_frender:!0,is_hash:!0,is_offline:!0},activity:{lindex:5,tpl:"activity",url:"http://m.elong.com/train/activity",is_frender:!0,is_hash:!0,is_offline:!0},list:{lindex:6,tpl:"list",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/list"},detail:{lindex:7,tpl:"detail",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/detail"},order:{lindex:8,tpl:"order",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/order"},success:{lindex:9,tpl:"success",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/success"},ordererror:{lindex:10,tpl:"ordererror",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/ordererror"},insurance:{lindex:11,tpl:"insurance",url:"insurance.html"},order12306:{lindex:12,tpl:"order12306",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/order12306"},login12306:{lindex:100,tpl:"login12306",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/login12306"},regist12306:{lindex:101,tpl:"regist12306",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/regist12306"},registcode:{lindex:102,tpl:"registcode",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/registcode"},registsuccess:{lindex:103,tpl:"registsuccess",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/registsuccess"},bind12306:{lindex:104,tpl:"bind12306",is_hash:!0,is_frender:!0,is_offline:!0,url:"http://m.elong.com/train/bind12306"}})}),define("src/js/dateextend",["../../lib/zepto"],function(){$.extend(Date.prototype,{format:function(a){a=a||"yyyy-MM-dd";var b=this.toArray(),c={"M+":b[1]+1,"d+":b[2],"h+":b[3],"m+":b[4],"s+":b[5],"q+":Math.floor((b[1]+3)/3),S:b[6]};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(b[0]+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return a},isLeapYear:function(){var a=this.getFullYear();return 0===a%4&&(a%100!==0||a%400===0)},daysInMonth:function(){return[31,0,31,30,31,30,31,31,30,31,30,31][this.getMonth()]||(this.isLeapYear()?29:28)},dayOfYear:function(){return Math.ceil((this.getTime()-new Date(this.getFullYear(),0,1).getTime())/Date.MSINDAY)},add:function(a,b){if(1==b||2==b){var c=new Date(this);return 1==b?c.setYear(c.getFullYear()+a):c.setMonth(c.getMonth()+a),c}return new Date(this.getTime()+[1,0,0,Date.MSINDAY,Date.MSINHOUR,Date.MSINMINUTE,Date.MSINSECOND,1][b||7]*a)},date:function(a){for(var b=this.toArray(),c=a||3;7>c;c++)b[c]=2==c?1:0;return new Date(b[0],b[1],b[2],b[3],b[4],b[5],b[6])},toArray:function(){return[this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()]},equal:function(a,b){if(typeof this!=typeof a)return!1;var c=this.toArray();a=a.toArray();for(var d=0;(b||7)>d;d++)if(c[d]!=a[d])return!1;return!0},diff:function(a,b){if(1==b||2==b){var c=this.getFullYear()-a.getFullYear();return 2==b?12*c+this.getMonth()-a.getMonth():c}return b=[1,0,0,Date.MSINDAY,Date.MSINHOUR,Date.MSINMINUTE,Date.MSINSECOND,1][b||7],this.getTime()/b-a.getTime()/b}}),$.extend(Date,{parseDate:function(a,b){switch(typeof a){case"object":case"number":a=new Date(a);break;case"string":a=new Date(isNaN(a)?a.trim().replace(/\-/g,"/"):parseInt(a))}return"Invalid Date"==a?b:a},MSINSECOND:1e3,MSINMINUTE:6e4,MSINHOUR:36e5,MSINDAY:864e5})}),define("entry/train/js/calendar",["src/js/dateextend","src/js/core"],function(a,b){$.extend($.fn,{calendar:function(a){function c(a,b){return a>>b&1}function d(){k=3!=arguments.length?new Date:new Date(arguments[0],arguments[1],arguments[2]);var a,b,d,e,f=!1,g=k.getYear();for(1900>g&&(g+=1900),a=365*(g-1921)+Math.floor((g-1921)/4)+m[k.getMonth()]+k.getDate()-38,k.getYear()%4==0&&k.getMonth()>1&&a++,b=0;;b++){for(e=l[b]<4095?11:12,d=e;d>=0;d--){if(a<=29+c(l[b],d)){f=!0;break}a=a-29-c(l[b],d)}if(f)break}h=1921+b,i=e-d+1,j=a,12==e&&(i==Math.floor(l[b]/65536)+1&&(i=1-i),i>Math.floor(l[b]/65536)+1&&i--)}function e(){var a="",b=11>j?"初":20>j?"十":30>j?"廿":"三十";return(j%10!=0||10==j)&&(b+=n.charAt((j-1)%10)),"初一"==b?(1>i?(a+="(闰)",a+=o.charAt(-i-1)):a+=o.charAt(i-1),a+="月"):(a+=11>j?"初":20>j?"十":30>j?"廿":"三十",(j%10!=0||10==j)&&(a+=n.charAt((j-1)%10))),a}function f(a,b,c){return 1921>a||a>2020?"":(b=parseInt(b)>0?b-1:11,d(a,b,c),e())}function g(a,b,c){return f(a,b,c)}a=$.extend({mindate:new Date(1970,0,1),maxdate:new Date(2050,12,31),text:"出发",startText:"开始",endText:"结束",isDouble:!1,isDeepNight:!1,tag:{week:["日","一","二","三","四","五","六"]},eventCallBack:function(a){},beforeSelected:function(a){return!0},festivaltag:{"1-1":["元旦"],"2-14":["情人节"],"3-8":["妇女节"],"5-1":["劳动节"],"6-1":["儿童节"],"10-1":["国庆"],"12-24":["平安夜"],"12-25":["圣诞节"]},cnfestivaltag:{"2016-2-7":["除夕"],"2016-2-8":["春节"],"2016-2-22":["元宵节"],"2016-4-4":["清明"],"2016-5-1":["劳动节"],"2016-6-9":["端午节"],"2016-6-19":["父亲节"],"2016-7-1":["建党"],"2016-8-1":["建军"],"2016-8-9":["七夕"],"2016-8-17":["中元节"],"2016-9-10":["教师节"],"2016-9-15":["中秋节"],"2016-10-9":["重阳节"],"2016-10-31":["万圣节"],"2016-11-24":["感恩节"],"2017-1-5":["腊八"],"2017-1-23":["小年"],"2017-1-27":["除夕"],"2017-2-14":["情人节"],"2017-2-11":["元宵节"]},holidaytag:{"2016-1-1":["休"],"2016-1-2":["休"],"2016-1-3":["休"],"2016-2-6":["班"],"2016-2-7":["休"],"2016-2-8":["休"],"2016-2-9":["休"],"2016-2-10":["休"],"2016-2-11":["休"],"2016-2-12":["休"],"2016-2-13":["休"],"2016-2-14":["班"],"2016-4-2":["休"],"2016-4-3":["休"],"2016-4-4":["休"],"2016-4-30":["休"],"2016-5-1":["休"],"2016-5-2":["休"],"2016-6-9":["休"],"2016-6-10":["休"],"2016-6-11":["休"],"2016-6-12":["班"],"2016-9-15":["休"],"2016-9-16":["休"],"2016-9-17":["休"],"2016-9-18":["班"],"2016-10-1":["休"],"2016-10-2":["休"],"2016-10-3":["休"],"2016-10-4":["休"],"2016-10-5":["休"],"2016-10-6":["休"],"2016-10-7":["休"],"2016-10-8":["班"],"2016-10-9":["班"]}},a);var h,i,j,k,l=new Array(100),m=new Array(12),n="一二三四五六七八九十",o="正二三四五六七八九十冬腊";l=new Array(2635,333387,1701,1748,267701,694,2391,133423,1175,396438,3402,3749,331177,1453,694,201326,2350,465197,3221,3402,400202,2901,1386,267611,605,2349,137515,2709,464533,1738,2901,330421,1242,2651,199255,1323,529706,3733,1706,398762,2741,1206,267438,2647,1318,204070,3477,461653,1386,2413,330077,1197,2637,268877,3365,531109,2900,2922,398042,2395,1179,267415,2635,661067,1701,1748,398772,2742,2391,330031,1175,1611,200010,3749,527717,1452,2742,332397,2350,3222,268949,3402,3493,133973,1386,464219,605,2349,334123,2709,2890,267946,2773,592565,1210,2651,395863,1323,2707,265877),m[0]=0,m[1]=31,m[2]=59,m[3]=90,m[4]=120,m[5]=151,m[6]=181,m[7]=212,m[8]=243,m[9]=273,m[10]=304,m[11]=334;var p,q,r=this,s={el:"",data:""},t={el:"",data:""},u={el:"",data:""},v={el:"",data:""},w=!1,x=!0,y=!0,z=null;q=$("<div>").addClass("cld page-plugin"),b.getActiveLayer()?q.appendTo(b.getActiveLayer()):document.body.appendChild(q[0]);var A=function(){q.html("");var b=a.maxdate.diff(a.mindate,2),c=[],d={header:"",left:"",right:""};d.header=$('<header class="bar bar-nav"><h1 class="title">'+a.text+"日期</h1></header>").appendTo(q),d.left=$('<a class="icon icon-back pull-left hide-cln"></a>').appendTo(d.header),d.right=$("<a></a>").addClass("cld-title-year pull-right icon").appendTo(d.header),p=$('<div class="page-content">').appendTo(q),d.left.bind("click",function(){z.hide()}),C();for(var e=0;b>=e;e++){var f=new Date(a.mindate.format("yyyy-MM")+"-01"),h=(new Date).getMonth()+1,i=f.add(e,2),j=i.getDay(),k=i.daysInMonth(),l=0,m={};m.wrap=$("<section class='cld-item'>"),m.date=$("<h1 class='cld-titleDate'>"+i.format("yyyy年MM月")+"</h1>").appendTo(m.wrap),m.days=$('<ul class="cld-day">').appendTo(m.wrap);for(var n=0;42>n;n++)if(n>=j&&k>l){var o=i.add(l,3);l++;var r=g(2016,h+e,l),s=$('<li><span class="date-elem">'+l+'</span><span class="N_date">'+r+"</span></li>").attr("data-day",o.format()).appendTo(m.days);B(s,o,l),y&&s.addClass("disabled")}else{if(n>=28&&n%7===0)break;$("<li>").appendTo(m.days)}c.push(m)}for(e=0;e<c.length;e++)c[e].wrap.appendTo(p);for(var t=$('<ul class="cld-title bar">').appendTo(q),u=0;u<a.tag.week.length;u++){var v=$("<li>").text(a.tag.week[u]);v.appendTo(t)}},B=function(b,c,d,e){var f=new Date,g=a.festivaltag[[c.getMonth()+1,c.getDate()].join("-")],h=a.cnfestivaltag[[c.getFullYear(),c.getMonth()+1,c.getDate()].join("-")],i=a.holidaytag[[c.getFullYear(),c.getMonth()+1,c.getDate()].join("-")];if(a.isDeepNight&&c.format("yyyy-MM-dd")===f.add(-1,3).format("yyyy-MM-dd")&&b.html('<div><span class="festival">'+d+'</span><span class="festivalText">深夜</span></div>'),c.equal(f,3)&&b.html('<div><span class="festival">'+d+'</span><span class="festivalText">今天</span></div>'),c.equal(a.mindate,3)?y=!1:c.equal(a.maxdate.add(1,3),3)&&(y=!0),g||h){var j;g&&(j=g),h&&(j=h),b.html('<div><span class="festival">'+d+'</span><span class="festivalText">'+j+"</span></div>")}i&&("休"==i?(b.append('<b class="holiday">'+i+"</b>"),b.addClass("holiday")):(b.append('<b class="work">'+i+"</b>"),b.addClass("work"))),"function"==typeof e&&e()},C=function(){"function"==typeof a.eventCallBack&&(a.isDouble?p.on("click",".cld-day li[data-day]",E):p.on("click",".cld-day li[data-day]",D)),$(r).on("click",function(){z.show()})},D=function(){var b=$(this).attr("data-day");return $(this).hasClass("disabled")?!1:a.beforeSelected&&"function"==typeof a.beforeSelected&&!a.beforeSelected(b)?!1:(F($(this),new Date(b).getDate()),s.el=$(this),s.data=b,z.hide(),void a.eventCallBack(b))},E=function(){if($(this).hasClass("disabled")||!x)return!1;var b=$(this).attr("data-day"),c=!!a.beforeSelected&&"function"==typeof a.beforeSelected;if(t.data==b&&w)return I(),void(w=!1);if(!w||new Date(b)<new Date(t.data)){if(c&&!a.beforeSelected(b,null,w))return!1;I(),G($(this),new Date(b).getDate(),"start"),w=!0,t.el=$(this),t.data=b}else{if(c&&!a.beforeSelected(t.data,b,w))return!1;G($(this),new Date(b).getDate(),"end"),u.el=$(this),u.data=b,H(),w=!1,x=!1,setTimeout(function(){z.hide(),a.eventCallBack(t.data,u.data),x=!0},200)}},F=function(b,c){""!==v.el&&(v.el.hide(),v.el.parent().removeClass("active").html(v.data),v.el.remove());var d=$("<div>"),e=b.find("b");$('<span class="active">'+c+"</span>").appendTo(d),$('<span class="activeText">'+a.text+"</span>").appendTo(d),v.data=$(b).html(),v.el=d,b.html(""),b.addClass("active"),b.append(e),d.appendTo(b)},G=function(b,c,d){var e=$("<div>"),f=b.find("b");"start"==d?$('<div class="undo-select"><div class="icon-cross"></div></div>').appendTo(e):$(".undo-select",q).remove(),$('<span class="active">'+c+"</span>").appendTo(e),"start"==d?$('<span class="activeText">'+a.startText+"</span>").appendTo(e):$('<span class="activeText">'+a.endText+"</span>").appendTo(e),b.attr("text",b.html()),b.html(""),b.addClass("active"),b.append(f),e.appendTo(b)},H=function(){for(var a=t.el.next(),b=u.el.attr("data-day");a.attr("data-day")!=b;){a.addClass("active-during");var c=a.next();a=0!=c.length&&c.attr("data-day")?c:a.parent().parent().next().find("li[data-day]").first()}},I=function(){var a=$(".cld-day li.active",q);a.each(function(){var a=$(this);a.html(a.attr("text"))}),a.removeClass("active"),$(".cld-day li.active-during",q).removeClass("active-during"),t.el="",t.data="",u.el="",u.data=""},J=function(){b.isLowDevice&&q.siblings(".page-content").show(),K.hasClass("android")&&K.css("overflow",""),w=!1},K=$("html"),L=function(){if("function"==typeof a.selectDate)if(a.isDouble){var c=a.selectDate(),d=c[0],e=c[1];if(new Date(d)>new Date(e))return;var f=p.find("[data-day='"+d+"']"),g=parseInt(b.removeZeroOfDate(d.substr(-2))),h=p.find("[data-day='"+e+"']"),i=parseInt(b.removeZeroOfDate(e.substr(-2)));I(),f.length&&G(f,g,"start"),t.el=f,t.data=d,h.length&&G(h,i,"end"),u.el=h,u.data=e,f.length&&h.length&&H()}else{var j=a.selectDate(),k=p.find("[data-day='"+j+"']"),l=parseInt(b.removeZeroOfDate(j.substr(-2)));k.length&&F(k,l)}K.hasClass("android")&&K.css("overflow","hidden"),b.isLowDevice&&(q.siblings(".page-content").hide(),$("body").scrollTop(0))};return A(),z={page:q,option:{showType:"transition",transitionClass:"cld-active"},setMinDate:function(b){a.mindate=b,A()},beforeShow:L,afterHide:J}}})}),function(){function a(c,d){"use strict";function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=c,this.tapDelay=d.tapDelay||200,!a.notNeeded(c)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);b&&(c.addEventListener("mouseover",this.onMouse,!0),c.addEventListener("mousedown",this.onMouse,!0),c.addEventListener("mouseup",this.onMouse,!0)),c.addEventListener("click",this.onClick,!0),c.addEventListener("touchstart",this.onTouchStart,!1),c.addEventListener("touchmove",this.onTouchMove,!1),c.addEventListener("touchend",this.onTouchEnd,!1),c.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(c.removeEventListener=function(a,b,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(c,a,b.hijacked||b,d):e.call(c,a,b,d)},c.addEventListener=function(a,b,d){var e=Node.prototype.addEventListener;"click"===a?e.call(c,a,b.hijacked||(b.hijacked=function(a){a.propagationStopped||b(a)}),d):e.call(c,a,b,d)}),"function"==typeof c.onclick&&(f=c.onclick,c.addEventListener("click",function(a){f(a)},!1),c.onclick=null)}}var b=navigator.userAgent.indexOf("Android")>0,c=/iP(ad|hone|od)/.test(navigator.userAgent),d=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),e=c&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),f=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(c&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!b;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){"use strict";return b&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){"use strict";var b;c&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){"use strict";var b,e,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),e=a.targetTouches[0],c){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!d){if(e.identifier&&e.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=e.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=e.pageX,this.touchStartY=e.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){"use strict";var f,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,e&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(f=this.findControl(k)){if(this.focus(k),b)return!1;k=f}}else if(this.needsFocus(k))return a.timeStamp-g>100||c&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),c&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return c&&!d&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){"use strict";var a=this.layer;b&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){"use strict";var c,d,e;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!b)return!0;if(c=document.querySelector("meta[name=viewport]")){if(-1!==c.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(f&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(c=document.querySelector("meta[name=viewport]")))){if(-1!==c.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return a&&"none"===a.style.msTouchAction?!0:!1},a.attach=function(b,c){"use strict";return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("lib/fastclick",[],function(){"use strict";return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),define("src/js/pageStorage",[],function(){function a(){var a={},b={};return a.setItem=function(a,c){b[a]=c},a.getItem=function(a){return b[a]},a.removeItem=function(a){delete b[a]},a.clear=function(){b={}},a}try{localStorage.setItem("613421_localStorage_124316","localStorage_value")}catch(b){localStorage.__proto__=a(),sessionStorage.__proto__=a()}"localStorage_value"===localStorage.getItem("613421_localStorage_124316")&&localStorage.removeItem("613421_localStorage_124316")}),define("src/js/common",["../fw/core","../../lib/fastclick","../js/pageStorage"],function(a,b){b.attach(document.body);var c=$("html");!function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),d=!a.match(/Mobile/),e=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),g=!e&&a.match(/(iPhone\sOS)\s([\d_]+)/);window.scrollTo(0,1),b&&c.addClass("android"+(d?" pad":"")),(e||g||f)&&c.addClass("ios"),(g||f)&&c.addClass("iphone"),e&&c.addClass("ipad");var h=!1,i="undefined"!=typeof devicePixelRatio&&devicePixelRatio>1?devicePixelRatio:1,j=screen.width/document.body.clientWidth!==1&&screen.height/document.body.clientHeight!==1,k=j?screen.width/i:screen.width,l=j?screen.height/i:screen.height;h=k>=600&&l>=600,h&&c.addClass("pad")}(),c.hasClass("android")&&$(".pages").addClass("page-fade"),a.isLowDevice&&c.addClass("low-device"),a.isPad=c.hasClass("pad")||c.hasClass("ipad")}),define("entry/train/js/city",["src/js/core"],function(a){function b(){this.cityList=[],this.orderCityList=[],this.recentList=[],this.hotList=[],this.matchList=[],this.handler=null,this.preventErrorInput=!1,this.page=null,this.searchTimeout=0,this.isWaitingToSearch=!1,this.alphabet=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"],this.letterCityobj={}}return b.prototype={TEMPLATE:{BODY:'<div class="city-sel page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">城市选择</h1></header><div class="all-list page-content"><ul id="alphabet" class="alphabet"></ul><ul id="current-city" class="table-view"><li class="table-view-divider">当前城市</li><li class="current table-view-cell"></li></ul><ul id="recent-list" class="table-view"><li class="table-view-divider">搜索历史</li></ul><ul id="hot-city-list" class="table-view"><li class="table-view-divider">热门城市</li></ul><ul class="table-first-letter clearfix" id="letter-list"></ul><div class="table-view" id="select-city"></div></div><div class="input-block bar"><div class="search-box"><input placeholder="拼音/汉字/首字母" maxlength="10"></div><span class="cancel">取消</span></div><ul class="match-list" class="table-view"></ul></div>',CITYGROUP:{HEAD:'<ul id="${id}" class="table-view">',FOOT:"</ul>"},LISTHEAD:'<li class="table-view-divider">${letter}</li>',LISTITEM:'<li class="table-view-cell${class}" value="${value}">${text}</li>',LISTITEM1:'<li class="table-view-letter" value="${value}">${text}</li>'},beforeShow:function(a,b){if(null===this.page&&this.init(),b=$.trim(b),this.handler=a,b&&b.length>0){var c=this.page.find(".current");c.html('<i class="current-city-icon"></i>'+b),this._renderMatchList(b),this.page.find(".match-list").hide(),$(".all-list").show()}},afterShow:function(){if(this.page.find(".page-content").scrollTop(0),$("html").hasClass("ios")){var a=this.page.find("#alphabet"),b=this.page.find(".all-list"),c=b.innerHeight()-105;a.css("height",c)}},init:function(a,b){0===$(".city-sel").length&&this._render(),this._bindEvent()},setData:function(a,b){this.cityList=a?a:[],this.hotList=b?b:[]},setPreventErrorInput:function(a){this.preventErrorInput=!!a},_render:function(){var b=$(this.TEMPLATE.BODY),c=(b.find(".all-list"),b.find("#hot-city-list")),d=b.find("#letter-list"),e=localStorage.getItem("recentCityList"),f=[],g=[],h=[];e&&(this.recentList=JSON.parse(e)),this._reRenderRecent(b);for(var i=0;i<this.hotList.length;i++)f.push(this.TEMPLATE.LISTITEM.replace("${text}",this.hotList[i][0]).replace("${value}",this.hotList[i][1]).replace("${class}",""));for(c.html(c.html()+f.join("")),this._groupCity(),i=0;i<this.orderCityList.length;i++){var j=[],k=this.orderCityList[i];h.push(this.TEMPLATE.LISTITEM1.replace("${text}",k.letter).replace("${value}",k.letter).replace("${class}","")),j.push(this.TEMPLATE.CITYGROUP.HEAD.replace("${id}",k.letter+"-start-list"));for(var l=0;l<k.cityList.length;l++){var m=k.cityList[l];j.push(this.TEMPLATE.LISTITEM.replace("${text}",m[0]).replace("${value}",m[1]).replace("${class}",""))}j.push(this.TEMPLATE.CITYGROUP.FOOT),g.push(j.join(""))}d.append(h.join(""));var n=b.find("#alphabet"),o=this.alphabet,p=o.length,q='<li><a href="#toHotCity">当前城市热门</a></li>';for(i=0,al=null;p>i;i++)al=o[i],q+='<li class="alphabet-item"><a href="#'+al+'-start-list">'+al+"</a></li>";n.html(q),a.getActiveLayer()?b.appendTo(a.getActiveLayer()):b.appendTo("body"),this.page=b},_reRenderRecent:function(a){var b=a.find("#recent-list"),c=[];if(0===this.recentList.length)return void b.hide();b.show(),b.find(".table-view-cell").remove();for(var d=0;d<this.recentList.length;d++)c.push(this.TEMPLATE.LISTITEM.replace("${text}",this.recentList[d][0]).replace("${value}",this.recentList[d][1]).replace("${class}",""));b.html(b.html()+c.join(""))},_doReturn:function(a){this._updateRecentList(a),this._reRenderRecent(this.page),this.page.find(".match-list").hide(),this.page.find(".all-list").show(),this.page.find(".search-box input").val(""),this.hide(),this.handler&&this.handler(a)},_bindEvent:function(){var a=this,b={},c=a.page;if(c.find("#alphabet").on("click","a",function(){var a,d,e=c.find(".all-lists ul");if(!b["A-start-list"]){for(var f=c.find(".page-content").scrollTop(),g=0;g<e.length;g++)d=e.eq(g),a=d.attr("id"),b[a]=d.offset().top-100+f;
b.toHotCity=0}var h=$(this).attr("href").substring(1);return c.find(".page-content").scrollTop(b[h]),!1}),c.find(".icon-left-nav").click(function(){return a.hide(),!1}),c.on("click","li.table-view-cell",function(){var b=[$(this).text(),$(this).attr("value")];a._doReturn(b)}),c.on("click","li.table-view-letter",function(){var b=$("#select-city"),c=$(this).index();$(this).addClass("high").siblings().removeClass("high");var d=[],e=a.orderCityList[c],f="id-letter"+e.letter;if($("#"+f).length)$("#"+f).show().siblings().hide();else{for(var g=0;g<e.cityList.length;g++){var h=e.cityList[g];d.push(a.TEMPLATE.LISTITEM.replace("${text}",h[0]).replace("${value}",h[1]).replace("${class}",""))}b.find("ul").hide(),b.append('<ul id="'+f+'">'+d.join("")+"</ul>")}}),c.find(".input-block .cancel").on("click",function(){this.page.find(".search-box input").val(""),a._renderMatchList("")}),c.find(".search-box input").bind("input propertychange touchend",function(){var b=$(this);a.isWaitingToSearch||(a.isWaitingToSearch=!0,setTimeout(function(){a.isWaitingToSearch=!1,a._renderMatchList(b.val())},200))}).on("focus",function(){}).on("blur",function(){}),$("html").hasClass("ios")){var d=c.find("#alphabet"),e=c.find(".all-list");d.css("position","absolute"),e.on("scroll",function(){a.scrollTimer&&(clearTimeout(a.scrollTimer),a.scrollTimer=null),a.scrollTimer=setTimeout(function(){var a=e.scrollTop()+98;d.css("top",a)},300)})}},_renderMatchList:function(a){var b=this.page.find(".match-list"),c=this.page.find(".all-list");if(this.matchList.splice(0,this.matchList.length),""===a)return b.hide(),b.find(".table-view-cell").remove(),void c.show();for(var d=0;d<this.cityList.length;d++){var e=this.cityList[d];this._matchKeyword(a,e)&&this.matchList.push(e)}if(this.matchList.length>0){var f=[];for(d=0;d<this.matchList.length;d++)f.push(this.TEMPLATE.LISTITEM.replace("${text}",this.matchList[d][0]).replace("${value}",this.matchList[d][1]).replace("${class}",this.matchList[d][0]==a?" full-match":""));b.html(f.join("")),b.show(),c.hide()}else b.find(".table-view-cell").remove()},_updateRecentList:function(a){if(""!==a[0]){var b=this.recentList,c=this._isCityInRecent(a);c>=0?b.splice(c,1):6==b.length&&b.splice(5,1),b.splice(0,0,a),localStorage.setItem("recentCityList",JSON.stringify(b))}},_isCityInRecent:function(a){for(var b=0;b<this.recentList.length;b++)if(a[0]==this.recentList[b][0])return b;return-1},_matchKeyword:function(a,b){var c=!1;return a=a.toLowerCase(),c=c||0===b[0].toLowerCase().indexOf(a),c=c||0===b[1].toLowerCase().indexOf(a),c=c||0===b[2].toLowerCase().indexOf(a)},_groupCity:function(){for(var a=[],b=0;26>b;b++){var c=String.fromCharCode(65+b);a.push({letter:c,cityList:[]})}for(b=0;b<this.cityList.length;b++){var d=this.cityList[b],e=d[2].charAt(0).toUpperCase();a[e.charCodeAt(0)-65].cityList.push(d)}for(b=0;b<a.length;b++){var f=a[b];f.cityList.length>0&&this.orderCityList.push(f)}},_getCurrentCity:function(){}},b}),define("entry/train/js/cityDataCopy",[],function(){var a=[["北京东","beijingdong","bjd"],["北京","beijing","bj"],["北京南","beijingnan","bjn"],["北京西","beijingxi","bjx"],["广州南","guangzhounan","gzn"],["重庆北","chongqingbei","cqb"],["重庆","chongqing","cq"],["重庆南","chongqingnan","cqn"],["广州东","guangzhoudong","gzd"],["上海","shanghai","sh"],["上海南","shanghainan","shn"],["上海虹桥","shanghaihongqiao","shhq"],["上海西","shanghaixi","shx"],["天津北","tianjinbei","tjb"],["天津","tianjin","tj"],["天津南","tianjinnan","tjn"],["天津西","tianjinxi","tjx"],["长春","changchun","cc"],["长春南","changchunnan","ccn"],["长春西","changchunxi","ccx"],["成都东","chengdudong","cdd"],["成都南","chengdunan","cdn"],["成都","chengdu","cd"],["长沙","changsha","cs"],["长沙南","changshanan","csn"],["福州","fuzhou","fz"],["福州南","fuzhounan","fzn"],["贵阳","guiyang","gy"],["广州","guangzhou","gz"],["广州西","guangzhouxi","gzx"],["哈尔滨","haerbin","heb"],["哈尔滨东","haerbindong","hebd"],["哈尔滨西","haerbinxi","hebx"],["合肥","hefei","hf"],["呼和浩特东","huhehaotedong","hhhtd"],["呼和浩特","huhehaote","hhht"],["海口东","haikoudong","hkd"],["海口","haikou","hk"],["杭州东","hangzhoudong","hzd"],["杭州","hangzhou","hz"],["杭州南","hangzhounan","hzn"],["济南","jinan","jn"],["济南东","jinandong","jnd"],["济南西","jinanxi","jnx"],["昆明","kunming","km"],["昆明西","kunmingxi","kmx"],["拉萨","lasa","ls"],["兰州东","lanzhoudong","lzd"],["兰州","lanzhou","lz"],["兰州西","lanzhouxi","lzx"],["南昌","nanchang","nc"],["南京","nanjing","nj"],["南京南","nanjingnan","njn"],["南宁","nanning","nn"],["石家庄北","shijiazhuangbei","sjzb"],["石家庄","shijiazhuang","sjz"],["沈阳","shenyang","sy"],["沈阳北","shenyangbei","syb"],["沈阳东","shenyangdong","syd"],["太原北","taiyuanbei","tyb"],["太原东","taiyuandong","tyd"],["太原","taiyuan","ty"],["武汉","wuhan","wh"],["王家营西","wangjiayingxi","wjyx"],["乌鲁木齐南","wulumuqinan","wlmq"],["西安北","xianbei","xab"],["西安","xian","xa"],["西安南","xiannan","xan"],["银川","yinchuan","yc"],["郑州","zhengzhou","zz"],["阿尔山","aershan","aes"],["安康","ankang","ak"],["阿克苏","akesu","aks"],["阿里河","alihe","alh"],["阿拉山口","alashankou","alsk"],["安平","anping","ap"],["安庆","anqing","aq"],["安顺","anshun","as"],["鞍山","anshan","as"],["安阳","anyang","ay"],["北安","beian","ba"],["蚌埠","bengbu","bb"],["白城","baicheng","bc"],["北海","beihai","bh"],["白河","baihe","bh"],["白涧","baijian","bj"],["宝鸡","baoji","bj"],["滨江","binjiang","bj"],["博克图","boketu","bkt"],["百色","baise","bs"],["白山市","baishanshi","bss"],["北台","beitai","bt"],["包头东","baotoudong","btd"],["包头","baotou","bt"],["北屯市","beitunshi","bts"],["本溪","benxi","bx"],["白云鄂博","baiyunebo","byeb"],["白银西","baiyinxi","byx"],["亳州","bozhou","bz"],["赤壁","chibi","cb"],["常德","changde","cd"],["承德","chengde","cd"],["长甸","changdian","cd"],["赤峰","chifeng","cf"],["茶陵","chaling","cl"],["苍南","cangnan","cn"],["昌平","changping","cp"],["崇仁","chongren","cr"],["昌图","changtu","ct"],["长汀镇","changtingzhen","ctz"],["曹县","caoxian","cx"],["楚雄","chuxiong","cx"],["陈相屯","chenxiangtun","cxt"],["长治北","changzhibei","czb"],["长征","changzheng","cz"],["池州","chizhou","cz"],["常州","changzhou","cz"],["郴州","chenzhou","cz"],["长治","changzhi","cz"],["沧州","cangzhou","cz"],["崇左","chongzuo","cz"],["大安北","daanbei","dab"],["大成","dacheng","dc"],["丹东","dandong","dd"],["东方红","dongfanghong","dfh"],["东莞东","dongguandong","dgd"],["大虎山","dahushan","dhs"],["敦煌","dunhuang","dh"],["敦化","dunhua","dh"],["德惠","dehui","dh"],["东京城","dongjingcheng","djc"],["大涧","dajian","dj"],["都江堰","dujiangyan","djy"],["大连北","dalianbei","dlb"],["大理","dali","dl"],["大连","dalian","dl"],["定南","dingnan","dn"],["大庆","daqing","dq"],["东胜","dongsheng","ds"],["大石桥","dashiqiao","dsq"],["大同","datong","dt"],["东营","dongying","dy"],["大杨树","dayangshu","dys"],["都匀","duyun","dy"],["邓州","dengzhou","dz"],["达州","dazhou","dz"],["德州","dezhou","dz"],["额济纳","ejina","ejn"],["二连","erlian","el"],["恩施","enshi","es"],["福鼎","fuding","fd"],["风陵渡","fenglingdu","fld"],["涪陵","fuling","fl"],["富拉尔基","fulaerji","flej"],["抚顺北","fushunbei","fsb"],["佛山","foshan","fs"],["阜新","fuxin","fx"],["阜阳","fuyang","fy"],["格尔木","geermu","gem"],["广汉","guanghan","gh"],["古交","gujiao","gj"],["桂林北","guilinbei","glb"],["古莲","gulian","gl"],["桂林","guilin","gl"],["固始","gushi","gs"],["广水","guangshui","gs"],["干塘","gantang","gt"],["广元","guangyuan","gy"],["广州北","guangzhoubei","gzb"],["赣州","ganzhou","gz"],["公主岭","gongzhuling","gzl"],["公主岭南","gongzhulingnan","gzln"],["淮安","huaian","ha"],["鹤北","hebei","hb"],["淮北","huaibei","hb"],["淮滨","huaibin","hb"],["河边","hebian","hb"],["潢川","huangchuan","hc"],["韩城","hancheng","hc"],["邯郸","handan","hd"],["横道河子","hengdaohezi","hdhz"],["鹤岗","hegang","hg"],["皇姑屯","huanggutun","hgt"],["红果","hongguo","hg"],["黑河","heihe","hh"],["怀化","huaihua","hh"],["汉口","hankou","hk"],["葫芦岛","huludao","hld"],["海拉尔","hailaer","hle"],["霍林郭勒","huolinguole","hlgl"],["海伦","hailun","hl"],["侯马","houma","hm"],["哈密","hami","hm"],["淮南","huainan","hn"],["桦南","huanan","hn"],["海宁西","hainingxi","hnx"],["鹤庆","heqing","hq"],["怀柔北","huairoubei","hrb"],["怀柔","huairou","hr"],["黄石东","huangshidong","hsd"],["华山","huashan","hs"],["黄石","huangshi","hs"],["黄山","huangshan","hs"],["衡水","hengshui","hs"],["衡阳","hengyang","hy"],["菏泽","heze","hz"],["贺州","hezhou","hz"],["汉中","hanzhong","hz"],["惠州","huizhou","hz"],["吉安","jian","ja"],["集安","jian","ja"],["江边村","jiangbiancun","jbc"],["晋城","jincheng","jc"],["金城江","jinchengjiang","jcj"],["景德镇","jingdezhen","jdz"],["嘉峰","jiafeng","jf"],["加格达奇","jiagedaqi","jgdq"],["井冈山","jinggangshan","jgs"],["蛟河","jiaohe","jh"],["金华南","jinhuanan","jhn"],["九江","jiujiang","jj"],["吉林","jilin","jl"],["荆门","jingmen","jm"],["佳木斯","jiamusi","jms"],["济宁","jining","jn"],["集宁南","jiningnan","jnn"],["酒泉","jiuquan","jq"],["江山","jiangshan","js"],["吉首","jishou","js"],["九台","jiutai","jt"],["镜铁山","jingtieshan","jts"],["鸡西","jixi","jx"],["蓟县","jixian","jx"],["绩溪县","jixixian","jxx"],["嘉峪关","jiayuguan","jyg"],["江油","jiangyou","jy"],["锦州","jinzhou","jz"],["金州","jinzhou","jz"],["库尔勒","kuerle","kel"],["开封","kaifeng","kf"],["岢岚","kelan","kl"],["凯里","kaili","kl"],["喀什","kashi","ks"],["昆山南","kunshannan","ksn"],["奎屯","kuitun","kt"],["开原","kaiyuan","ky"],["六安","liuan","la"],["灵宝","lingbao","lb"],["芦潮港","luchaogang","lcg"],["隆昌","longchang","lc"],["陆川","luchuan","lc"],["利川","lichuan","lc"],["临川","linchuan","lc"],["潞城","lucheng","lc"],["鹿道","ludao","ld"],["娄底","loudi","ld"],["临汾","linfen","lf"],["良各庄","lianggezhuang","lgz"],["临河","linhe","lh"],["漯河","luohe","lh"],["绿化","lvhua","lh"],["隆化","longhua","lh"],["丽江","lijiang","lj"],["临江","linjiang","lj"],["龙井","longjing","lj"],["吕梁","lvliang","ll"],["醴陵","liling","ll"],["柳林南","liulinnan","lln"],["滦平","luanping","lp"],["六盘水","liupanshui","lps"],["灵丘","lingqiu","lq"],["旅顺","lvshun","ls"],["陇西","longxi","lx"],["澧县","lixian","lx"],["兰溪","lanxi","lx"],["临西","linxi","lx"],["龙岩","longyan","ly"],["耒阳","leiyang","ly"],["洛阳","luoyang","ly"],["洛阳东","luoyangdong","lyd"],["连云港东","lianyungangdong","lygd"],["临沂","linyi","ly"],["洛阳龙门","luoyanglongmen","lylm"],["柳园","liuyuan","ly"],["凌源","lingyuan","ly"],["辽源","liaoyuan","ly"],["立志","lizhi","lz"],["柳州","liuzhou","lz"],["辽中","liaozhong","lz"],["麻城","macheng","mc"],["免渡河","mianduhe","mdh"],["牡丹江","mudanjiang","mdj"],["莫尔道嘎","moerdaoga","medg"],["满归","mangui","mg"],["明光","mingguang","mg"],["漠河","mohe","mh"],["茂名东","maomingdong","mmd"],["茂名","maoming","mm"],["密山","mishan","ms"],["马三家","masanjia","msj"],["麻尾","mawei","mw"],["绵阳","mianyang","my"],["梅州","meizhou","mz"],["满洲里","manzhouli","mzl"],["宁波东","ningbodong","nbd"],["宁波","ningbo","nb"],["南岔","nancha","nc"],["南充","nanchong","nc"],["南丹","nandan","nd"],["南大庙","nandamiao","ndm"],["南芬","nanfen","nf"],["讷河","nehe","nh"],["嫩江","nenjiang","nj"],["内江","neijiang","nj"],["南平","nanping","np"],["南通","nantong","nt"],["南阳","nanyang","ny"],["碾子山","nianzishan","nzs"],["平顶山","pingdingshan","pds"],["盘锦","panjin","pj"],["平凉","pingliang","pl"],["平凉南","pingliangnan","pln"],["平泉","pingquan","pq"],["坪石","pingshi","ps"],["萍乡","pingxiang","px"],["凭祥","pingxiang","px"],["郫县西","pixianxi","pxx"],["攀枝花","panzhihua","pzh"],["蕲春","qichun","qc"],["青城山","qingchengshan","qcs"],["青岛","qingdao","qd"],["清河城","qinghecheng","qhc"],["黔江","qianjiang","qj"],["曲靖","qujing","qj"],["前进镇","qianjinzhen","qjz"],["齐齐哈尔","qiqihaer","qqhe"],["七台河","qitaihe","qth"],["沁县","qinxian","qx"],["泉州东","quanzhoudong","qzd"],["泉州","quanzhou","qz"],["衢州","quzhou","qz"],["融安","rongan","ra"],["汝箕沟","rujigou","rqg"],["瑞金","ruijin","rj"],["日照","rizhao","rz"],["双城堡","shuangchengpu","scb"],["绥芬河","suifenhe","sfh"],["韶关东","shaoguandong","sgd"],["山海关","shanhaiguan","shg"],["绥化","suihua","sh"],["三间房","sanjianfang","sjf"],["苏家屯","sujiatun","sjt"],["舒兰","shulan","sl"],["三明","sanming","sm"],["神木","shenmu","sm"],["三门峡","sanmenxia","smx"],["商南","shangnan","sn"],["遂宁","suining","sn"],["四平","siping","sp"],["商丘","shangqiu","sq"],["上饶","shangrao","sr"],["韶山","shaoshan","ss"],["宿松","susong","ss"],["汕头","shantou","st"],["邵武","shaowu","sw"],["涉县","shexian","sx"],["三亚","sanya","sy"],["邵阳","shaoyang","sy"],["十堰","shiyan","sy"],["双鸭山","shuangyashan","sys"],["松原","songyuan","sy"],["深圳","shenzhen","sz"],["苏州","suzhou","sz"],["随州","suizhou","sz"],["宿州","suzhou","sz"],["朔州","shuozhou","sz"],["深圳西","shenzhenxi","szx"],["塘豹","tangbao","tb"],["塔尔气","taerqi","teq"],["潼关","tongguan","tg"],["塘沽","tanggu","tg"],["塔河","tahe","th"],["通化","tonghua","th"],["泰来","tailai","tl"],["吐鲁番","tulufan","tlf"],["通辽","tongliao","tl"],["铁岭","tieling","tl"],["陶赖昭","taolaizhao","tlz"],["图们","tumen","tm"],["铜仁","tongren","tr"],["唐山北","tangshanbei","tsb"],["田师府","tianshifu","tsf"],["泰山","taishan","ts"],["唐山","tangshan","ts"],["天水","tianshui","ts"],["通远堡","tongyuanpu","tyb"],["太阳升","taiyangsheng","tys"],["泰州","taizhou","tz"],["桐梓","tongzi","tz"],["通州西","tongzhouxi","tzx"],["五常","wuchang","wc"],["武昌","wuchang","wc"],["瓦房店","wafangdian","wfd"],["威海","weihai","wh"],["芜湖","wuhu","wh"],["乌海西","wuhaixi","whx"],["吴家屯","wujiatun","wjt"],["武隆","wulong","wl"],["乌兰浩特","wulanhaote","wlht"],["渭南","weinan","wn"],["威舍","weishe","ws"],["歪头山","waitoushan","wts"],["武威","wuwei","ww"],["武威南","wuweinan","wwn"],["无锡","wuxi","wx"],["乌西","wuxi","wx"],["乌伊岭","wuyiling","wyl"],["武夷山","wuyishan","wys"],["万源","wanyuan","wy"],["万州","wanzhou","wz"],["梧州","wuzhou","wz"],["温州","wenzhou","wz"],["温州南","wenzhounan","wzn"],["西昌","xichang","xc"],["许昌","xuchang","xc"],["西昌南","xichangnan","xcn"],["香坊","xiangfang","xf"],["轩岗","xuangang","xg"],["兴国","xingguo","xg"],["宣汉","xuanhan","xh"],["新会","xinhui","xh"],["新晃","xinhuang","xh"],["锡林浩特","xilinhaote","xlht"],["兴隆县","xinglongxian","xlx"],["厦门北","xiamenbei","xmb"],["厦门","xiamen","xm"],["厦门高崎","xiamengaoqi","xmgq"],["秀山","xiushan","xs"],["小市","xiaoshi","xs"],["向塘","xiangtang","xt"],["宣威","xuanwei","xw"],["新乡","xinxiang","xx"],["信阳","xinyang","xy"],["咸阳","xianyang","xy"],["襄阳","xiangyang","xy"],["熊岳城","xiongyuecheng","xyc"],["兴义","xingyi","xy"],["新沂","xinyi","xy"],["新余","xinyu","xy"],["徐州","xuzhou","xz"],["延安","yanan","ya"],["宜宾","yibin","yb"],["亚布力南","yabulinan","ybln"],["叶柏寿","yebaishou","ybs"],["宜昌东","yichangdong","ycd"],["永川","yongchuan","yc"],["宜昌","yichang","yc"],["盐城","yancheng","yc"],["运城","yuncheng","yc"],["伊春","yichun","yc"],["榆次","yuci","yc"],["杨村","yangcun","yc"],["宜春西","yichunxi","ycx"],["伊尔施","yiershi","yes"],["燕岗","yangang","yg"],["永济","yongji","yj"],["延吉","yanji","yj"],["营口","yingkou","yk"],["牙克石","yakeshi","yks"],["阎良","yanliang","yl"],["玉林","yulin","yl"],["榆林","yulin","yl"],["一面坡","yimianpo","ymp"],["伊宁","yining","yn"],["阳平关","yangpingguan","ypg"],["玉屏","yuping","yp"],["原平","yuanping","yp"],["延庆","yanqing","yq"],["阳泉曲","yangquanqu","yqq"],["玉泉","yuquan","yq"],["阳泉","yangquan","yq"],["玉山","yushan","ys"],["营山","yingshan","ys"],["燕山","yanshan","ys"],["榆树","yushu","ys"],["鹰潭","yingtan","yt"],["烟台","yantai","yt"],["伊图里河","yitulihe","ytlh"],["玉田县","yutianxian","ytx"],["义乌","yiwu","yw"],["阳新","yangxin","yx"],["义县","yixian","yx"],["益阳","yiyang","yy"],["岳阳","yueyang","yy"],["永州","yongzhou","yz"],["扬州","yangzhou","yz"],["淄博","zibo","zb"],["镇城底","zhenchengdi","zcd"],["自贡","zigong","zg"],["珠海","zhuhai","zh"],["珠海北","zhuhaibei","zhb"],["湛江","zhanjiang","zj"],["镇江","zhenjiang","zj"],["张家界","zhangjiajie","zjj"],["张家口","zhangjiakou","zjk"],["张家口南","zhangjiakounan","zjkn"],["周口","zhoukou","zk"],["哲里木","zhelimu","zlm"],["扎兰屯","zhalantun","zlt"],["驻马店","zhumadian","zmd"],["肇庆","zhaoqing","zq"],["周水子","zhoushuizi","zsz"],["昭通","zhaotong","zt"],["中卫","zhongwei","zw"],["资阳","ziyang","zy"],["遵义","zunyi","zy"],["枣庄","zaozhuang","zz"],["资中","zizhong","zz"],["株洲","zhuzhou","zz"],["枣庄西","zaozhuangxi","zzx"],["昂昂溪","angangxi","aax"],["阿城","acheng","ac"],["安达","anda","ad"],["安德","ande","ad"],["安定","anding","ad"],["安广","anguang","ag"],["艾河","aihe","ah"],["安化","anhua","ah"],["艾家村","aijiacun","ajc"],["鳌江","aojiang","aj"],["安家","anjia","aj"],["阿金","ajin","aj"],["阿克陶","aketao","akt"],["安口窑","ankouyao","aky"],["敖力布告","aolibugao","albg"],["安龙","anlong","al"],["阿龙山","alongshan","als"],["安陆","anlu","al"],["阿木尔","amuer","ame"],["阿南庄","ananzhuang","anz"],["安庆西","anqingxi","aqx"],["鞍山西","anshanxi","asx"],["安塘","antang","at"],["安亭北","antingbei","atb"],["阿图什","atushi","ats"],["安图","antu","at"],["安溪","anxi","ax"],["博鳌","boao","ba"],["北碚","beibei","bb"],["白壁关","baibiguan","bbg"],["蚌埠南","bengbunan","bbn"],["巴楚","bachu","bc"],["板城","bancheng","bc"],["北戴河","beidaihe","bdh"],["保定","baoding","bd"],["宝坻","baodi","bd"],["八达岭","badaling","bdl"],["巴东","badong","bd"],["柏果","baiguo","bg"],["布海","buhai","bh"],["白河东","baihedong","bhd"],["贲红","benhong","bh"],["宝华山","baohuashan","bhs"],["白河县","baihexian","bhx"],["白芨沟","baijigou","bjg"],["碧鸡关","bijiguan","bjg"],["北滘","beijiao","b"],["碧江","bijiang","bj"],["白鸡坡","baijipo","bjp"],["笔架山","bijiashan","bjs"],["八角台","bajiaotai","bjt"],["保康","baokang","bk"],["白奎堡","baikuipu","bkb"],["白狼","bailang","bl"],["百浪","bailang","bl"],["博乐","bole","bl"],["宝拉格","baolage","blg"],["巴林","balin","bl"],["宝林","baolin","bl"],["北流","beiliu","bl"],["勃利","boli","bl"],["布列开","buliekai","blk"],["宝龙山","baolongshan","bls"],["八面城","bamiancheng","bmc"],["班猫箐","banmaoqing","bmj"],["八面通","bamiantong","bmt"],["北马圈子","beimaquanzi","bmqz"],["北票南","beipiaonan","bpn"],["白旗","baiqi","bq"],["宝泉岭","baoquanling","bql"],["白泉","baiquan","bq"],["白沙","baisha","bs"],["巴山","bashan","bs"],["白水江","baishuijiang","bsj"],["白沙坡","baishapo","bsp"],["白石山","baishishan","bss"],["白水镇","baishuizhen","bsz"],["坂田","bantian","bt"],["泊头","botou","bt"],["北屯","beitun","bt"],["本溪湖","benxihu","bxh"],["博兴","boxing","bx"],["八仙筒","baxiantong","bxt"],["白音察干","baiyinchagan","bycg"],["背荫河","beiyinhe","byh"],["北营","beiying","by"],["巴彦高勒","bayangaole","bygl"],["白音他拉","baiyintala","bytl"],["鲅鱼圈","bayuquan","byq"],["白银市","baiyinshi","bys"],["白音胡硕","baiyinhushuo","byhs"],["巴中","bazhong","bz"],["霸州","bazhou","bz"],["北宅","beizhai","bz"],["赤壁北","chibibei","cbb"],["查布嘎","chabuga","cbg"],["长城","changcheng","cc"],["长冲","changchong","cc"],["承德东","chengdedong","cdd"],["赤峰西","chifengxi","cfx"],["嵯岗","cuogang","cg"],["柴岗","chaigang","cg"],["长葛","changge","cg"],["柴沟堡","chaigoupu","cgb"],["城固","chenggu","cg"],["陈官营","chenguanying","cgy"],["成高子","chenggaozi","cgz"],["草海","caohai","ch"],["柴河","chaihe","ch"],["册亨","ceheng","ch"],["草河口","caohekou","chk"],["崔黄口","cuihuangkou","chk"],["巢湖","chaohu","ch"],["蔡家沟","caijiagou","cjg"],["成吉思汗","chengjisihan","cjsh"],["岔江","chajiang","cj"],["蔡家坡","caijiapo","cjp"],["昌乐","changle","cl"],["超梁沟","chaolianggou","clg"],["慈利","cili","cl"],["昌黎","changli","cl"],["长岭子","changlingzi","clz"],["晨明","chenming","cm"],["长农","changnong","cn"],["昌平北","changpingbei","cpb"],["常平","changping","cp"],["长坡岭","changpoling","cpl"],["辰清","chenqing","cq"],["楚山","chushan","cs"],["长寿","changshou","cs"],["磁山","cishan","cs"],["苍石","cangshi","cs"],["草市","caoshi","cs"],["察素齐","chasuqi","csq"],["长山屯","changshantun","cst"],["长汀","changting","ct"],["昌图西","changtuxi","ctx"],["春湾","chunwan","cw"],["磁县","cixian","cx"],["岑溪","cenxi","cx"],["辰溪","chenxi","cx"],["磁西","cixi","cx"],["长兴南","changxingnan","cxn"],["磁窑","ciyao","cy"],["朝阳","chaoyang","cy"],["春阳","chunyang","cy"],["城阳","chengyang","cy"],["创业村","chuangyecun","cyc"],["朝阳川","chaoyangchuan","cyc"],["朝阳地","chaoyangdi","cyd"],["长垣","changyuan","cy"],["朝阳镇","chaoyangzhen","cyz"],["滁州北","chuzhoubei","czb"],["常州北","changzhoubei","czb"],["滁州","chuzhou","cz"],["潮州","chaozhou","cz"],["常庄","changzhuang","cz"],["曹子里","caozili","czl"],["车转湾","chezhuanwan","czw"],["郴州西","chenzhouxi","czx"],["沧州西","cangzhouxi","czx"],["德安","dean","da"],["大安","daan","da"],["大坝","daba","db"],["大板","daban","db"],["大巴","daba","db"],["到保","daobao","db"],["定边","dingbian","db"],["东边井","dongbianjing","dbj"],["德伯斯","debosi","dbs"],["打柴沟","dachaigou","dcg"],["德昌","dechang","dc"],["滴道","didao","dd"],["大磴沟","dadenggou","ddg"],["刀尔登","daoerdeng","ded"],["得耳布尔","deerbuer","debe"],["东方","dongfang","df"],["丹凤","danfeng","df"],["东丰","dongfeng","df"],["都格","duge","dg"],["大官屯","daguantun","dgt"],["大关","daguan","dg"],["东光","dongguang","dg"],["东海","donghai","dh"],["大灰厂","dahuichang","dhc"],["大红旗","dahongqi","dhq"],["东海县","donghaixian","dhx"],["德惠西","dehuixi","dhx"],["达家沟","dajiagou","djg"],["东津","dongjin","dj"],["杜家","dujia","dj"],["大口屯","dakoutun","dkt"],["东来","donglai","dl"],["德令哈","delingha","dlh"],["大陆号","daluhao","dlh"],["带岭","dailing","dl"],["大林","dalin","dl"],["达拉特旗","dalateqi","dltq"],["独立屯","dulitun","dlt"],["豆罗","douluo","dl"],["达拉特西","dalatexi","dltx"],["东明村","dongmingcun","dmc"],["洞庙河","dongmiaohe","dmh"],["东明县","dongmingxian","dmx"],["大拟","dani","dn"],["大平房","dapingfang","dpf"],["大盘石","dapanshi","dps"],["大埔","dapu","dp"],["大堡","dapu","db"],["大其拉哈","daqilaha","dqlh"],["道清","daoqing","dq"],["对青山","duiqingshan","dqs"],["德清西","deqingxi","dqx"],["大庆西","daqingxi","dqx"],["东升","dongsheng","ds"],["独山","dushan","ds"],["砀山","dangshan","ds"],["登沙河","dengshahe","dsh"],["读书铺","dushupu","dsp"],["大石头","dashitou","dst"],["东胜西","dongshengxi","dsx"],["大石寨","dashizhai","dsz"],["东台","dongtai","dt"],["定陶","dingtao","dt"],["灯塔","dengta","dt"],["大田边","datianbian","dtb"],["东通化","dongtonghua","dth"],["丹徒","dantu","dt"],["大屯","datun","dt"],["东湾","dongwan","dw"],["大武口","dawukou","dwk"],["低窝铺","diwopu","dwp"],["大王滩","dawangtan","dwt"],["大湾子","dawanzi","dwz"],["大兴沟","daxinggou","dxg"],["大兴","daxing","dx"],["定西","dingxi","dx"],["甸心","dianxin","dx"],["东乡","dongxiang","dx"],["代县","daixian","dx"],["定襄","dingxiang","dx"],["东戌","dongxu","dx"],["东辛庄","dongxinzhuang","dxz"],["丹阳","danyang","dy"],["大雁","dayan","dy"],["德阳","deyang","dy"],["当阳","dangyang","dy"],["丹阳北","danyangbei","dyb"],["大英东","dayingdong","dyd"],["东淤地","dongyudi","dyd"],["大营","daying","dy"],["定远","dingyuan","dy"],["岱岳","daiyue","dy"],["大元","dayuan","dy"],["大营镇","dayingzhen","dyz"],["大营子","dayingzi","dyz"],["大战场","dazhanchang","dzc"],["德州东","dezhoudong","dzd"],["低庄","dizhuang","dz"],["东镇","dongzhen","dz"],["道州","daozhou","dz"],["东至","dongzhi","dz"],["东庄","dongzhuang","dz"],["兑镇","duizhen","dz"],["豆庄","douzhuang","dz"],["定州","dingzhou","dz"],["大竹园","dazhuyuan","dzy"],["大杖子","dazhangzi","dzz"],["豆张庄","douzhangzhuang","dzz"],["峨边","ebian","eb"],["二道沟门","erdaogoumen","edgm"],["二道湾","erdaowan","edw"],["二龙","erlong","el"],["二龙山屯","erlongshantun","elst"],["峨眉","emei","em"],["二密河","ermihe","emh"],["二营","erying","ey"],["鄂州","ezhou","ez"],["福安","fuan","fa"],["丰城","fengcheng","fc"],["丰城南","fengchengnan","fcn"],["肥东","feidong","fd"],["发耳","faer","fe"],["富海","fuhai","fh"],["福海","fuhai","fh"],["凤凰城","fenghuangcheng","fhc"],["奉化","fenghua","fh"],["富锦","fujin","fj"],["范家屯","fanjiatun","fjt"],["福利屯","fulitun","flt"],["丰乐镇","fenglezhen","flz"],["阜南","funan","fn"],["阜宁","funing","fn"],["抚宁","funing","fn"],["福清","fuqing","fq"],["福泉","fuquan","fq"],["丰水村","fengshuicun","fsc"],["丰顺","fengshun","fs"],["繁峙","fanshi","fs"],["抚顺","fushun","fs"],["福山口","fushankou","fsk"],["扶绥","fusui","fs"],["冯屯","fengtun","ft"],["浮图峪","futuyu","fty"],["富县东","fuxiandong","fxd"],["凤县","fengxian","fx"],["富县","fuxian","fx"],["费县","feixian","fx"],["凤阳","fengyang","fy"],["汾阳","fenyang","fy"],["扶余北","fuyubei","fyb"],["分宜","fenyi","fy"],["富源","fuyuan","fy"],["扶余","fuyu","fy"],["富裕","fuyu","fy"],["抚州北","fuzhoubei","fzb"],["凤州","fengzhou","fz"],["丰镇","fengzhen","fz"],["范镇","fanzhen","fz"],["固安","guan","ga"],["广安","guangan","ga"],["高碑店","gaobeidian","gbd"],["沟帮子","goubangzi","gbz"],["甘草店","gancaodian","gcd"],["谷城","gucheng","gc"],["藁城","gaocheng","gc"],["高村","gaocun","gc"],["古城镇","guchengzhen","gcz"],["广德","guangde","gd"],["贵定","guiding","gd"],["贵定南","guidingnan","gdn"],["古东","gudong","gd"],["贵港","guigang","gg"],["官高","guangao","gg"],["葛根庙","gegenmiao","ggm"],["干沟","gangou","gg"],["甘谷","gangu","gg"],["高各庄","gaogezhuang","ggz"],["甘河","ganhe","gh"],["根河","genhe","gh"],["郭家店","guojiadian","gjd"],["孤家子","gujiazi","gjz"],["古浪","gulang","gl"],["皋兰","gaolan","gl"],["高楼房","gaoloufang","glf"],["归流河","guiliuhe","glh"],["关林","guanlin","gl"],["甘洛","ganluo","gl"],["郭磊庄","guoleizhuang","glz"],["高密","gaomi","gm"],["公庙子","gongmiaozi","gmz"],["工农湖","gongnonghu","gnh"],["广南卫","guangnanwei","gnw"],["高平","gaoping","gp"],["甘泉北","ganquanbei","gqb"],["共青城","gongqingcheng","gqc"],["甘旗卡","ganqika","gqk"],["甘泉","ganquan","gq"],["高桥镇","gaoqiaozhen","gqz"],["赶水","ganshui","gs"],["灌水","guanshui","gs"],["孤山口","gushankou","gsk"],["果松","guosong","gs"],["高山子","gaoshanzi","gsz"],["嘎什甸子","gashidianzi","gsdz"],["高台","gaotai","gt"],["高滩","gaotan","gt"],["古田","gutian","gt"],["官厅","guanting","gt"],["官厅西","guantingxi","gtx"],["贵溪","guixi","gx"],["涡阳","guoyang","gy"],["巩义","gongyi","gy"],["高邑","gaoyi","gy"],["巩义南","gongyinan","gyn"],["固原","guyuan","gy"],["菇园","guyuan","gy"],["公营子","gongyingzi","gyz"],["光泽","guangze","gz"],["古镇","guzhen","gz"],["瓜州","guazhou","gz"],["高州","gaozhou","gz"],["固镇","guzhen","gz"],["盖州","gaizhou","gz"],["官字井","guanzijing","gzj"],["革镇堡","gezhenpu","gzb"],["冠豸山","guanzhishan","gzs"],["盖州西","gaizhouxi","gzx"],["红安","hongan","ha"],["淮安南","huaiannan","han"],["红安西","honganxi","hax"],["海安县","haianxian","hax"],["黄柏","huangbai","hb"],["海北","haibei","hb"],["鹤壁","hebi","hb"],["华城","huacheng","hc"],["合川","hechuan","hc"],["河唇","hechun","hc"],["汉川","hanchuan","hc"],["海城","haicheng","hc"],["黑冲滩","heichongtan","hct"],["黄村","huangcun","hc"],["海城西","haichengxi","hcx"],["化德","huade","hd"],["洪洞","hongdong","hd"],["霍尔果斯","huoerguosi","hegs"],["横峰","hengfeng","hf"],["韩府湾","hanfuwan","hfw"],["汉沽","hangu","hg"],["红光镇","hongguangzhen","hgz"],["浑河","hunhe","hh"],["红花沟","honghuagou","hhg"],["黄花筒","huanghuatong","hht"],["贺家店","hejiadian","hjd"],["和静","hejing","hj"],["红江","hongjiang","hj"],["黑井","heijing","hj"],["获嘉","huojia","hj"],["河津","hejin","hj"],["涵江","hanjiang","hj"],["华家","huajia","hj"],["河间西","hejianxi","hjx"],["花家庄","huajiazhuang","hjz"],["河口南","hekounan","hkn"],["黄口","huangkou","hk"],["湖口","hukou","hk"],["呼兰","hulan","hl"],["葫芦岛北","huludaobei","hldb"],["浩良河","haolianghe","hlh"],["哈拉海","halahai","hlh"],["鹤立","heli","hl"],["桦林","hualin","hl"],["黄陵","huangling","hl"],["海林","hailin","hl"],["虎林","hulin","hl"],["寒岭","hanling","hl"],["和龙","helong","hl"],["海龙","hailong","hl"],["哈拉苏","halasu","hls"],["呼鲁斯太","hulusitai","hlst"],["火连寨","huolianzhai","hlz"],["黄梅","huangmei","hm"],["韩麻营","hanmaying","hmy"],["黄泥河","huangnihe","hnh"],["海宁","haining","hn"],["惠农","huinong","hn"],["和平","heping","hp"],["花棚子","huapengzi","hpz"],["花桥","huaqiao","hq"],["宏庆","hongqing","hq"],["怀仁","huairen","hr"],["华容","huarong","hr"],["华山北","huashanbei","hsb"],["黄松甸","huangsongdian","hsd"],["和什托洛盖","heshituoluogai","hstlg"],["红山","hongshan","hs"],["汉寿","hanshou","hs"],["衡山","hengshan","hs"],["黑水","heishui","hs"],["惠山","huishan","hs"],["虎什哈","hushiha","hsh"],["红寺堡","hongsipu","hsb"],["虎石台","hushitai","hst"],["海石湾","haishiwan","hsw"],["衡山西","hengshanxi","hsx"],["红砂岘","hongshaxian","hsj"],["黑台","heitai","ht"],["桓台","huantai","ht"],["和田","hetian","ht"],["会同","huitong","ht"],["海坨子","haituozi","htz"],["黑旺","heiwang","hw"],["海湾","haiwan","hw"],["红星","hongxing","hx"],["徽县","huixian","hx"],["红兴隆","hongxinglong","hxl"],["换新天","huanxintian","hxt"],["红岘台","hongxiantai","hxt"],["红彦","hongyan","hy"],["合阳","heyang","hy"],["海阳","haiyang","hy"],["衡阳东","hengyangdong","hyd"],["华蓥","huaying","hy"],["汉阴","hanyin","hy"],["黄羊滩","huangyangtan","hyt"],["汉源","hanyuan","hy"],["湟源","huangyuan","hy"],["河源","heyuan","hy"],["花园","huayuan","hy"],["黄羊镇","huangyangzhen","hyz"],["湖州","huzhou","hz"],["化州","huazhou","hz"],["黄州","huangzhou","hz"],["霍州","huozhou","hz"],["惠州西","huizhouxi","hzx"],["巨宝","jubao","jb"],["靖边","jingbian","jb"],["金宝屯","jinbaotun","jbt"],["晋城北","jinchengbei","jcb"],["金昌","jinchang","jc"],["鄄城","juancheng","jc"],["交城","jiaocheng","jc"],["建昌","jianchang","jc"],["峻德","junde","jd"],["井店","jingdian","jd"],["鸡东","jidong","jd"],["江都","jiangdu","jd"],["鸡冠山","jiguanshan","jgs"],["金沟屯","jingoutun","jgt"],["静海","jinghai","jh"],["金河","jinhe","jh"],["锦河","jinhe","jh"],["精河","jinghe","jh"],["精河南","jinghenan","jhn"],["江华","jianghua","jh"],["建湖","jianhu","jh"],["纪家沟","jijiagou","jjg"],["晋江","jinjiang","jj"],["江津","jiangjin","jj"],["姜家","jiangjia","jj"],["金坑","jinkeng","jk"],["芨岭","jiling","jl"],["金马村","jinmacun","jmc"],["江门","jiangmen","jm"],["角美","jiaomei","jm"],["莒南","junan","jn"],["井南","jingnan","jn"],["建瓯","jianou","jo"],["经棚","jingpeng","jp"],["江桥","jiangqiao","jq"],["九三","jiusan","js"],["金山北","jinshanbei","jsb"],["京山","jingshan","js"],["建始","jianshi","js"],["嘉善","jiashan","js"],["稷山","jishan","js"],["吉舒","jishu","js"],["建设","jianshe","js"],["甲山","jiashan","js"],["建三江","jiansanjiang","jsj"],["嘉善南","jiashannan","jsn"],["金山屯","jinshantun","jst"],["江所田","jiangsuotian","jst"],["景泰","jingtai","jt"],["九台南","jiutainan","jtn"],["吉文","jiwen","jw"],["进贤","jinxian","jx"],["莒县","juxian","jx"],["嘉祥","jiaxiang","jx"],["介休","jiexiu","jx"],["井陉","jingxing","jx"],["嘉兴","jiaxing","jx"],["嘉兴南","jiaxingnan","jxn"],["夹心子","jiaxinzi","jxz"],["简阳","jianyang","jy"],["揭阳","jieyang","jy"],["建阳","jianyang","jy"],["姜堰","jiangyan","jy"],["巨野","juye","jy"],["江永","jiangyong","jy"],["靖远","jingyuan","jy"],["缙云","jinyun","jy"],["江源","jiangyuan","jy"],["济源","jiyuan","jy"],["靖远西","jingyuanxi","jyx"],["胶州北","jiaozhoubei","jzb"],["焦作东","jiaozuodong","jzd"],["靖州","jingzhou","jz"],["荆州","jingzhou","jz"],["金寨","jinzhai","jz"],["晋州","jinzhou","jz"],["胶州","jiaozhou","jz"],["锦州南","jinzhounan","jzn"],["焦作","jiaozuo","jz"],["旧庄窝","jiuzhuangwo","jzw"],["金杖子","jinzhangzi","jzz"],["开安","kaian","ka"],["库车","kuche","kc"],["康城","kangcheng","kc"],["库都尔","kuduer","kde"],["宽甸","kuandian","kd"],["克东","kedong","kd"],["开江","kaijiang","kj"],["康金井","kangjinjing","kjj"],["喀喇其","kalaqi","klq"],["开鲁","kailu","kl"],["克拉玛依","kelamayi","klmy"],["口前","kouqian","kq"],["奎山","kuishan","ks"],["昆山","kunshan","ks"],["克山","keshan","ks"],["开通","kaitong","kt"],["康熙岭","kangxiling","kxl"],["昆阳","kunyang","ky"],["克一河","keyihe","kyh"],["开原西","kaiyuanxi","kyx"],["康庄","kangzhuang","kz"],["来宾","laibin","lb"],["老边","laobian","lb"],["灵宝西","lingbaoxi","lbx"],["龙川","longchuan","lc"],["乐昌","lechang","lc"],["黎城","licheng","lc"],["聊城","liaocheng","lc"],["蓝村","lancun","lc"],["林东","lindong","ld"],["乐都","ledu","ld"],["梁底下","liangdixia","ldx"],["六道河子","liudaohezi","ldhz"],["鲁番","lufan","lf"],["廊坊","langfang","lf"],["落垡","luofa","lf"],["廊坊北","langfangbei","lfb"],["老府","laofu","lf"],["兰岗","langang","lg"],["龙骨甸","longgudian","lgd"],["芦沟","lugou","lg"],["龙沟","longgou","lg"],["拉古","lagu","lg"],["临海","linhai","lh"],["林海","linhai","lh"],["拉哈","laha","lh"],["凌海","linghai","lh"],["柳河","liuhe","lh"],["六合","liuhe","lh"],["龙华","longhua","lh"],["滦河沿","luanheyan","lhy"],["六合镇","liuhezhen","lhz"],["亮甲店","liangjiadian","ljd"],["刘家店","liujiadian","ljd"],["刘家河","liujiahe","ljh"],["连江","lianjiang","lj"],["李家","lijia","lj"],["罗江","luojiang","lj"],["廉江","lianjiang","lj"],["庐江","lujiang","lj"],["两家","liangjia","lj"],["龙江","longjiang","lj"],["龙嘉","longjia","lj"],["莲江口","lianjiangkou","ljk"],["蔺家楼","linjialou","ljl"],["李家坪","lijiaping","ljp"],["兰考","lankao","lk"],["林口","linkou","lk"],["路口铺","lukoupu","lkp"],["老莱","laolai","ll"],["拉林","lalin","ll"],["陆良","luliang","ll"],["龙里","longli","ll"],["零陵","lingling","ll"],["临澧","linli","ll"],["兰棱","lanling","ll"],["卢龙","lulong","ll"],["喇嘛甸","lamadian","lmd"],["里木店","limudian","lmd"],["洛门","luomen","lm"],["龙南","longnan","ln"],["梁平","liangping","lp"],["罗平","luoping","lp"],["落坡岭","luopoling","lpl"],["六盘山","liupanshan","lps"],["乐平市","lepingshi","lps"],["临清","linqing","lq"],["龙泉寺","longquansi","lqs"],["乐山北","leshanbei","ls"],["乐善村","leshancun","lsc"],["冷水江东","lengshuijiangdong","lsjd"],["连山关","lianshanguan","lsg"],["流水沟","liushuigou","lsg"],["陵水","lingshui","ls"],["罗山","luoshan","ls"],["鲁山","lushan","ls"],["丽水","lishui","ls"],["梁山","liangshan","ls"],["灵石","lingshi","ls"],["露水河","lushuihe","lsh"],["庐山","lushan","ls"],["林盛堡","linshengpu","lsp"],["柳树屯","liushutun","lst"],["龙山镇","longshanzhen","lsz"],["梨树镇","lishuzhen","lsz"],["李石寨","lishizhai","lsz"],["黎塘","litang","lt"],["轮台","luntai","lt"],["芦台","lutai","lt"],["龙塘坝","longtangba","ltb"],["濑湍","laituan","lt"],["骆驼巷","luotuoxiang","ltx"],["李旺","liwang","lw"],["莱芜东","laiwudong","lwd"],["狼尾山","langweishan","lws"],["灵武","lingwu","lw"],["莱芜西","laiwuxi","lwx"],["朗乡","langxiang","lx"],["陇县","longxian","lx"],["临湘","linxiang","lx"],["芦溪","luxi","lx"],["莱西","laixi","lx"],["林西","linxi","lx"],["滦县","luanxian","lx"],["略阳","lueyang","ly"],["辽阳","liaoyang","ly"],["临沂北","linyibei","lyb"],["凌源东","lingyuandong","lyd"],["连云港","lianyungang","lyg"],["临颍","linying","ly"],["老营","laoying","ly"],["龙游","longyou","ly"],["罗源","luoyuan","ly"],["林源","linyuan","ly"],["涟源","lianyuan","ly"],["涞源","laiyuan","ly"],["耒阳西","leiyangxi","lyx"],["临泽","linze","lz"],["龙爪沟","longzhaogou","lzg"],["雷州","leizhou","lz"],["六枝","liuzhi","lz"],["鹿寨","luzhai","lz"],["来舟","laizhou","lz"],["龙镇","longzhen","lz"],["拉鲊","lazha","lz"],["马鞍山","maanshan","mas"],["毛坝","maoba","mb"],["毛坝关","maobaguan","mbg"],["麻城北","machengbei","mcb"],["渑池","mianchi","mc"],["明城","mingcheng","mc"],["庙城","miaocheng","mc"],["渑池南","mianchinan","mcn"],["茅草坪","maocaoping","mcp"],["猛洞河","mengdonghe","mdh"],["磨刀石","modaoshi","mds"],["弥渡","midu","md"],["帽儿山","maoershan","mes"],["明港","minggang","mg"],["梅河口","meihekou","mhk"],["马皇","mahuang","mh"],["孟家岗","mengjiagang","mjg"],["美兰","meilan","ml"],["汨罗东","miluodong","mld"],["马莲河","malianhe","mlh"],["茅岭","maoling","ml"],["庙岭","miaoling","ml"],["茂林","maolin","ml"],["穆棱","muling","ml"],["马林","malin","ml"],["马龙","malong","ml"],["汨罗","miluo","ml"],["木里图","mulitu","mlt"],["玛纳斯湖","manasihu","mnsh"],["冕宁","mianning","mn"],["沐滂","mupang","mp"],["马桥河","maqiaohe","mqh"],["闽清","minqing","mq"],["民权","minquan","mq"],["明水河","mingshuihe","msh"],["麻山","mashan","ms"],["眉山","meishan","ms"],["漫水湾","manshuiwan","msw"],["茂舍祖","maoshezu","msz"],["米沙子","mishazi","msz"],["美溪","meixi","mx"],["勉县","mianxian","mx"],["麻阳","mayang","my"],["密云北","miyunbei","myb"],["米易","miyi","my"],["麦园","maiyuan","my"],["墨玉","moyu","my"],["庙庄","miaozhuang","mz"],["米脂","mizhi","mz"],["明珠","mingzhu","mz"],["宁安","ningan","na"],["农安","nongan","na"],["南博山","nanboshan","nbs"],["南仇","nanchou","nc"],["南城司","nanchengsi","ncs"],["宁村","ningcun","nc"],["宁德","ningde","nd"],["南观村","nanguancun","ngc"],["南宫东","nangongdong","ngd"],["南关岭","nanguanling","ngl"],["宁国","ningguo","ng"],["宁海","ninghai","nh"],["南河川","nanhechuan","nhc"],["南华","nanhua","nh"],["泥河子","nihezi","nhz"],["宁家","ningjia","nj"],["南靖","nanjing","nj"],["牛家","niujia","nj"],["能家","nengjia","nj"],["南口","nankou","nk"],["南口前","nankouqian","nkq"],["南朗","nanlang","nl"],["乃林","nailin","nl"],["尼勒克","nileke","nlk"],["那罗","naluo","nl"],["宁陵县","ninglingxian","nlx"],["奈曼","naiman","nm"],["宁明","ningming","nm"],["南木","nanmu","nm"],["南平南","nanpingnan","npn"],["那铺","napu","np"],["南桥","nanqiao","nq"],["那曲","naqu","nq"],["暖泉","nuanquan","nq"],["南台","nantai","nt"],["南头","nantou","nt"],["宁武","ningwu","nw"],["南湾子","nanwanzi","nwz"],["南翔北","nanxiangbei","nxb"],["宁乡","ningxiang","nx"],["内乡","neixiang","nx"],["牛心台","niuxintai","nxt"],["南峪","nanyu","ny"],["娘子关","niangziguan","nzg"],["南召","nanzhao","nz"],["南杂木","nanzamu","nzm"],["平安","pingan","pa"],["蓬安","pengan","pa"],["平安驿","pinganyi","pay"],["磐安镇","pananzhen","paz"],["平安镇","pinganzhen","paz"],["蒲城东","puchengdong","pcd"],["蒲城","pucheng","pc"],["裴德","peide","pd"],["偏店","piandian","pd"],["平顶山西","pingdingshanxi","pdsx"],["坡底下","podixia","pdx"],["瓢儿屯","piaoertun","pet"],["平房","pingfang","pf"],["平岗","pinggang","pg"],["平关","pingguan","pg"],["盘关","panguan","pg"],["平果","pingguo","pg"],["徘徊北","paihuibei","phb"],["平河口","pinghekou","phk"],["盘锦北","panjinbei","pjb"],["潘家店","panjiadian","pjd"],["普兰店","pulandian","pld"],["偏岭","pianling","pl"],["平山","pingshan","ps"],["彭山","pengshan","ps"],["皮山","pishan","ps"],["彭水","pengshui","ps"],["磐石","panshi","ps"],["平社","pingshe","ps"],["平台","pingtai","pt"],["平田","pingtian","pt"],["莆田","putian","pt"],["葡萄菁","putaoqing","ptj"],["普湾","puwan","pw"],["平旺","pingwang","pw"],["平型关","pingxingguan","pxg"],["普雄","puxiong","px"],["郫县","pixian","px"],["平洋","pingyang","py"],["彭阳","pengyang","py"],["平遥","pingyao","py"],["平邑","pingyi","py"],["平原堡","pingyuanpu","pyp"],["平原","pingyuan","py"],["平峪","pingyu","py"],["彭泽","pengze","pz"],["邳州","pizhou","pz"],["平庄","pingzhuang","pz"],["泡子","paozi","pz"],["平庄南","pingzhuangnan","pzn"],["乾安","qianan","qa"],["庆安","qingan","qa"],["迁安","qianan","qa"],["祁东北","qidongbei","qd"],["七甸","qidian","qd"],["曲阜东","qufudong","qfd"],["庆丰","qingfeng","qf"],["奇峰塔","qifengta","qft"],["曲阜","qufu","qf"],["琼海","qionghai","qh"],["秦皇岛","qinhuangdao","qhd"],["千河","qianhe","qh"],["清河","qinghe","qh"],["清河门","qinghemen","qhm"],["清华园","qinghuayuan","qhy"],["渠旧","qujiu","qj"],["綦江","qijiang","qj"],["潜江","qianjiang","qj"],["全椒","quanjiao","qj"],["秦家","qinjia","qj"],["祁家堡","qijiapu","qjb"],["清涧县","qingjianxian","qjx"],["秦家庄","qinjiazhuang","qjz"],["七里河","qilihe","qlh"],["渠黎","quli","ql"],["秦岭","qinling","ql"],["青龙山","qinglongshan","qls"],["祁门","qimen","qm"],["前磨头","qianmotou","qmt"],["青山","qingshan","qs"],["确山","queshan","qs"],["清水","qingshui","qs"],["前山","qianshan","qs"],["戚墅堰","qishuyan","qsy"],["青田","qingtian","qt"],["桥头","qiaotou","qt"],["青铜峡","qingtongxia","qtx"],["前卫","qianwei","qw"],["前苇塘","qianweitang","qwt"],["渠县","quxian","qx"],["祁县","qixian","qx"],["青县","qingxian","qx"],["桥西","qiaoxi","qx"],["清徐","qingxu","qx"],["旗下营","qixiaying","qxy"],["千阳","qianyang","qy"],["沁阳","qinyang","qy"],["泉阳","quanyang","qy"],["祁阳北","qiyangbei","qy"],["七营","qiying","qy"],["庆阳山","qingyangshan","qys"],["清远","qingyuan","qy"],["清原","qingyuan","qy"],["钦州东","qinzhoudong","qzd"],["钦州","qinzhou","qz"],["青州市","qingzhoushi","qzs"],["瑞安","ruian","ra"],["荣昌","rongchang","rc"],["瑞昌","ruichang","rc"],["如皋","rugao","rg"],["容桂","ronggui","rg"],["任丘","renqiu","rq"],["乳山","rushan","rs"],["融水","rongshui","rs"],["热水","reshui","rs"],["容县","rongxian","rx"],["饶阳","raoyang","ry"],["汝阳","ruyang","ry"],["绕阳河","raoyanghe","ryh"],["汝州","ruzhou","rz"],["石坝","shiba","sb"],["上板城","shangbancheng","sbc"],["施秉","shibing","sb"],["上板城南","shangbanchengnan","sbcn"],["世博园","shiboyuan","sby"],["双城北","shuangchengbei","scb"],["商城","shangcheng","sc"],["莎车","shache","sc"],["顺昌","shunchang","sc"],["舒城","shucheng","sc"],["神池","shenchi","sc"],["沙城","shacheng","sc"],["石城","shicheng","sc"],["山城镇","shanchengzhen","scz"],["山丹","shandan","sd"],["顺德","shunde","sd"],["绥德","suide","sd"],["水洞","shuidong","sd"],["商都","shangdu","sd"],["十渡","shidu","sd"],["四道湾","sidaowan","sdw"],["顺德学院","shundexueyuan","sdxy"],["绅坊","shenfang","sf"],["双丰","shuangfeng","sf"],["四方台","sifangtai","sft"],["水富","shuifu","sf"],["三关口","sanguankou","sgk"],["桑根达来","sanggendalai","sgdl"],["韶关","shaoguan","sg"],["上高镇","shanggaozhen","sgz"],["上杭","shanghang","sh"],["沙海","shahai","sh"],["松河","songhe","sh"],["沙河","shahe","sh"],["沙河口","shahekou","shk"],["赛汗塔拉","saihantala","shtl"],["沙河市","shaheshi","shs"],["沙后所","shahousuo","shs"],["山河屯","shanhetun","sht"],["三河县","sanhexian","shx"],["四合永","siheyong","shy"],["三汇镇","sanhuizhen","shz"],["双河镇","shuanghezhen","shz"],["石河子","shihezi","shz"],["三合庄","sanhezhuang","shz"],["三家店","sanjiadian","sjd"],["水家湖","shuijiahu","sjh"],["沈家河","shenjiahe","sjh"],["松江河","songjianghe","sjh"],["尚家","shangjia","sj"],["孙家","sunjia","sj"],["沈家","shenjia","sj"],["松江","songjiang","sj"],["三江口","sanjiangkou","sjk"],["司家岭","sijialing","sjl"],["松江南","songjiangnan","sjn"],["石景山南","shijingshannan","sjsn"],["邵家堂","shaojiatang","sjt"],["三江县","sanjiangxian","sjx"],["三家寨","sanjiazhai","sjz"],["十家子","shijiazi","sjz"],["松江镇","songjiangzhen","sjz"],["施家嘴","shijiazui","sjz"],["深井子","shenjingzi","sjz"],["什里店","shilidian","sld"],["疏勒","shule","sl"],["疏勒河","shulehe","slh"],["舍力虎","shelihu","slh"],["石磷","shilin","sl"],["双辽","shuangliao","sl"],["绥棱","suiling","sl"],["石岭","shiling","sl"],["石林","shilin","sl"],["石林南","shilinnan","sln"],["石龙","shilong","sl"],["萨拉齐","salaqi","slq"],["索伦","suolun","sl"],["商洛","shangluo","sl"],["沙岭子","shalingzi","slz"],["石门县北","shimenxianbei","smxb"],["三门峡南","sanmenxianan","smxn"],["三门县","sanmenxian","smx"],["石门县","shimenxian","smx"],["三门峡西","sanmenxiaxi","smxx"],["肃宁","suning","sn"],["宋","song","s"],["双牌","shuangpai","sp"],["四平东","sipingdong","spd"],["遂平","suiping","sp"],["沙坡头","shapotou","spt"],["商丘南","shangqiunan","sqn"],["水泉","shuiquan","sq"],["石泉县","shiquanxian","sqx"],["石桥子","shiqiaozi","sqz"],["石人城","shirencheng","src"],["石人","shiren","sr"],["山市","shanshi","ss"],["神树","shenshu","ss"],["鄯善","shanshan","ss"],["三水","sanshui","ss"],["泗水","sishui","ss"],["石山","shishan","ss"],["松树","songshu","ss"],["首山","shoushan","ss"],["三十家","sanshijia","ssj"],["三十里堡","sanshilipu","sslb"],["松树镇","songshuzhen","ssz"],["松桃","songtao","st"],["索图罕","suotuhan","sth"],["三堂集","santangji","stj"],["石头","shitou","st"],["神头","shentou","st"],["沙沱","shatuo","st"],["上万","shangwan","sw"],["孙吴","sunwu","sw"],["沙湾县","shawanxian","swx"],["遂溪","suixi","sx"],["沙县","shaxian","sx"],["绍兴","shaoxing","sx"],["歙县","shexian","sx"],["石岘","shixian","sj"],["上西铺","shangxipu","sxp"],["石峡子","shixiazi","sxz"],["绥阳","suiyang","sy"],["沭阳","shuyang","sy"],["寿阳","shouyang","sy"],["水洋","shuiyang","sy"],["三阳川","sanyangchuan","syc"],["上腰墩","shangyaodun","syd"],["三营","sanying","sy"],["顺义","shunyi","sy"],["三义井","sanyijing","syj"],["三源浦","sanyuanpu","syp"],["三原","sanyuan","sy"],["上虞","shangyu","sy"],["上园","shangyuan","sy"],["水源","shuiyuan","sy"],["桑园子","sangyuanzi","syz"],["绥中北","suizhongbei","szb"],["苏州北","suzhoubei","szb"],["宿州东","suzhoudong","szd"],["深圳东","shenzhendong","szd"],["深州","shenzhou","sz"],["孙镇","sunzhen","sz"],["绥中","suizhong","sz"],["尚志","shangzhi","sz"],["师庄","shizhuang","sz"],["松滋","songzi","sz"],["师宗","shizong","sz"],["苏州园区","suzhouyuanqu","szyq"],["苏州新区","suzhouxinqu","szxq"],["泰安","taian","ta"],["台安","taian","ta"],["通安驿","tonganyi","tay"],["桐柏","tongbai","tb"],["通北","tongbei","tb"],["汤池","tangchi","tc"],["桐城","tongcheng","tc"],["郯城","tancheng","tc"],["铁厂","tiechang","tc"],["桃村","taocun","tc"],["通道","tongdao","td"],["田东","tiandong","td"],["天岗","tiangang","tg"],["土贵乌拉","tuguiwula","tgwl"],["通沟","tonggou","tg"],["太谷","taigu","tg"],["塔哈","taha","th"],["棠海","tanghai","th"],["唐河","tanghe","th"],["泰和","taihe","th"],["太湖","taihu","th"],["团结","tuanjie","tj"],["谭家井","tanjiajing","tjj"],["陶家屯","taojiatun","tjt"],["唐家湾","tangjiawan","tjw"],["统军庄","tongjunzhuang","tjz"],["泰康","taikang","tk"],["吐列毛杜","tuliemaodu","tlmd"],["图里河","tulihe","tlh"],["亭亮","tingliang","tl"],["田林","tianlin","tl"],["铜陵","tongling","tl"],["铁力","tieli","tl"],["铁岭西","tielingxi","tlx"],["天门","tianmen","tm"],["天门南","tianmennan","tmn"],["太姥山","taimushan","tms"],["土牧尔台","tumuertai","tmet"],["土门子","tumenzi","tmz"],["潼南","tongnan","tn"],["洮南","taonan","tn"],["太平川","taipingchuan","tpc"],["太平镇","taipingzhen","tpz"],["图强","tuqiang","tq"],["台前","taiqian","tq"],["天桥岭","tianqiaoling","tql"],["土桥子","tuqiaozi","tqz"],["汤山城","tangshancheng","tsc"],["桃山","taoshan","ts"],["塔石嘴","tashizui","tsz"],["通途","tongtu","tt"],["汤旺河","tangwanghe","twh"],["同心","tongxin","tx"],["土溪","tuxi","tx"],["桐乡","tongxiang","tx"],["田阳","tianyang","ty"],["天义","tianyi","ty"],["汤阴","tangyin","ty"],["驼腰岭","tuoyaoling","tyl"],["太阳山","taiyangshan","tys"],["汤原","tangyuan","ty"],["塔崖驿","tayayi","tyy"],["滕州东","tengzhoudong","tzd"],["台州","taizhou","tz"],["天祝","tianzhu","tz"],["滕州","tengzhou","tz"],["天镇","tianzhen","tz"],["桐子林","tongzilin","tzl"],["天柱山","tianzhushan","tzs"],["文安","wenan","wa"],["武安","wuan","wa"],["王安镇","wanganzhen","waz"],["旺苍","wangcang","wc"],["五叉沟","wuchagou","wcg"],["文昌","wenchang","wc"],["温春","wenchun","wc"],["五大连池","wudalianchi","wdlc"],["文登","wendeng","wd"],["五道沟","wudaogou","wdg"],["五道河","wudaohe","wdh"],["文地","wendi","wd"],["卫东","weidong","wd"],["武当山","wudangshan","wds"],["望都","wangdu","wd"],["乌尔旗汗","wuerqihan","weqh"],["潍坊","weifang","wf"],["万发屯","wanfatun","wft"],["王府","wangfu","wf"],["瓦房店西","wafangdianxi","wfdx"],["王岗","wanggang","wg"],["武功","wugong","wg"],["湾沟","wangou","wg"],["吴官田","wuguantian","wgt"],["乌海","wuhai","wh"],["苇河","weihe","wh"],["卫辉","weihui","wh"],["吴家川","wujiachuan","wjc"],["五家","wujia","wj"],["威箐","weiqing","wq"],["午汲","wuji","wj"],["渭津","weijin","wj"],["王家湾","wangjiawan","wjw"],["倭肯","woken","wk"],["五棵树","wukeshu","wks"],["五龙背","wulongbei","wlb"],["乌兰哈达","wulanhada","wlhd"],["万乐","wanle","wl"],["瓦拉干","walagan","wlg"],["温岭","wenling","wl"],["五莲","wulian","wl"],["乌拉特前旗","wulateqianqi","wltqq"],["乌拉山","wulashan","wls"],["卧里屯","wolitun","wlt"],["渭南北","weinanbei","wnb"],["乌奴耳","wunuer","wne"],["万宁","wanning","wn"],["万年","wannian","wn"],["渭南南","weinannan","wnn"],["渭南镇","weinanzhen","wnz"],["沃皮","wopi","wp"],["吴堡","wupu","wb"],["吴桥","wuqiao","wq"],["汪清","wangqing","wq"],["武清","wuqing","wq"],["武山","wushan","ws"],["文水","wenshui","ws"],["魏善庄","weishanzhuang","wsz"],["王瞳","wangtong","wt"],["五台山","wutaishan","wts"],["王团庄","wangtuanzhuang","wtz"],["五五","wuwu","ww"],["无锡东","wuxidong","wxd"],["卫星","weixing","wx"],["闻喜","wenxi","wx"],["武乡","wuxiang","wx"],["无锡新区","wuxixinqu","wxxq"],["武穴","wuxue","wx"],["吴圩","wuxu","wy"],["王杨","wangyang","wy"],["五营","wuying","wy"],["武义","wuyi","wy"],["瓦窑田","wayaotian","wjt"],["五原","wuyuan","wy"],["苇子沟","weizigou","wzg"],["韦庄","weizhuang","wz"],["五寨","wuzhai","wz"],["王兆屯","wangzhaotun","wzt"],["微子镇","weizizhen","wzz"],["魏杖子","weizhangzi","wzz"],["新安","xinan","xa"],["兴安","xingan","xa"],["新安县","xinanxian","xax"],["新保安","xinbaoan","xba"],["下板城","xiabancheng","xbc"],["西八里","xibali","xbl"],["宣城","xuancheng","xc"],["兴城","xingcheng","xc"],["小村","xiaocun","xc"],["新绰源","xinchuoyuan","xcy"],["下城子","xiachengzi","xcz"],["新城子","xinchengzi","xcz"],["喜德","xide","xd"],["小得江","xiaodejiang","xdj"],["西大庙","xidamiao","xdm"],["小董","xiaodong","xd"],["小东","xiaodong","xdo"],["息烽","xifeng","xf"],["信丰","xinfeng","xf"],["襄汾","xiangfen","xf"],["新干","xingan","xg"],["孝感","xiaogan","xg"],["西固城","xigucheng","xgc"],["夏官营","xiaguanying","xgy"],["西岗子","xigangzi","xgz"],["襄河","xianghe","xh"],["新和","xinhe","xh"],["宣和","xuanhe","xh"],["斜河涧","xiehejian","xhj"],["新华屯","xinhuatun","xht"],["新华","xinhua","xh"],["新化","xinhua","xh"],["宣化","xuanhua","xh"],["兴和西","xinghexi","xhx"],["小河沿","xiaoheyan","xhy"],["下花园","xiahuayuan","xhy"],["小河镇","xiaohezhen","xhz"],["徐家","xujia","xj"],["峡江","xiajiang","xj"],["新绛","xinjiang","xj"],["辛集","xinji","xj"],["新江","xinjiang","xj"],["西街口","xijiekou","xjk"],["许家屯","xujiatun","xjt"],["许家台","xujiatai","xjt"],["谢家镇","xiejiazhen","xjz"],["兴凯","xingkai","xk"],["小榄","xiaolan","xl"],["香兰","xianglan","xl"],["兴隆店","xinglongdian","xld"],["新乐","xinle","xl"],["新林","xinlin","xl"],["小岭","xiaoling","xl"],["新李","xinli","xl"],["西林","xilin","xl"],["西柳","xiliu","xl"],["仙林","xianlin","xl"],["新立屯","xinlitun","xlt"],["兴隆镇","xinglongzhen","xlz"],["新立镇","xinlizhen","xlz"],["新民","xinmin","xm"],["西麻山","ximashan","xms"],["下马塘","xiamatang","xmt"],["孝南","xiaonan","xn"],["咸宁北","xianningbei","xnb"],["兴宁","xingning","xn"],["咸宁","xianning","xn"],["犀浦东","xipudong","xpd"],["西平","xiping","xp"],["兴平","xingping","xp"],["新坪田","xinpingtian","xpt"],["霞浦","xiapu","xp"],["溆浦","xupu","xp"],["犀浦","xipu","xp"],["新青","xinqing","xq"],["新邱","xinqiu","xq"],["兴泉堡","xingquanpu","xqp"],["仙人桥","xianrenqiao","xrq"],["小寺沟","xiaosigou","xsg"],["杏树","xingshu","xs"],["夏石","xiashi","xs"],["浠水","xishui","xs"],["下社","xiashe","xs"],["徐水","xushui","xs"],["小哨","xiaoshao","xs"],["新松浦","xinsongpu","xsp"],["杏树屯","xingshutun","xst"],["许三湾","xusanwan","xsw"],["湘潭","xiangtan","xt"],["邢台","xingtai","xt"],["仙桃西","xiantaoxi","xtx"],["下台子","xiataizi","xtz"],["徐闻","xuwen","xw"],["新窝铺","xinwopu","xwp"],["修武","xiuwu","xw"],["新县","xinxian","xx"],["西乡","xixiang","xx"],["湘乡","xiangxiang","xx"],["西峡","xixia","xx"],["孝西","xiaoxi","xx"],["小新街","xiaoxinjie","xxj"],["新兴县","xinxingxian","xxx"],["西小召","xixiaozhao","xxz"],["小西庄","xiaoxizhuang","xxz"],["向阳","xiangyang","xy"],["旬阳","xunyang","xy"],["旬阳北","xunyangbei","xyb"],["襄阳东","xiangyangdong","xyd"],["兴业","xingye","xy"],["小雨谷","xiaoyugu","xyg"],["信宜","xinyi","xy"],["小月旧","xiaoyuejiu","xyj"],["小扬气","xiaoyangqi","xyq"],["祥云","xiangyun","xy"],["襄垣","xiangyuan","xy"],["夏邑县","xiayixian","xyx"],["新友谊","xinyouyi","xyy"],["新阳镇","xinyangzhen","xyz"],["徐州东","xuzhoudong","xzd"],["新帐房","xinzhangfang","xzf"],["悬钟","xuanzhong","xz"],["新肇","xinzhao","xz"],["忻州","xinzhou","xz"],["汐子","xizi","xz"],["西哲里木","xizhelimu","xzlm"],["新杖子","xinzhangzi","xzz"],["姚安","yaoan","ya"],["依安","yian","ya"],["永安","yongan","ya"],["永安乡","yonganxiang","yax"],["亚布力","yabuli","ybl"],["元宝山","yuanbaoshan","ybs"],["羊草","yangcao","yc"],["秧草地","yangcaodi","ycd"],["阳澄湖","yangchenghu","ych"],["迎春","yingchun","yc"],["叶城","yecheng","yc"],["盐池","yanchi","yc"],["砚川","yanchuan","yc"],["阳春","yangchun","yc"],["宜城","yicheng","yc"],["应城","yingcheng","yc"],["禹城","yucheng","yc"],["羊场","yangchang","yc"],["阳城","yangcheng","yc"],["阳岔","yangcha","yc"],["郓城","yuncheng","yc"],["雁翅","yanchi","yc"],["云彩岭","yuncailing","ycl"],["虞城县","yuchengxian","ycx"],["营城子","yingchengzi","ycz"],["永登","yongdeng","yd"],["英德","yingde","yd"],["尹地","yindi","yd"],["永定","yongding","yd"],["雁荡山","yandangshan","yds"],["于都","yudu","yd"],["园墩","yuandun","yd"],["英德西","yingdexi","ydx"],["永丰营","yongfengying","yfy"],["杨岗","yanggang","yg"],["阳高","yanggao","yg"],["阳谷","yanggu","yg"],["友好","youhao","yh"],["余杭","yuhang","yh"],["沿河城","yanhecheng","yhc"],["岩会","yanhui","yh"],["羊臼河","yangjiuhe","yjh"],["永嘉","yongjia","yj"],["营街","yingjie","yj"],["盐津","yanjin","yj"],["余江","yujiang","yj"],["燕郊","yanjiao","yj"],["姚家","yaojia","yj"],["岳家井","yuejiajing","yjj"],["一间堡","yijianpu","yjb"],["英吉沙","yingjisha","yjs"],["云居寺","yunjusi","yjs"],["燕家庄","yanjiazhuang","yjz"],["永康","yongkang","yk"],["营口东","yingkoudong","ykd"],["银浪","yinlang","yl"],["永郎","yonglang","yl"],["宜良北","yiliangbei","ylb"],["永乐店","yongledian","yld"],["伊拉哈","yilaha","ylh"],["伊林","yilin","yl"],["杨陵","yangling","yl"],["彝良","yiliang","yl"],["杨林","yanglin","yl"],["余粮堡","yuliangpu","ylb"],["杨柳青","yangliuqing","ylq"],["月亮田","yueliangtian","ylt"],["亚龙湾","yalongwan","ylw"],["义马","yima","ym"],["玉门","yumen","ym"],["云梦","yunmeng","ym"],["元谋","yuanmou","ym"],["阳明堡","yangmingpu","ymp"],["一面山","yimianshan","yms"],["沂南","yinan","yn"],["宜耐","yinai","yn"],["伊宁东","yiningdong","ynd"],["营盘水","yingpanshui","yps"],["羊堡","yangpu","yp"],["阳泉北","yangquanbei","yqb"],["乐清","yueqing","yq"],["焉耆","yanqi","yq"],["源迁","yuanqian","yq"],["姚千户屯","yaoqianhutun","yqht"],["阳曲","yangqu","yq"],["榆树沟","yushugou","ysg"],["月山","yueshan","ys"],["玉石","yushi","ys"],["偃师","yanshi","ys"],["沂水","yishui","ys"],["榆社","yushe","ys"],["窑上","yaoshang","ys"],["元氏","yuanshi","ys"],["杨树岭","yangshuling","ysl"],["野三坡","yesanpo","ysp"],["榆树屯","yushutun","yst"],["榆树台","yushutai","yst"],["鹰手营子","yingshouyingzi","ysyz"],["源潭","yuantan","yt"],["牙屯堡","yatunpu","ytb"],["烟筒山","yantongshan","yts"],["烟筒屯","yantongtun","ytt"],["羊尾哨","yangweishao","yws"],["越西","yuexi","yx"],["攸县","youxian","yx"],["玉溪","yuxi","yx"],["永修","yongxiu","yx"],["弋阳","yiyang","yy"],["酉阳","youyang","yy"],["余姚","yuyao","yy"],["岳阳东","yueyangdong","yyd"],["阳邑","yangyi","yy"],["鸭园","yayuan","yy"],["鸳鸯镇","yuanyangzhen","yyz"],["燕子砭","yanzibian","yzb"],["宜州","yizhou","yz"],["仪征","yizheng","yz"],["兖州","yanzhou","yz"],["迤资","yizi","yz"],["羊者窝","yangzhewo","wzw"],["杨杖子","yangzhangzi","yzz"],["镇安","zhenan","za"],["治安","zhian","za"],["招柏","zhaobai","zb"],["张百湾","zhangbaiwan","zbw"],["枝城","zhicheng","zc"],["子长","zichang","zc"],["诸城","zhucheng","zc"],["邹城","zoucheng","zc"],["赵城","zhaocheng","zc"],["章党","zhangdang","zd"],["肇东","zhaodong","zd"],["照福铺","zhaofupu","zfp"],["章古台","zhanggutai","zgt"],["赵光","zhaoguang","zg"],["中和","zhonghe","zh"],["中华门","zhonghuamen","zhm"],["枝江北","zhijiangbei","zjb"],["钟家村","zhongjiacun","zjc"],["朱家沟","zhujiagou","zjg"],["紫荆关","zijingguan","zjg"],["周家","zhoujia","zj"],["诸暨","zhuji","zj"],["镇江南","zhenjiangnan","zjn"],["周家屯","zhoujiatun","zjt"],["褚家湾","zhujiawan","cjw"],["湛江西","zhanjiangxi","zjx"],["朱家窑","zhujiayao","zjy"],["曾家坪子","zengjiapingzi","zjpz"],["张兰","zhanglan","zla"],["镇赉","zhenlai","zl"],["枣林","zaolin","zl"],["扎鲁特","zhalute","zlt"],["扎赉诺尔西","zhalainuoerxi","zlnex"],["樟木头","zhangmutou","zmt"],["中牟","zhongmu","zm"],["中宁东","zhongningdong","znd"],["中宁","zhongning","zn"],["中宁南","zhongningnan","znn"],["镇平","zhenping","zp"],["漳平","zhangping","zp"],["泽普","zepu","zp"],["枣强","zaoqiang","zq"],["张桥","zhangqiao","zq"],["章丘","zhangqiu","zq"],["朱日和","zhurihe","zrh"],["泽润里","zerunli","zrl"],["中山北","zhongshanbei","zsb"],["樟树东","zhangshudong","zsd"],["中山","zhongshan","zs"],["柞水","zhashui","zs"],["钟山","zhongshan","zs"],["樟树","zhangshu","zs"],["珠窝","zhuwo","zw"],["张维屯","zhangweitun","zwt"],["彰武","zhangwu","zw"],["棕溪","zongxi","zx"],["钟祥","zhongxiang","zx"],["资溪","zixi","zx"],["镇西","zhenxi","zx"],["张辛","zhangxin","zx"],["正镶白旗","zhengxiangbaiqi","zxbq"],["紫阳","ziyang","zy"],["枣阳","zaoyang","zy"],["竹园坝","zhuyuanba","zyb"],["张掖","zhangye","zy"],["镇远","zhenyuan","zy"],["朱杨溪","zhuyangxi","zyx"],["漳州东","zhangzhoudong","zzd"],["漳州","zhangzhou","zz"],["壮志","zhuangzhi","zz"],["子洲","zizhou","zz"],["中寨","zhongzhai","zz"],["涿州","zhuozhou","zz"],["咋子","zhazi","zz"],["卓资山","zhuozishan","zzs"],["株洲西","zhuzhouxi","zzx"],["安仁","anren","ar"],["安阳东","anyangdong","ayd"],["栟茶","bencha","bc"],["保定东","baodingdong","bdd"],["滨海","binhai","bh"],["滨海北","binhaibei","bhb"],["宝鸡南","baojinan","bjn"],["茶陵南","chalingnan","cln"],["长寿北","changshoubei","csb"],["潮汕","chaoshan","cs"],["长兴","changxing","cx"],["长阳","changyang","cy"],["潮阳","chaoyang","cy"],["东安东","dongandong","dad"],["东戴河","dongdaihe","ddh"],["东二道河","dongerdaohe","dedh"],["东莞","dongguan","dg"],["大苴","daju","dj"],["大荔","dali","dl"],["大青沟","daqinggou","dqg"],["德清","deqing","dq"],["大冶北","dayebei","dyb"],["定州东","dingzhoudong","dzd"],["鄂州东","ezhoudong","ezd"],["防城港北","fangchenggangbei","fcgb"],["富川","fuchuan","fc"],["丰都","fengdu","fd"],["涪陵北","fulingbei","flb"],["抚远","fuyuan","fy"],["抚州","fuzhou","fz"],["广安南","guangannan","gan"],["高碑店东","gaobeidiandong","gbdd"],["葛店南","gediannan","gdn"],["革居","geju","gj"],["光明城","guangmingcheng","gmc"],["桂平","guiping","gp"],["广通北","guangtongbei","gtb"],["高邑西","gaoyixi","gyx"],["鹤壁东","hebidong","hbd"],["寒葱沟","hanconggou","hcg"],["邯郸东","handandong","hdd"],["惠东","huidong","hd"],["洪洞西","hongdongxi","hdx"],["合肥北城","hefeibeicheng","hfbc"],["黄冈","huanggang","hg"],["黄冈东","huanggangdong","hgd"],["横沟桥东","henggouqiaodong","hgqd"],["黄冈西","huanggangxi","hgx"],["洪河","honghe","hh"],["花湖","huahu","hh"],["鲘门","houmen","hm"],["虎门","humen","hm"],["侯马西","houmaxi","hmx"],["衡南","hengnan","hn"],["淮南东","huainandong","hnd"],["合浦","hepu","hp"],["霍邱","huoqiu","hq"],["怀仁东","huairendong","hrd"],["华容东","huarongdong","hrd"],["华容南","huarongnan","hrn"],["黄石北","huangshibei","hsb"],["贺胜桥东","heshengqiaodong","hsqd"],["花山南","huashannan","hsn"],["霍州东","huozhoudong","hzd"],["惠州南","huizhounan","hzn"],["军粮城北","junliangchengbei","jlcb"],["将乐","jiangle","jl"],["建宁县北","jianningxianbei","jnxb"],["江宁","jiangning","jn"],["句容西","jurongxi","jrx"],["建水","jianshui","js"],["界首市","jieshoushi","jss"],["介休东","jiexiudong","jxd"],["晋中","jinzhong","jz"],["库伦","kulun","kl"],["葵潭","kuitan","kt"],["来宾北","laibinbei","lbb"],["灵璧","lingbi","lb"],["离堆公园","liduigongyuan","ldgy"],["陆丰","lufeng","lf"],["禄丰南","lufengnan","lfn"],["临汾西","linfenxi","lfx"],["滦河","luanhe","lh"],["漯河西","luohexi","lhx"],["灵石东","lingshidong","lsd"],["龙市","longshi","sh"],["溧水","lishui","ls"],["溧阳","liyang","ly"],["明港东","minggangdong","mgd"],["玛纳斯","manasi","mns"],["庙山","miaoshan","ms"],["蒙自北","mengzibei","mzb"],["南城","nancheng","nc"],["南昌西","nanchangxi","ncx"],["南丰","nanfeng","nf"],["南湖东","nanhudong","nhd"],["尼木","nimu","nm"],["普安","puan","pa"],["普宁","puning","pn"],["平南南","pingnannan","pn"],["平遥古城","pingyaogucheng","pygc"],["彭州","pengzhou","pz"],["青岛北","qingdaobei","qdb"],["祁东","qidong","qd"],["前锋","qianfeng","qf"],["岐山","qishan","qs"],["庆盛","qingsheng","qs"],["曲水县","qushuixian","qsx"],["祁县东","qixiandong","qxd"],["祁阳","qiyang","qy"],["全州南","quanzhounan","qzn"],["仁布","renbu","rb"],["如东","rudong","rd"],["日喀则","rikaze","rkz"],["饶平","raoping","rp"],["泗洪","sihong","sh"],["三明北","sanmingbei","smb"],["山坡东","shanpodong","spd"],["沈丘","shenqiu","sq"],["汕尾","shanwei","sw"],["绍兴北","shaoxingbei","sxb"],["泗县","sixian","sx"],["泗阳","siyang","sy"],["上虞北","shangyubei","syb"],["山阴","shanyin","sy"],["深圳北","shenzhenbei","szb"],["神州","shenzhou","sz"],["深圳坪山","shenzhenpingshan","szps"],["石嘴山","shizuishan","szs"],["石柱县","shizhuxian","szx"],["土地堂东","tuditangdong","tdtd"],["太谷西","taiguxi","tgx"],["通海","tonghai","th"],["通化县","tonghuaxian","thx"],["泰宁","taining","tn"],["汤逊湖","tangxunhu","txh"],["藤县","tengxian","tx"],["太原南","taiyuannan","tyn"],["乌龙泉南","wulongquannan","wlqn"],["五女山","wunvshan","wns"],["瓦屋山","wawushan","wws"],["闻喜西","wenxixi","wxx"],["梧州南","wuzhounan","wzn"],["兴安北","xinganbei","xab"],["许昌东","xuchangdong","xcd"],["项城","xiangcheng","xc"],["西丰","xifeng","xf"],["襄汾西","xiangfenxi","xfx"],["孝感北","xiaoganbei","xgb"],["咸宁东","xianningdong","xnd"],["咸宁南","xianningnan","xnn"],["邢台东","xingtaidong","xtd"],["新乡东","xinxiangdong","xxd"],["西阳村","xiyangcun","xyc"],["信阳东","xinyangdong","xyd"],["咸阳秦都","xianyangqindu","xyqd"],["迎宾路","yingbinlu","ybl"],["运城北","yunchengbei","ycb"],["岳池","yuechi","yc"],["永福南","yongfunan","yfn"],["雨格","yuge","yg"],["洋河","yanghe","yh"],["永济北","yongjibei","yjb"],["炎陵","yanling","yl"],["杨陵南","yanglingnan","yln"],["永泰","yongtai","yt"],["尤溪","youxi","yx"],["云霄","yunxiao","yx"],["宜兴","yixing","yx"],["应县","yingxian","yx"],["攸县南","youxiannan","yxn"],["余姚北","yuyaobei","yyb"],["诏安","zhaoan","za"],["正定机场","zhengdingjichang","zdjc"],["纸坊东","zhifangdong","zfd"],["织金","zhijin","zj"],["左岭","zuoling","zl"],["驻马店西","zhumadianxi","zmdx"],["漳浦","zhangpu","zp"],["庄桥","zhuangqiao","zq"],["涿州东","zhuozhoudong","zzd"],["卓资东","zhuozidong","zzd"],["郑州东","zhengzhoudong","zzd"],["宝清","baoqing","bq"],["丹霞山","danxiashan","dxs"],["高安","gaoan","ga"],["醴陵东","lilingdong","lld"],["南雄","nanxiong","nx"],["萍乡北","pingxiangbei","pxb"],["始兴","shixing","sx"],["新余北","xinyubei","xyb"],["宜春","yichun","yc"],["金华","jinhua","jhx"],["罗城","luocheng","lc"],["北京北","beijingbei","bjb"],["合肥南","hefeinan","hfn"],["鄯善北","shanshanbei","ssb"],["吐哈","tuha","th"],["吐鲁番北","tulufanbei","tlfb"],["抚州东","fuzhoudong","fzd"],["进贤南","jinxiannan","jxn"],["玉山南","yushannan","ysn"],["鹰潭北","yingtanbei","ytb"],["弓棚子","gongpengzi","gpz"],["河口北","hekoubei","hkb"],["蒙自","mengzi","mz"],["屏边","pingbian","pb"],["三井子","sanjingzi","sjz"],["松原北","songyuanbei","syb"],["怀化南","huaihuanan","hhn"],["娄底南","loudinan","ldn"],["韶山南","shaoshannan","ssn"],["邵阳北","shaoyangbei","syb"],["新化南","xinhuanan","xhn"],["新晃西","xinhuanxi","xhx"],["溆浦南","xupunan","xpn"],["湘潭北","xiangtanbei","xtb"],["芷江","zhijiang","zj"],["峨眉山","emeishan","ems"],["广汉北","guanghanbei","ghb"],["罗江东","luojiangdong","ljd"],["乐山","leshan","ls"],["眉山东","meishandong","msd"],["彭山北","pengshanbei","psb"],["青白江东","qingbaijiangdong","qbjd"],["青莲","qinglian","ql"],["青神","qingshen","qs"],["双流机场","shuangliujichang","sljc"],["新都东","xindudong","xdd"],["新津","xinjin","xj"],["南宁东","nanningdong","nnd"],["双流西","shuangliuxi","slx"],["新津南","xinjinnan","xjn"],["西宁","xining","xn"],["大余","dayu","dy"],["从江","congjiang","cj"],["大通西","datongxi","dtx"],["恭城","gongcheng","gc"],["贵定县","guidingxian","gdx"],["广宁","guangning","gn"],["高台南","gaotainan","gtn"],["贵阳北","guiyangbei","gyb"],["海东西","haidongxi","hdx"],["怀集","huaiji","hj"],["酒泉南","jiuquannan","jqn"],["嘉峪关南","jiayuguannan","jygn"],["乐都南","ledunan","ldn"],["龙里北","longlibei","llb"],["柳园南","liuyuannan","lyn"],["临泽南","linzenan","lzn"],["民和南","minhenan","mhn"],["民乐","minle","ml"],["门源","menyuan","my"],["南江口","nanjiangkou","nj"],["清水北","qingshuibei","qsb"],["榕江","rongjiang","rj"],["三都县","sanduxian","sdx"],["三江南","sanjiangnan","sjn"],["三水南","sanshuinan","ssn"],["云浮东","yunfudong","yfd"],["郁南","yunan","yn"],["张掖西","zhangyexi","zyx"],["鹿寨北","luzhaibei","lzb"],["都匀东","duyundong","dyd"],["莱阳","laiyang","ly"],["海阳北","haiyangbei","hyb"],["贾鲁河","jialuhe","jlh"],["即墨北","jimobei","jmb"],["绿博园","lvboyuan","lby"],["莱西北","laixibei","lxb"],["牟平","muping","mp"],["荣成","rongcheng","rc"],["宋城路","songchenglu","scl"],["桃村北","taocunbei","tcb"],["文登东","wendengdong","wdd"],["威海北","weihaibei","whb"],["运粮河","yunlianghe","ylh"],["烟台南","yantainan","ytn"],["晏城","yancheng","yc"],["和硕","heshuo","hs"],["马兰","malan","ml"],["肇庆东","zhaoqingdong","zqd"],["惠安","huian","ha"],["仙游","xianyou","xy"],["宾阳","binyang","ltx"],["大庆东","daqingdong","dqd"],["钟山西","zhongshanxi","zsx"],["百里峡","bailixia","blx"],["彬县","binxian","bx"],["长武","changwu","cw"],["礼泉","liquan","lq"],["乾县","qianxian","qx"],["永寿","yongshou","ys"],["两当","liangdang","ld"],["息县","xixian","xx"],["长庆桥","changqingqiao","cqq"],["泾川","jingchuan","jc"],["开阳","kaiyang","ky"],["南江","nanjiang","nj"],["贵定北","guidingbei","gdb"],["凯里南","kailinan","kln"],["三穗","sansui","ss"],["铜仁南","tongrennan","trn"],["广元南","guangyuannan","gyn"],["昭化","zhaohua","zhu"],["正定","zhengding","zd"],["德兴","dexing","dx"],["古田北","gutianbei","gtb"],["建瓯西","jianou","jox"],["闽清北","minqingbei","mqb"],["南平北","nanpingbei","npb"],["五府山","wufushan","wfs"],["武夷山北","wuyishanbei","wysb"],["武夷山东","wuyishandong","wysd"],["婺源","wuyuan","wy"],["黄河景区","huanghejingqu","hhjq"],["南阳寨","nanyangzhai","nyz"],["武陟","wuzhi","wz"],["修武西","xiuwuxi","xwx"],["合肥西","hefeixi","hfx"],["巢湖东","chaohudong","chd"],["长临河","changlinhe","clh"],["黄山北","huangshanbei","hsb"],["旌德","jingde","jd"],["绩溪北","jixibei","jxb"],["泾县","jingxian","jx"],["南陵","nanling","nl"],["歙县北","shexianbei","sxb"],["铜陵北","tonglingbei","tlb"],["无为","wuwei","ww"],["平度","pingdu","pd"],["普定","puding","pd"],["鄂尔多斯","eerduosi","eeds"],["杭锦后旗","hangjinhouqi","hjhq"],["蔡山","caishan","cs"],["哈尔滨北","haerbinbei","hebb"],["齐齐哈尔南","qiqihaernan","qqhen"],["坪上","pingshang","ps"],["大禾塘","shaodong","sd"],["本溪新城","benxixincheng","bxxc"],["凤城东","fengchengdong","fcd"],["南芬北","nanfenbei","nfb"],["沈阳南","shenyangnan","syn"],["通远堡西","tongyuanpuxi","typx"],["五龙背东","wulongbeidong","wlbd"],["龙洞堡","longdongbao","ldb"],["图们北","tumenbei","tmb"],["安图西","antuxi","atx"],["大石头南","dashitounan","dstn"],["珲春","hunchun","hch"],["蛟河西","jiaohexi","jhx"],["威虎岭北","weihulingbei","whlb"],["于家堡","yujiapu","yjp"],["延吉西","yanjixi","yjx"],["滨州","binzhou","bz"],["东营南","dongyingnan","dyn"],["陵城","lingcheng","lc"],["利津南","lijinnan","ljn"],["临邑","linyi","ly"],["商河","shanghe","sh"],["阳信","yangxin","yx"],["福利区","fuliqu","flq"],["兰州新区","lanzhouxinqu","lzxq"],["西固","xigu","xg"],["中川机场","zhongchuanjichang","zcjc"],["青龙","qinglong","ql"],["汾河","fenhe","fh"],["广宁寺南","guangningsinan","gns"],["皮口南","pikounan","pk"],["当涂东","dangtudong","dtd"],["繁昌西","fanchangxi","fcx"],["江宁西","jiangningxi","jnx"],["马鞍山东","maanshandong","masd"],["弋江","yijiang","yj"],["白音华南","baiyinhuanan","byhn"],["西乌旗","xiwuqi","xwq"],["抚松","fusong","fs"],["靖宇","jingyu","jy"],["隆安东","longandong","lad"],["南宁西","nanningxi","nnx"],["三道湖","sandaohu","sdh"],["田东北","tiandongbei","tdb"],["郑州西","zhengzhouxi","zzx"],["北井子","beijingzi","bjz"],["城子坦","chengzitan","czt"],["丹东西","dandongxi","ddx"],["东港北","donggangbei","dgb"],["大孤山","dagushan","dgs"],["广宁寺","guangningsi","gns"],["花园口","huayuankou","hyk"],["皮口","pikou","pk"],["青堆","qingdui","qd"],["庄河北","zhuanghebei","zhb"],["璧山","bishan","bs"],["大足南","dazunan","dzn"],["简阳南","jianyangnan","jyn"],["隆昌北","longchangbei","lcb"],["内江北","neijiangbei","njb"],["荣昌北","rongchangbei","rcb"],["永川东","yongchuandong","ycd"],["资阳北","ziyangbei","zyb"],["资中北","zizhongbei","zzb"],["苍溪","cangxi","cx"],["缙云西","jinyunxi","jyx"],["阆中","langzhong","lz"],["南部","nanbu","nb"],["南充北","nanchongbei","ncb"],["武胜","wusheng","ws"],["武义北","wuyibei","wyb"],["永康南","yongkangnan","ykn"],["会昌北","huichangbei","hcb"],["白沟","baigou","bg"],["白洋淀","baiyangdian","byd"],["霸州西","bazhouxi","bzx"],["长汀南","changtingnan","ctn"],["桂林西","guilinxi","glx"],["古田会址","gutianhuizhi","gthz"],["孟庄","mengzhuang","mz"],["南曹","nancao","nc"],["胜芳","shengfang","sf"],["新郑机场","xinzhengjichang","xzjc"],["白马井","baimajing","bmj"],["凤凰机场","fenghuangjichang","fhjc"],["福山镇","fushanzhen","fsz"],["福田","futian","ft"],["黄流","huangliu","hl"],["尖峰","jianfeng","jf"],["老城镇","laochengzhen","lcz"],["乐东","ledong","ld"],["临高南","lingaonan","lgn"],["棋子湾","qiziwan","qzw"],["银滩","yintan","yt"],["崖州","yazhou","yz"],["白水县","baishuixian","bsx"],["澄城","chengcheng","cc"],["合阳北","heyangbei","hyb"],["巴中东","bazhongdong","bzd"],["纳雍","nayong","ny"],["平昌","pingchang","pc"],["石桥","shiqiao","sq"],["石梯","shiti","st"],["织金北","zhijinbei","zjb"],["曾口","zengkou","zk"],["百宜","baiyi","by"],["洛湾三江","luowansanjiang","lwsj"],["德保","debao","db"],["靖西","jingxi","jx"],["阳朔","yangshuo","ys"],["黄陵南","huanglingnan","hln"],["邵东","shaodong","sd"],["双峰北","shuangfengbei","sfb"],["海  口东","haikoudong","hkd"],["三  亚","sanya","sy"],["濮阳","puyang","py"],["虢镇","guozhen","gz"],["常平东","changpingdong","cpd"],["鼎湖东","dinghudong","dhd"],["鼎湖山","dinghushan","dhs"],["大旺","dawang","dw"],["端州","duanzhou","dz"],["惠环","huihuan","hh"],["龙丰","longfeng","lf"],["沥林北","lilinbei","llb"],["四会","sihui","sh"],["狮山北","shishanbei","ssb"],["三水北","sanshuibei","ssb"],["狮山","shishan","ss"],["西湖东","xihudong","xhd"],["小金口","xiaojinkou","xjk"],["云东海","yundonghai","ydh"],["银瓶","yinping","yp"],["云山","yunshan","ys"],["仲恺","zhongkai","zk"],["樟木头东","zhangmutoudong","zmtd"],["博白","bobai","bb"]],b=[["北京","beijing","bj"],["上海","shanghai","sh"],["石家庄","shijiazhuang","sjz"],["南京","nanjing","nj"],["郑州","zhengzhou","zz"],["深圳","shenzhen","sz"],["天津","tianjin","tj"],["广州","guangzhou","gz"],["杭州","hangzhou","hz"],["苏州","suzhou","sz"],["济南","jinan","jn"],["西安","xian","xa"],["太原","taiyuan","ty"],["成都","chengdu","cd"],["青岛","qingdao","qd"]];
return{cityList:a,hotList:b}}),!function(){"use strict";function a(a){a.fn.swiper=function(b){var d;return a(this).each(function(){var a=new c(this,b);d||(d=a)}),d}}var b,c=function(a,e){function f(a){return Math.floor(a)}function g(){u.autoplayTimeoutId=setTimeout(function(){u.params.loop?(u.fixLoop(),u._slideNext(),u.emit("onAutoplay",u)):u.isEnd?e.autoplayStopOnLast?u.stopAutoplay():(u._slideTo(0),u.emit("onAutoplay",u)):(u._slideNext(),u.emit("onAutoplay",u))},u.params.autoplay)}function h(a,c){var d=b(a.target);if(!d.is(c))if("string"==typeof c)d=d.parents(c);else if(c.nodeType){var e;return d.parents().each(function(a,b){b===c&&(e=c)}),e?c:void 0}return 0!==d.length?d[0]:void 0}function i(a,b){b=b||{};var c=window.MutationObserver||window.WebkitMutationObserver,d=new c(function(a){a.forEach(function(a){u.onResize(!0),u.emit("onObserverUpdate",u,a)})});d.observe(a,{attributes:"undefined"==typeof b.attributes?!0:b.attributes,childList:"undefined"==typeof b.childList?!0:b.childList,characterData:"undefined"==typeof b.characterData?!0:b.characterData}),u.observers.push(d)}function j(a){a.originalEvent&&(a=a.originalEvent);var b=a.keyCode||a.charCode;if(!u.params.allowSwipeToNext&&(u.isHorizontal()&&39===b||!u.isHorizontal()&&40===b))return!1;if(!u.params.allowSwipeToPrev&&(u.isHorizontal()&&37===b||!u.isHorizontal()&&38===b))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===b||39===b||38===b||40===b){var c=!1;if(u.container.parents(".swiper-slide").length>0&&0===u.container.parents(".swiper-slide-active").length)return;var d={left:window.pageXOffset,top:window.pageYOffset},e=window.innerWidth,f=window.innerHeight,g=u.container.offset();u.rtl&&(g.left=g.left-u.container[0].scrollLeft);for(var h=[[g.left,g.top],[g.left+u.width,g.top],[g.left,g.top+u.height],[g.left+u.width,g.top+u.height]],i=0;i<h.length;i++){var j=h[i];j[0]>=d.left&&j[0]<=d.left+e&&j[1]>=d.top&&j[1]<=d.top+f&&(c=!0)}if(!c)return}u.isHorizontal()?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===b&&!u.rtl||37===b&&u.rtl)&&u.slideNext(),(37===b&&!u.rtl||39===b&&u.rtl)&&u.slidePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&u.slideNext(),38===b&&u.slidePrev())}}function k(a){a.originalEvent&&(a=a.originalEvent);var b=u.mousewheel.event,c=0,d=u.rtl?-1:1;if("mousewheel"===b)if(u.params.mousewheelForceToAxis)if(u.isHorizontal()){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;c=a.wheelDeltaX*d}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;c=a.wheelDeltaY}else c=Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)?-a.wheelDeltaX*d:-a.wheelDeltaY;else if("DOMMouseScroll"===b)c=-a.detail;else if("wheel"===b)if(u.params.mousewheelForceToAxis)if(u.isHorizontal()){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;c=-a.deltaX*d}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;c=-a.deltaY}else c=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX*d:-a.deltaY;if(0!==c){if(u.params.mousewheelInvert&&(c=-c),u.params.freeMode){var e=u.getWrapperTranslate()+c*u.params.mousewheelSensitivity,f=u.isBeginning,g=u.isEnd;if(e>=u.minTranslate()&&(e=u.minTranslate()),e<=u.maxTranslate()&&(e=u.maxTranslate()),u.setWrapperTransition(0),u.setWrapperTranslate(e),u.updateProgress(),u.updateActiveIndex(),(!f&&u.isBeginning||!g&&u.isEnd)&&u.updateClasses(),u.params.freeModeSticky?(clearTimeout(u.mousewheel.timeout),u.mousewheel.timeout=setTimeout(function(){u.slideReset()},300)):u.params.lazyLoading&&u.lazy&&u.lazy.load(),0===e||e===u.maxTranslate())return}else{if((new window.Date).getTime()-u.mousewheel.lastScrollTime>60)if(0>c)if(u.isEnd&&!u.params.loop||u.animating){if(u.params.mousewheelReleaseOnEdges)return!0}else u.slideNext();else if(u.isBeginning&&!u.params.loop||u.animating){if(u.params.mousewheelReleaseOnEdges)return!0}else u.slidePrev();u.mousewheel.lastScrollTime=(new window.Date).getTime()}return u.params.autoplay&&u.stopAutoplay(),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}}function l(a,c){a=b(a);var d,e,f,g=u.rtl?-1:1;d=a.attr("data-swiper-parallax")||"0",e=a.attr("data-swiper-parallax-x"),f=a.attr("data-swiper-parallax-y"),e||f?(e=e||"0",f=f||"0"):u.isHorizontal()?(e=d,f="0"):(f=d,e="0"),e=e.indexOf("%")>=0?parseInt(e,10)*c*g+"%":e*c*g+"px",f=f.indexOf("%")>=0?parseInt(f,10)*c+"%":f*c+"px",a.transform("translate3d("+e+", "+f+",0px)")}function m(a){return 0!==a.indexOf("on")&&(a=a[0]!==a[0].toUpperCase()?"on"+a[0].toUpperCase()+a.substring(1):"on"+a),a}if(!(this instanceof c))return new c(a,e);var n={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},o=e&&e.virtualTranslate;e=e||{};var p={};for(var q in e)if("object"!=typeof e[q]||null===e[q]||e[q].nodeType||e[q]===window||e[q]===document||"undefined"!=typeof d&&e[q]instanceof d||"undefined"!=typeof jQuery&&e[q]instanceof jQuery)p[q]=e[q];else{p[q]={};for(var r in e[q])p[q][r]=e[q][r]}for(var s in n)if("undefined"==typeof e[s])e[s]=n[s];else if("object"==typeof e[s])for(var t in n[s])"undefined"==typeof e[s][t]&&(e[s][t]=n[s][t]);var u=this;if(u.params=e,u.originalParams=p,u.classNames=[],"undefined"!=typeof b&&"undefined"!=typeof d&&(b=d),("undefined"!=typeof b||(b="undefined"==typeof d?window.Dom7||window.Zepto||window.jQuery:d))&&(u.$=b,u.currentBreakpoint=void 0,u.getActiveBreakpoint=function(){if(!u.params.breakpoints)return!1;var a,b=!1,c=[];for(a in u.params.breakpoints)u.params.breakpoints.hasOwnProperty(a)&&c.push(a);c.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var d=0;d<c.length;d++)a=c[d],a>=window.innerWidth&&!b&&(b=a);return b||"max"},u.setBreakpoint=function(){var a=u.getActiveBreakpoint();if(a&&u.currentBreakpoint!==a){var b=a in u.params.breakpoints?u.params.breakpoints[a]:u.originalParams,c=u.params.loop&&b.slidesPerView!==u.params.slidesPerView;for(var d in b)u.params[d]=b[d];u.currentBreakpoint=a,c&&u.destroyLoop&&u.reLoop(!0)}},u.params.breakpoints&&u.setBreakpoint(),u.container=b(a),0!==u.container.length)){if(u.container.length>1){var v=[];return u.container.each(function(){v.push(new c(this,e))}),v}u.container[0].swiper=u,u.container.data("swiper",u),u.classNames.push("swiper-container-"+u.params.direction),u.params.freeMode&&u.classNames.push("swiper-container-free-mode"),u.support.flexbox||(u.classNames.push("swiper-container-no-flexbox"),u.params.slidesPerColumn=1),u.params.autoHeight&&u.classNames.push("swiper-container-autoheight"),(u.params.parallax||u.params.watchSlidesVisibility)&&(u.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(u.params.effect)>=0&&(u.support.transforms3d?(u.params.watchSlidesProgress=!0,u.classNames.push("swiper-container-3d")):u.params.effect="slide"),"slide"!==u.params.effect&&u.classNames.push("swiper-container-"+u.params.effect),"cube"===u.params.effect&&(u.params.resistanceRatio=0,u.params.slidesPerView=1,u.params.slidesPerColumn=1,u.params.slidesPerGroup=1,u.params.centeredSlides=!1,u.params.spaceBetween=0,u.params.virtualTranslate=!0,u.params.setWrapperSize=!1),("fade"===u.params.effect||"flip"===u.params.effect)&&(u.params.slidesPerView=1,u.params.slidesPerColumn=1,u.params.slidesPerGroup=1,u.params.watchSlidesProgress=!0,u.params.spaceBetween=0,u.params.setWrapperSize=!1,"undefined"==typeof o&&(u.params.virtualTranslate=!0)),u.params.grabCursor&&u.support.touch&&(u.params.grabCursor=!1),u.wrapper=u.container.children("."+u.params.wrapperClass),u.params.pagination&&(u.paginationContainer=b(u.params.pagination),u.params.uniqueNavElements&&"string"==typeof u.params.pagination&&u.paginationContainer.length>1&&1===u.container.find(u.params.pagination).length&&(u.paginationContainer=u.container.find(u.params.pagination)),"bullets"===u.params.paginationType&&u.params.paginationClickable?u.paginationContainer.addClass("swiper-pagination-clickable"):u.params.paginationClickable=!1,u.paginationContainer.addClass("swiper-pagination-"+u.params.paginationType)),(u.params.nextButton||u.params.prevButton)&&(u.params.nextButton&&(u.nextButton=b(u.params.nextButton),u.params.uniqueNavElements&&"string"==typeof u.params.nextButton&&u.nextButton.length>1&&1===u.container.find(u.params.nextButton).length&&(u.nextButton=u.container.find(u.params.nextButton))),u.params.prevButton&&(u.prevButton=b(u.params.prevButton),u.params.uniqueNavElements&&"string"==typeof u.params.prevButton&&u.prevButton.length>1&&1===u.container.find(u.params.prevButton).length&&(u.prevButton=u.container.find(u.params.prevButton)))),u.isHorizontal=function(){return"horizontal"===u.params.direction},u.rtl=u.isHorizontal()&&("rtl"===u.container[0].dir.toLowerCase()||"rtl"===u.container.css("direction")),u.rtl&&u.classNames.push("swiper-container-rtl"),u.rtl&&(u.wrongRTL="-webkit-box"===u.wrapper.css("display")),u.params.slidesPerColumn>1&&u.classNames.push("swiper-container-multirow"),u.device.android&&u.classNames.push("swiper-container-android"),u.container.addClass(u.classNames.join(" ")),u.translate=0,u.progress=0,u.velocity=0,u.lockSwipeToNext=function(){u.params.allowSwipeToNext=!1},u.lockSwipeToPrev=function(){u.params.allowSwipeToPrev=!1},u.lockSwipes=function(){u.params.allowSwipeToNext=u.params.allowSwipeToPrev=!1},u.unlockSwipeToNext=function(){u.params.allowSwipeToNext=!0},u.unlockSwipeToPrev=function(){u.params.allowSwipeToPrev=!0},u.unlockSwipes=function(){u.params.allowSwipeToNext=u.params.allowSwipeToPrev=!0},u.params.grabCursor&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grab",u.container[0].style.cursor="-moz-grab",u.container[0].style.cursor="grab"),u.imagesToLoad=[],u.imagesLoaded=0,u.loadImage=function(a,b,c,d,e){function f(){e&&e()}var g;a.complete&&d?f():b?(g=new window.Image,g.onload=f,g.onerror=f,c&&(g.srcset=c),b&&(g.src=b)):f()},u.preloadImages=function(){function a(){"undefined"!=typeof u&&null!==u&&(void 0!==u.imagesLoaded&&u.imagesLoaded++,u.imagesLoaded===u.imagesToLoad.length&&(u.params.updateOnImagesReady&&u.update(),u.emit("onImagesReady",u)))}u.imagesToLoad=u.container.find("img");for(var b=0;b<u.imagesToLoad.length;b++)u.loadImage(u.imagesToLoad[b],u.imagesToLoad[b].currentSrc||u.imagesToLoad[b].getAttribute("src"),u.imagesToLoad[b].srcset||u.imagesToLoad[b].getAttribute("srcset"),!0,a)},u.autoplayTimeoutId=void 0,u.autoplaying=!1,u.autoplayPaused=!1,u.startAutoplay=function(){return"undefined"!=typeof u.autoplayTimeoutId?!1:u.params.autoplay?u.autoplaying?!1:(u.autoplaying=!0,u.emit("onAutoplayStart",u),void g()):!1},u.stopAutoplay=function(a){u.autoplayTimeoutId&&(u.autoplayTimeoutId&&clearTimeout(u.autoplayTimeoutId),u.autoplaying=!1,u.autoplayTimeoutId=void 0,u.emit("onAutoplayStop",u))},u.pauseAutoplay=function(a){u.autoplayPaused||(u.autoplayTimeoutId&&clearTimeout(u.autoplayTimeoutId),u.autoplayPaused=!0,0===a?(u.autoplayPaused=!1,g()):u.wrapper.transitionEnd(function(){u&&(u.autoplayPaused=!1,u.autoplaying?g():u.stopAutoplay())}))},u.minTranslate=function(){return-u.snapGrid[0]},u.maxTranslate=function(){return-u.snapGrid[u.snapGrid.length-1]},u.updateAutoHeight=function(){var a=u.slides.eq(u.activeIndex)[0];if("undefined"!=typeof a){var b=a.offsetHeight;b&&u.wrapper.css("height",b+"px")}},u.updateContainerSize=function(){var a,b;a="undefined"!=typeof u.params.width?u.params.width:u.container[0].clientWidth,b="undefined"!=typeof u.params.height?u.params.height:u.container[0].clientHeight,0===a&&u.isHorizontal()||0===b&&!u.isHorizontal()||(a=a-parseInt(u.container.css("padding-left"),10)-parseInt(u.container.css("padding-right"),10),b=b-parseInt(u.container.css("padding-top"),10)-parseInt(u.container.css("padding-bottom"),10),u.width=a,u.height=b,u.size=u.isHorizontal()?u.width:u.height)},u.updateSlidesSize=function(){u.slides=u.wrapper.children("."+u.params.slideClass),u.snapGrid=[],u.slidesGrid=[],u.slidesSizesGrid=[];var a,b=u.params.spaceBetween,c=-u.params.slidesOffsetBefore,d=0,e=0;if("undefined"!=typeof u.size){"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*u.size),u.virtualSize=-b,u.rtl?u.slides.css({marginLeft:"",marginTop:""}):u.slides.css({marginRight:"",marginBottom:""});var g;u.params.slidesPerColumn>1&&(g=Math.floor(u.slides.length/u.params.slidesPerColumn)===u.slides.length/u.params.slidesPerColumn?u.slides.length:Math.ceil(u.slides.length/u.params.slidesPerColumn)*u.params.slidesPerColumn,"auto"!==u.params.slidesPerView&&"row"===u.params.slidesPerColumnFill&&(g=Math.max(g,u.params.slidesPerView*u.params.slidesPerColumn)));var h,i=u.params.slidesPerColumn,j=g/i,k=j-(u.params.slidesPerColumn*j-u.slides.length);for(a=0;a<u.slides.length;a++){h=0;var l=u.slides.eq(a);if(u.params.slidesPerColumn>1){var m,n,o;"column"===u.params.slidesPerColumnFill?(n=Math.floor(a/i),o=a-n*i,(n>k||n===k&&o===i-1)&&++o>=i&&(o=0,n++),m=n+o*g/i,l.css({"-webkit-box-ordinal-group":m,"-moz-box-ordinal-group":m,"-ms-flex-order":m,"-webkit-order":m,order:m})):(o=Math.floor(a/j),n=a-o*j),l.css({"margin-top":0!==o&&u.params.spaceBetween&&u.params.spaceBetween+"px"}).attr("data-swiper-column",n).attr("data-swiper-row",o)}"none"!==l.css("display")&&("auto"===u.params.slidesPerView?(h=u.isHorizontal()?l.outerWidth(!0):l.outerHeight(!0),u.params.roundLengths&&(h=f(h))):(h=(u.size-(u.params.slidesPerView-1)*b)/u.params.slidesPerView,u.params.roundLengths&&(h=f(h)),u.isHorizontal()?u.slides[a].style.width=h+"px":u.slides[a].style.height=h+"px"),u.slides[a].swiperSlideSize=h,u.slidesSizesGrid.push(h),u.params.centeredSlides?(c=c+h/2+d/2+b,0===a&&(c=c-u.size/2-b),Math.abs(c)<.001&&(c=0),e%u.params.slidesPerGroup===0&&u.snapGrid.push(c),u.slidesGrid.push(c)):(e%u.params.slidesPerGroup===0&&u.snapGrid.push(c),u.slidesGrid.push(c),c=c+h+b),u.virtualSize+=h+b,d=h,e++)}u.virtualSize=Math.max(u.virtualSize,u.size)+u.params.slidesOffsetAfter;var p;if(u.rtl&&u.wrongRTL&&("slide"===u.params.effect||"coverflow"===u.params.effect)&&u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}),(!u.support.flexbox||u.params.setWrapperSize)&&(u.isHorizontal()?u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}):u.wrapper.css({height:u.virtualSize+u.params.spaceBetween+"px"})),u.params.slidesPerColumn>1&&(u.virtualSize=(h+u.params.spaceBetween)*g,u.virtualSize=Math.ceil(u.virtualSize/u.params.slidesPerColumn)-u.params.spaceBetween,u.wrapper.css({width:u.virtualSize+u.params.spaceBetween+"px"}),u.params.centeredSlides)){for(p=[],a=0;a<u.snapGrid.length;a++)u.snapGrid[a]<u.virtualSize+u.snapGrid[0]&&p.push(u.snapGrid[a]);u.snapGrid=p}if(!u.params.centeredSlides){for(p=[],a=0;a<u.snapGrid.length;a++)u.snapGrid[a]<=u.virtualSize-u.size&&p.push(u.snapGrid[a]);u.snapGrid=p,Math.floor(u.virtualSize-u.size)-Math.floor(u.snapGrid[u.snapGrid.length-1])>1&&u.snapGrid.push(u.virtualSize-u.size)}0===u.snapGrid.length&&(u.snapGrid=[0]),0!==u.params.spaceBetween&&(u.isHorizontal()?u.rtl?u.slides.css({marginLeft:b+"px"}):u.slides.css({marginRight:b+"px"}):u.slides.css({marginBottom:b+"px"})),u.params.watchSlidesProgress&&u.updateSlidesOffset()}},u.updateSlidesOffset=function(){for(var a=0;a<u.slides.length;a++)u.slides[a].swiperSlideOffset=u.isHorizontal()?u.slides[a].offsetLeft:u.slides[a].offsetTop},u.updateSlidesProgress=function(a){if("undefined"==typeof a&&(a=u.translate||0),0!==u.slides.length){"undefined"==typeof u.slides[0].swiperSlideOffset&&u.updateSlidesOffset();var b=-a;u.rtl&&(b=a),u.slides.removeClass(u.params.slideVisibleClass);for(var c=0;c<u.slides.length;c++){var d=u.slides[c],e=(b-d.swiperSlideOffset)/(d.swiperSlideSize+u.params.spaceBetween);if(u.params.watchSlidesVisibility){var f=-(b-d.swiperSlideOffset),g=f+u.slidesSizesGrid[c],h=f>=0&&f<u.size||g>0&&g<=u.size||0>=f&&g>=u.size;h&&u.slides.eq(c).addClass(u.params.slideVisibleClass)}d.progress=u.rtl?-e:e}}},u.updateProgress=function(a){"undefined"==typeof a&&(a=u.translate||0);var b=u.maxTranslate()-u.minTranslate(),c=u.isBeginning,d=u.isEnd;0===b?(u.progress=0,u.isBeginning=u.isEnd=!0):(u.progress=(a-u.minTranslate())/b,u.isBeginning=u.progress<=0,u.isEnd=u.progress>=1),u.isBeginning&&!c&&u.emit("onReachBeginning",u),u.isEnd&&!d&&u.emit("onReachEnd",u),u.params.watchSlidesProgress&&u.updateSlidesProgress(a),u.emit("onProgress",u,u.progress)},u.updateActiveIndex=function(){var a,b,c,d=u.rtl?u.translate:-u.translate;for(b=0;b<u.slidesGrid.length;b++)"undefined"!=typeof u.slidesGrid[b+1]?d>=u.slidesGrid[b]&&d<u.slidesGrid[b+1]-(u.slidesGrid[b+1]-u.slidesGrid[b])/2?a=b:d>=u.slidesGrid[b]&&d<u.slidesGrid[b+1]&&(a=b+1):d>=u.slidesGrid[b]&&(a=b);(0>a||"undefined"==typeof a)&&(a=0),c=Math.floor(a/u.params.slidesPerGroup),c>=u.snapGrid.length&&(c=u.snapGrid.length-1),a!==u.activeIndex&&(u.snapIndex=c,u.previousIndex=u.activeIndex,u.activeIndex=a,u.updateClasses())},u.updateClasses=function(){u.slides.removeClass(u.params.slideActiveClass+" "+u.params.slideNextClass+" "+u.params.slidePrevClass);var a=u.slides.eq(u.activeIndex);a.addClass(u.params.slideActiveClass);var c=a.next("."+u.params.slideClass).addClass(u.params.slideNextClass);u.params.loop&&0===c.length&&u.slides.eq(0).addClass(u.params.slideNextClass);var d=a.prev("."+u.params.slideClass).addClass(u.params.slidePrevClass);if(u.params.loop&&0===d.length&&u.slides.eq(-1).addClass(u.params.slidePrevClass),u.paginationContainer&&u.paginationContainer.length>0){var e,f=u.params.loop?Math.ceil((u.slides.length-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length;if(u.params.loop?(e=Math.ceil((u.activeIndex-u.loopedSlides)/u.params.slidesPerGroup),e>u.slides.length-1-2*u.loopedSlides&&(e-=u.slides.length-2*u.loopedSlides),e>f-1&&(e-=f),0>e&&"bullets"!==u.params.paginationType&&(e=f+e)):e="undefined"!=typeof u.snapIndex?u.snapIndex:u.activeIndex||0,"bullets"===u.params.paginationType&&u.bullets&&u.bullets.length>0&&(u.bullets.removeClass(u.params.bulletActiveClass),u.paginationContainer.length>1?u.bullets.each(function(){b(this).index()===e&&b(this).addClass(u.params.bulletActiveClass)}):u.bullets.eq(e).addClass(u.params.bulletActiveClass)),"fraction"===u.params.paginationType&&(u.paginationContainer.find("."+u.params.paginationCurrentClass).text(e+1),u.paginationContainer.find("."+u.params.paginationTotalClass).text(f)),"progress"===u.params.paginationType){var g=(e+1)/f,h=g,i=1;u.isHorizontal()||(i=g,h=1),u.paginationContainer.find("."+u.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+h+") scaleY("+i+")").transition(u.params.speed)}"custom"===u.params.paginationType&&u.params.paginationCustomRender&&(u.paginationContainer.html(u.params.paginationCustomRender(u,e+1,f)),u.emit("onPaginationRendered",u,u.paginationContainer[0]))}u.params.loop||(u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.isBeginning?(u.prevButton.addClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.disable(u.prevButton)):(u.prevButton.removeClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.enable(u.prevButton))),u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.isEnd?(u.nextButton.addClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.disable(u.nextButton)):(u.nextButton.removeClass(u.params.buttonDisabledClass),u.params.a11y&&u.a11y&&u.a11y.enable(u.nextButton))))},u.updatePagination=function(){if(u.params.pagination&&u.paginationContainer&&u.paginationContainer.length>0){var a="";if("bullets"===u.params.paginationType){for(var b=u.params.loop?Math.ceil((u.slides.length-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length,c=0;b>c;c++)a+=u.params.paginationBulletRender?u.params.paginationBulletRender(c,u.params.bulletClass):"<"+u.params.paginationElement+' class="'+u.params.bulletClass+'"></'+u.params.paginationElement+">";u.paginationContainer.html(a),u.bullets=u.paginationContainer.find("."+u.params.bulletClass),u.params.paginationClickable&&u.params.a11y&&u.a11y&&u.a11y.initPagination()}"fraction"===u.params.paginationType&&(a=u.params.paginationFractionRender?u.params.paginationFractionRender(u,u.params.paginationCurrentClass,u.params.paginationTotalClass):'<span class="'+u.params.paginationCurrentClass+'"></span> / <span class="'+u.params.paginationTotalClass+'"></span>',u.paginationContainer.html(a)),"progress"===u.params.paginationType&&(a=u.params.paginationProgressRender?u.params.paginationProgressRender(u,u.params.paginationProgressbarClass):'<span class="'+u.params.paginationProgressbarClass+'"></span>',u.paginationContainer.html(a)),"custom"!==u.params.paginationType&&u.emit("onPaginationRendered",u,u.paginationContainer[0])}},u.update=function(a){function b(){d=Math.min(Math.max(u.translate,u.maxTranslate()),u.minTranslate()),u.setWrapperTranslate(d),u.updateActiveIndex(),u.updateClasses()}if(u.updateContainerSize(),u.updateSlidesSize(),u.updateProgress(),u.updatePagination(),u.updateClasses(),u.params.scrollbar&&u.scrollbar&&u.scrollbar.set(),a){var c,d;u.controller&&u.controller.spline&&(u.controller.spline=void 0),u.params.freeMode?(b(),u.params.autoHeight&&u.updateAutoHeight()):(c=("auto"===u.params.slidesPerView||u.params.slidesPerView>1)&&u.isEnd&&!u.params.centeredSlides?u.slideTo(u.slides.length-1,0,!1,!0):u.slideTo(u.activeIndex,0,!1,!0),c||b())}else u.params.autoHeight&&u.updateAutoHeight()},u.onResize=function(a){u.params.breakpoints&&u.setBreakpoint();var b=u.params.allowSwipeToPrev,c=u.params.allowSwipeToNext;u.params.allowSwipeToPrev=u.params.allowSwipeToNext=!0,u.updateContainerSize(),u.updateSlidesSize(),("auto"===u.params.slidesPerView||u.params.freeMode||a)&&u.updatePagination(),u.params.scrollbar&&u.scrollbar&&u.scrollbar.set(),u.controller&&u.controller.spline&&(u.controller.spline=void 0);var d=!1;if(u.params.freeMode){var e=Math.min(Math.max(u.translate,u.maxTranslate()),u.minTranslate());u.setWrapperTranslate(e),u.updateActiveIndex(),u.updateClasses(),u.params.autoHeight&&u.updateAutoHeight()}else u.updateClasses(),d=("auto"===u.params.slidesPerView||u.params.slidesPerView>1)&&u.isEnd&&!u.params.centeredSlides?u.slideTo(u.slides.length-1,0,!1,!0):u.slideTo(u.activeIndex,0,!1,!0);u.params.lazyLoading&&!d&&u.lazy&&u.lazy.load(),u.params.allowSwipeToPrev=b,u.params.allowSwipeToNext=c};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),u.touchEvents={start:u.support.touch||!u.params.simulateTouch?"touchstart":w[0],move:u.support.touch||!u.params.simulateTouch?"touchmove":w[1],end:u.support.touch||!u.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===u.params.touchEventsTarget?u.container:u.wrapper).addClass("swiper-wp8-"+u.params.direction),u.initEvents=function(a){var b=a?"off":"on",c=a?"removeEventListener":"addEventListener",d="container"===u.params.touchEventsTarget?u.container[0]:u.wrapper[0],f=u.support.touch?d:document,g=u.params.nested?!0:!1;u.browser.ie?(d[c](u.touchEvents.start,u.onTouchStart,!1),f[c](u.touchEvents.move,u.onTouchMove,g),f[c](u.touchEvents.end,u.onTouchEnd,!1)):(u.support.touch&&(d[c](u.touchEvents.start,u.onTouchStart,!1),d[c](u.touchEvents.move,u.onTouchMove,g),d[c](u.touchEvents.end,u.onTouchEnd,!1)),!e.simulateTouch||u.device.ios||u.device.android||(d[c]("mousedown",u.onTouchStart,!1),document[c]("mousemove",u.onTouchMove,g),document[c]("mouseup",u.onTouchEnd,!1))),window[c]("resize",u.onResize),u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.nextButton[b]("click",u.onClickNext),u.params.a11y&&u.a11y&&u.nextButton[b]("keydown",u.a11y.onEnterKey)),u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.prevButton[b]("click",u.onClickPrev),u.params.a11y&&u.a11y&&u.prevButton[b]("keydown",u.a11y.onEnterKey)),u.params.pagination&&u.params.paginationClickable&&(u.paginationContainer[b]("click","."+u.params.bulletClass,u.onClickIndex),u.params.a11y&&u.a11y&&u.paginationContainer[b]("keydown","."+u.params.bulletClass,u.a11y.onEnterKey)),(u.params.preventClicks||u.params.preventClicksPropagation)&&d[c]("click",u.preventClicks,!0)},u.attachEvents=function(){u.initEvents()},u.detachEvents=function(){u.initEvents(!0)},u.allowClick=!0,u.preventClicks=function(a){u.allowClick||(u.params.preventClicks&&a.preventDefault(),u.params.preventClicksPropagation&&u.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))},u.onClickNext=function(a){a.preventDefault(),(!u.isEnd||u.params.loop)&&u.slideNext()},u.onClickPrev=function(a){a.preventDefault(),(!u.isBeginning||u.params.loop)&&u.slidePrev()},u.onClickIndex=function(a){a.preventDefault();var c=b(this).index()*u.params.slidesPerGroup;u.params.loop&&(c+=u.loopedSlides),u.slideTo(c)},u.updateClickedSlide=function(a){var c=h(a,"."+u.params.slideClass),d=!1;if(c)for(var e=0;e<u.slides.length;e++)u.slides[e]===c&&(d=!0);if(!c||!d)return u.clickedSlide=void 0,void(u.clickedIndex=void 0);if(u.clickedSlide=c,u.clickedIndex=b(c).index(),u.params.slideToClickedSlide&&void 0!==u.clickedIndex&&u.clickedIndex!==u.activeIndex){var f,g=u.clickedIndex;if(u.params.loop){if(u.animating)return;f=b(u.clickedSlide).attr("data-swiper-slide-index"),u.params.centeredSlides?g<u.loopedSlides-u.params.slidesPerView/2||g>u.slides.length-u.loopedSlides+u.params.slidesPerView/2?(u.fixLoop(),g=u.wrapper.children("."+u.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){u.slideTo(g)},0)):u.slideTo(g):g>u.slides.length-u.params.slidesPerView?(u.fixLoop(),g=u.wrapper.children("."+u.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){u.slideTo(g)},0)):u.slideTo(g)}else u.slideTo(g)}};var x,y,z,A,B,C,D,E,F,G,H="input, select, textarea, button",I=Date.now(),J=[];u.animating=!1,u.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var K,L;if(u.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),K="touchstart"===a.type,K||!("which"in a)||3!==a.which){if(u.params.noSwiping&&h(a,"."+u.params.noSwipingClass))return void(u.allowClick=!0);if(!u.params.swipeHandler||h(a,u.params.swipeHandler)){var c=u.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,d=u.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(u.device.ios&&u.params.iOSEdgeSwipeDetection&&c<=u.params.iOSEdgeSwipeThreshold)){if(x=!0,y=!1,z=!0,B=void 0,L=void 0,u.touches.startX=c,u.touches.startY=d,A=Date.now(),u.allowClick=!0,u.updateContainerSize(),u.swipeDirection=void 0,u.params.threshold>0&&(E=!1),"touchstart"!==a.type){var e=!0;b(a.target).is(H)&&(e=!1),document.activeElement&&b(document.activeElement).is(H)&&document.activeElement.blur(),e&&a.preventDefault()}u.emit("onTouchStart",u,a)}}}},u.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!K||"mousemove"!==a.type){if(a.preventedByNestedSwiper)return u.touches.startX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,void(u.touches.startY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);if(u.params.onlyExternal)return u.allowClick=!1,void(x&&(u.touches.startX=u.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,u.touches.startY=u.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,A=Date.now()));if(K&&document.activeElement&&a.target===document.activeElement&&b(a.target).is(H))return y=!0,void(u.allowClick=!1);if(z&&u.emit("onTouchMove",u,a),!(a.targetTouches&&a.targetTouches.length>1)){if(u.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,u.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof B){var c=180*Math.atan2(Math.abs(u.touches.currentY-u.touches.startY),Math.abs(u.touches.currentX-u.touches.startX))/Math.PI;B=u.isHorizontal()?c>u.params.touchAngle:90-c>u.params.touchAngle}if(B&&u.emit("onTouchMoveOpposite",u,a),"undefined"==typeof L&&u.browser.ieTouch&&(u.touches.currentX!==u.touches.startX||u.touches.currentY!==u.touches.startY)&&(L=!0),x){if(B)return void(x=!1);if(L||!u.browser.ieTouch){u.allowClick=!1,u.emit("onSliderMove",u,a),a.preventDefault(),u.params.touchMoveStopPropagation&&!u.params.nested&&a.stopPropagation(),y||(e.loop&&u.fixLoop(),D=u.getWrapperTranslate(),u.setWrapperTransition(0),u.animating&&u.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),u.params.autoplay&&u.autoplaying&&(u.params.autoplayDisableOnInteraction?u.stopAutoplay():u.pauseAutoplay()),G=!1,u.params.grabCursor&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grabbing",u.container[0].style.cursor="-moz-grabbin",u.container[0].style.cursor="grabbing")),y=!0;var d=u.touches.diff=u.isHorizontal()?u.touches.currentX-u.touches.startX:u.touches.currentY-u.touches.startY;d*=u.params.touchRatio,u.rtl&&(d=-d),u.swipeDirection=d>0?"prev":"next",C=d+D;var f=!0;if(d>0&&C>u.minTranslate()?(f=!1,u.params.resistance&&(C=u.minTranslate()-1+Math.pow(-u.minTranslate()+D+d,u.params.resistanceRatio))):0>d&&C<u.maxTranslate()&&(f=!1,u.params.resistance&&(C=u.maxTranslate()+1-Math.pow(u.maxTranslate()-D-d,u.params.resistanceRatio))),
f&&(a.preventedByNestedSwiper=!0),!u.params.allowSwipeToNext&&"next"===u.swipeDirection&&D>C&&(C=D),!u.params.allowSwipeToPrev&&"prev"===u.swipeDirection&&C>D&&(C=D),u.params.followFinger){if(u.params.threshold>0){if(!(Math.abs(d)>u.params.threshold||E))return void(C=D);if(!E)return E=!0,u.touches.startX=u.touches.currentX,u.touches.startY=u.touches.currentY,C=D,void(u.touches.diff=u.isHorizontal()?u.touches.currentX-u.touches.startX:u.touches.currentY-u.touches.startY)}(u.params.freeMode||u.params.watchSlidesProgress)&&u.updateActiveIndex(),u.params.freeMode&&(0===J.length&&J.push({position:u.touches[u.isHorizontal()?"startX":"startY"],time:A}),J.push({position:u.touches[u.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),u.updateProgress(C),u.setWrapperTranslate(C)}}}}}},u.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),z&&u.emit("onTouchEnd",u,a),z=!1,x){u.params.grabCursor&&y&&x&&(u.container[0].style.cursor="move",u.container[0].style.cursor="-webkit-grab",u.container[0].style.cursor="-moz-grab",u.container[0].style.cursor="grab");var c=Date.now(),d=c-A;if(u.allowClick&&(u.updateClickedSlide(a),u.emit("onTap",u,a),300>d&&c-I>300&&(F&&clearTimeout(F),F=setTimeout(function(){u&&(u.params.paginationHide&&u.paginationContainer.length>0&&!b(a.target).hasClass(u.params.bulletClass)&&u.paginationContainer.toggleClass(u.params.paginationHiddenClass),u.emit("onClick",u,a))},300)),300>d&&300>c-I&&(F&&clearTimeout(F),u.emit("onDoubleTap",u,a))),I=Date.now(),setTimeout(function(){u&&(u.allowClick=!0)},0),!x||!y||!u.swipeDirection||0===u.touches.diff||C===D)return void(x=y=!1);x=y=!1;var e;if(e=u.params.followFinger?u.rtl?u.translate:-u.translate:-C,u.params.freeMode){if(e<-u.minTranslate())return void u.slideTo(u.activeIndex);if(e>-u.maxTranslate())return void(u.slides.length<u.snapGrid.length?u.slideTo(u.snapGrid.length-1):u.slideTo(u.slides.length-1));if(u.params.freeModeMomentum){if(J.length>1){var f=J.pop(),g=J.pop(),h=f.position-g.position,i=f.time-g.time;u.velocity=h/i,u.velocity=u.velocity/2,Math.abs(u.velocity)<u.params.freeModeMinimumVelocity&&(u.velocity=0),(i>150||(new window.Date).getTime()-f.time>300)&&(u.velocity=0)}else u.velocity=0;J.length=0;var j=1e3*u.params.freeModeMomentumRatio,k=u.velocity*j,l=u.translate+k;u.rtl&&(l=-l);var m,n=!1,o=20*Math.abs(u.velocity)*u.params.freeModeMomentumBounceRatio;if(l<u.maxTranslate())u.params.freeModeMomentumBounce?(l+u.maxTranslate()<-o&&(l=u.maxTranslate()-o),m=u.maxTranslate(),n=!0,G=!0):l=u.maxTranslate();else if(l>u.minTranslate())u.params.freeModeMomentumBounce?(l-u.minTranslate()>o&&(l=u.minTranslate()+o),m=u.minTranslate(),n=!0,G=!0):l=u.minTranslate();else if(u.params.freeModeSticky){var p,q=0;for(q=0;q<u.snapGrid.length;q+=1)if(u.snapGrid[q]>-l){p=q;break}l=Math.abs(u.snapGrid[p]-l)<Math.abs(u.snapGrid[p-1]-l)||"next"===u.swipeDirection?u.snapGrid[p]:u.snapGrid[p-1],u.rtl||(l=-l)}if(0!==u.velocity)j=u.rtl?Math.abs((-l-u.translate)/u.velocity):Math.abs((l-u.translate)/u.velocity);else if(u.params.freeModeSticky)return void u.slideReset();u.params.freeModeMomentumBounce&&n?(u.updateProgress(m),u.setWrapperTransition(j),u.setWrapperTranslate(l),u.onTransitionStart(),u.animating=!0,u.wrapper.transitionEnd(function(){u&&G&&(u.emit("onMomentumBounce",u),u.setWrapperTransition(u.params.speed),u.setWrapperTranslate(m),u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd()}))})):u.velocity?(u.updateProgress(l),u.setWrapperTransition(j),u.setWrapperTranslate(l),u.onTransitionStart(),u.animating||(u.animating=!0,u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd()}))):u.updateProgress(l),u.updateActiveIndex()}return void((!u.params.freeModeMomentum||d>=u.params.longSwipesMs)&&(u.updateProgress(),u.updateActiveIndex()))}var r,s=0,t=u.slidesSizesGrid[0];for(r=0;r<u.slidesGrid.length;r+=u.params.slidesPerGroup)"undefined"!=typeof u.slidesGrid[r+u.params.slidesPerGroup]?e>=u.slidesGrid[r]&&e<u.slidesGrid[r+u.params.slidesPerGroup]&&(s=r,t=u.slidesGrid[r+u.params.slidesPerGroup]-u.slidesGrid[r]):e>=u.slidesGrid[r]&&(s=r,t=u.slidesGrid[u.slidesGrid.length-1]-u.slidesGrid[u.slidesGrid.length-2]);var v=(e-u.slidesGrid[s])/t;if(d>u.params.longSwipesMs){if(!u.params.longSwipes)return void u.slideTo(u.activeIndex);"next"===u.swipeDirection&&(v>=u.params.longSwipesRatio?u.slideTo(s+u.params.slidesPerGroup):u.slideTo(s)),"prev"===u.swipeDirection&&(v>1-u.params.longSwipesRatio?u.slideTo(s+u.params.slidesPerGroup):u.slideTo(s))}else{if(!u.params.shortSwipes)return void u.slideTo(u.activeIndex);"next"===u.swipeDirection&&u.slideTo(s+u.params.slidesPerGroup),"prev"===u.swipeDirection&&u.slideTo(s)}}},u._slideTo=function(a,b){return u.slideTo(a,b,!0,!0)},u.slideTo=function(a,b,c,d){"undefined"==typeof c&&(c=!0),"undefined"==typeof a&&(a=0),0>a&&(a=0),u.snapIndex=Math.floor(a/u.params.slidesPerGroup),u.snapIndex>=u.snapGrid.length&&(u.snapIndex=u.snapGrid.length-1);var e=-u.snapGrid[u.snapIndex];u.params.autoplay&&u.autoplaying&&(d||!u.params.autoplayDisableOnInteraction?u.pauseAutoplay(b):u.stopAutoplay()),u.updateProgress(e);for(var f=0;f<u.slidesGrid.length;f++)-Math.floor(100*e)>=Math.floor(100*u.slidesGrid[f])&&(a=f);return!u.params.allowSwipeToNext&&e<u.translate&&e<u.minTranslate()?!1:!u.params.allowSwipeToPrev&&e>u.translate&&e>u.maxTranslate()&&(u.activeIndex||0)!==a?!1:("undefined"==typeof b&&(b=u.params.speed),u.previousIndex=u.activeIndex||0,u.activeIndex=a,u.rtl&&-e===u.translate||!u.rtl&&e===u.translate?(u.params.autoHeight&&u.updateAutoHeight(),u.updateClasses(),"slide"!==u.params.effect&&u.setWrapperTranslate(e),!1):(u.updateClasses(),u.onTransitionStart(c),0===b?(u.setWrapperTranslate(e),u.setWrapperTransition(0),u.onTransitionEnd(c)):(u.setWrapperTranslate(e),u.setWrapperTransition(b),u.animating||(u.animating=!0,u.wrapper.transitionEnd(function(){u&&u.onTransitionEnd(c)}))),!0))},u.onTransitionStart=function(a){"undefined"==typeof a&&(a=!0),u.params.autoHeight&&u.updateAutoHeight(),u.lazy&&u.lazy.onTransitionStart(),a&&(u.emit("onTransitionStart",u),u.activeIndex!==u.previousIndex&&(u.emit("onSlideChangeStart",u),u.activeIndex>u.previousIndex?u.emit("onSlideNextStart",u):u.emit("onSlidePrevStart",u)))},u.onTransitionEnd=function(a){u.animating=!1,u.setWrapperTransition(0),"undefined"==typeof a&&(a=!0),u.lazy&&u.lazy.onTransitionEnd(),a&&(u.emit("onTransitionEnd",u),u.activeIndex!==u.previousIndex&&(u.emit("onSlideChangeEnd",u),u.activeIndex>u.previousIndex?u.emit("onSlideNextEnd",u):u.emit("onSlidePrevEnd",u))),u.params.hashnav&&u.hashnav&&u.hashnav.setHash()},u.slideNext=function(a,b,c){return u.params.loop?u.animating?!1:(u.fixLoop(),u.container[0].clientLeft,u.slideTo(u.activeIndex+u.params.slidesPerGroup,b,a,c)):u.slideTo(u.activeIndex+u.params.slidesPerGroup,b,a,c)},u._slideNext=function(a){return u.slideNext(!0,a,!0)},u.slidePrev=function(a,b,c){return u.params.loop?u.animating?!1:(u.fixLoop(),u.container[0].clientLeft,u.slideTo(u.activeIndex-1,b,a,c)):u.slideTo(u.activeIndex-1,b,a,c)},u._slidePrev=function(a){return u.slidePrev(!0,a,!0)},u.slideReset=function(a,b,c){return u.slideTo(u.activeIndex,b,a)},u.setWrapperTransition=function(a,b){u.wrapper.transition(a),"slide"!==u.params.effect&&u.effects[u.params.effect]&&u.effects[u.params.effect].setTransition(a),u.params.parallax&&u.parallax&&u.parallax.setTransition(a),u.params.scrollbar&&u.scrollbar&&u.scrollbar.setTransition(a),u.params.control&&u.controller&&u.controller.setTransition(a,b),u.emit("onSetTransition",u,a)},u.setWrapperTranslate=function(a,b,c){var d=0,e=0,g=0;u.isHorizontal()?d=u.rtl?-a:a:e=a,u.params.roundLengths&&(d=f(d),e=f(e)),u.params.virtualTranslate||(u.support.transforms3d?u.wrapper.transform("translate3d("+d+"px, "+e+"px, "+g+"px)"):u.wrapper.transform("translate("+d+"px, "+e+"px)")),u.translate=u.isHorizontal()?d:e;var h,i=u.maxTranslate()-u.minTranslate();h=0===i?0:(a-u.minTranslate())/i,h!==u.progress&&u.updateProgress(a),b&&u.updateActiveIndex(),"slide"!==u.params.effect&&u.effects[u.params.effect]&&u.effects[u.params.effect].setTranslate(u.translate),u.params.parallax&&u.parallax&&u.parallax.setTranslate(u.translate),u.params.scrollbar&&u.scrollbar&&u.scrollbar.setTranslate(u.translate),u.params.control&&u.controller&&u.controller.setTranslate(u.translate,c),u.emit("onSetTranslate",u,u.translate)},u.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),u.params.virtualTranslate?u.rtl?-u.translate:u.translate:(e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?(d=e.transform||e.webkitTransform,d.split(",").length>6&&(d=d.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),f=new window.WebKitCSSMatrix("none"===d?"":d)):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),u.rtl&&d&&(d=-d),d||0)},u.getWrapperTranslate=function(a){return"undefined"==typeof a&&(a=u.isHorizontal()?"x":"y"),u.getTranslate(u.wrapper[0],a)},u.observers=[],u.initObservers=function(){if(u.params.observeParents)for(var a=u.container.parents(),b=0;b<a.length;b++)i(a[b]);i(u.container[0],{childList:!1}),i(u.wrapper[0],{attributes:!1})},u.disconnectObservers=function(){for(var a=0;a<u.observers.length;a++)u.observers[a].disconnect();u.observers=[]},u.createLoop=function(){u.wrapper.children("."+u.params.slideClass+"."+u.params.slideDuplicateClass).remove();var a=u.wrapper.children("."+u.params.slideClass);"auto"!==u.params.slidesPerView||u.params.loopedSlides||(u.params.loopedSlides=a.length),u.loopedSlides=parseInt(u.params.loopedSlides||u.params.slidesPerView,10),u.loopedSlides=u.loopedSlides+u.params.loopAdditionalSlides,u.loopedSlides>a.length&&(u.loopedSlides=a.length);var c,d=[],e=[];for(a.each(function(c,f){var g=b(this);c<u.loopedSlides&&e.push(f),c<a.length&&c>=a.length-u.loopedSlides&&d.push(f),g.attr("data-swiper-slide-index",c)}),c=0;c<e.length;c++)u.wrapper.append(b(e[c].cloneNode(!0)).addClass(u.params.slideDuplicateClass));for(c=d.length-1;c>=0;c--)u.wrapper.prepend(b(d[c].cloneNode(!0)).addClass(u.params.slideDuplicateClass))},u.destroyLoop=function(){u.wrapper.children("."+u.params.slideClass+"."+u.params.slideDuplicateClass).remove(),u.slides.removeAttr("data-swiper-slide-index")},u.reLoop=function(a){var b=u.activeIndex-u.loopedSlides;u.destroyLoop(),u.createLoop(),u.updateSlidesSize(),a&&u.slideTo(b+u.loopedSlides,0,!1)},u.fixLoop=function(){var a;u.activeIndex<u.loopedSlides?(a=u.slides.length-3*u.loopedSlides+u.activeIndex,a+=u.loopedSlides,u.slideTo(a,0,!1,!0)):("auto"===u.params.slidesPerView&&u.activeIndex>=2*u.loopedSlides||u.activeIndex>u.slides.length-2*u.params.slidesPerView)&&(a=-u.slides.length+u.activeIndex+u.loopedSlides,a+=u.loopedSlides,u.slideTo(a,0,!1,!0))},u.appendSlide=function(a){if(u.params.loop&&u.destroyLoop(),"object"==typeof a&&a.length)for(var b=0;b<a.length;b++)a[b]&&u.wrapper.append(a[b]);else u.wrapper.append(a);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0)},u.prependSlide=function(a){u.params.loop&&u.destroyLoop();var b=u.activeIndex+1;if("object"==typeof a&&a.length){for(var c=0;c<a.length;c++)a[c]&&u.wrapper.prepend(a[c]);b=u.activeIndex+a.length}else u.wrapper.prepend(a);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0),u.slideTo(b,0,!1)},u.removeSlide=function(a){u.params.loop&&(u.destroyLoop(),u.slides=u.wrapper.children("."+u.params.slideClass));var b,c=u.activeIndex;if("object"==typeof a&&a.length){for(var d=0;d<a.length;d++)b=a[d],u.slides[b]&&u.slides.eq(b).remove(),c>b&&c--;c=Math.max(c,0)}else b=a,u.slides[b]&&u.slides.eq(b).remove(),c>b&&c--,c=Math.max(c,0);u.params.loop&&u.createLoop(),u.params.observer&&u.support.observer||u.update(!0),u.params.loop?u.slideTo(c+u.loopedSlides,0,!1):u.slideTo(c,0,!1)},u.removeAllSlides=function(){for(var a=[],b=0;b<u.slides.length;b++)a.push(b);u.removeSlide(a)},u.effects={fade:{setTranslate:function(){for(var a=0;a<u.slides.length;a++){var b=u.slides.eq(a),c=b[0].swiperSlideOffset,d=-c;u.params.virtualTranslate||(d-=u.translate);var e=0;u.isHorizontal()||(e=d,d=0);var f=u.params.fade.crossFade?Math.max(1-Math.abs(b[0].progress),0):1+Math.min(Math.max(b[0].progress,-1),0);b.css({opacity:f}).transform("translate3d("+d+"px, "+e+"px, 0px)")}},setTransition:function(a){if(u.slides.transition(a),u.params.virtualTranslate&&0!==a){var b=!1;u.slides.transitionEnd(function(){if(!b&&u){b=!0,u.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],c=0;c<a.length;c++)u.wrapper.trigger(a[c])}})}}},flip:{setTranslate:function(){for(var a=0;a<u.slides.length;a++){var c=u.slides.eq(a),d=c[0].progress;u.params.flip.limitRotation&&(d=Math.max(Math.min(c[0].progress,1),-1));var e=c[0].swiperSlideOffset,f=-180*d,g=f,h=0,i=-e,j=0;if(u.isHorizontal()?u.rtl&&(g=-g):(j=i,i=0,h=-g,g=0),c[0].style.zIndex=-Math.abs(Math.round(d))+u.slides.length,u.params.flip.slideShadows){var k=u.isHorizontal()?c.find(".swiper-slide-shadow-left"):c.find(".swiper-slide-shadow-top"),l=u.isHorizontal()?c.find(".swiper-slide-shadow-right"):c.find(".swiper-slide-shadow-bottom");0===k.length&&(k=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),c.append(k)),0===l.length&&(l=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),c.append(l)),k.length&&(k[0].style.opacity=Math.max(-d,0)),l.length&&(l[0].style.opacity=Math.max(d,0))}c.transform("translate3d("+i+"px, "+j+"px, 0px) rotateX("+h+"deg) rotateY("+g+"deg)")}},setTransition:function(a){if(u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),u.params.virtualTranslate&&0!==a){var c=!1;u.slides.eq(u.activeIndex).transitionEnd(function(){if(!c&&u&&b(this).hasClass(u.params.slideActiveClass)){c=!0,u.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],d=0;d<a.length;d++)u.wrapper.trigger(a[d])}})}}},cube:{setTranslate:function(){var a,c=0;u.params.cube.shadow&&(u.isHorizontal()?(a=u.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=b('<div class="swiper-cube-shadow"></div>'),u.wrapper.append(a)),a.css({height:u.width+"px"})):(a=u.container.find(".swiper-cube-shadow"),0===a.length&&(a=b('<div class="swiper-cube-shadow"></div>'),u.container.append(a))));for(var d=0;d<u.slides.length;d++){var e=u.slides.eq(d),f=90*d,g=Math.floor(f/360);u.rtl&&(f=-f,g=Math.floor(-f/360));var h=Math.max(Math.min(e[0].progress,1),-1),i=0,j=0,k=0;d%4===0?(i=4*-g*u.size,k=0):(d-1)%4===0?(i=0,k=4*-g*u.size):(d-2)%4===0?(i=u.size+4*g*u.size,k=u.size):(d-3)%4===0&&(i=-u.size,k=3*u.size+4*u.size*g),u.rtl&&(i=-i),u.isHorizontal()||(j=i,i=0);var l="rotateX("+(u.isHorizontal()?0:-f)+"deg) rotateY("+(u.isHorizontal()?f:0)+"deg) translate3d("+i+"px, "+j+"px, "+k+"px)";if(1>=h&&h>-1&&(c=90*d+90*h,u.rtl&&(c=90*-d-90*h)),e.transform(l),u.params.cube.slideShadows){var m=u.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=u.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===m.length&&(m=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),e.append(m)),0===n.length&&(n=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),e.append(n)),m.length&&(m[0].style.opacity=Math.max(-h,0)),n.length&&(n[0].style.opacity=Math.max(h,0))}}if(u.wrapper.css({"-webkit-transform-origin":"50% 50% -"+u.size/2+"px","-moz-transform-origin":"50% 50% -"+u.size/2+"px","-ms-transform-origin":"50% 50% -"+u.size/2+"px","transform-origin":"50% 50% -"+u.size/2+"px"}),u.params.cube.shadow)if(u.isHorizontal())a.transform("translate3d(0px, "+(u.width/2+u.params.cube.shadowOffset)+"px, "+-u.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.params.cube.shadowScale+")");else{var o=Math.abs(c)-90*Math.floor(Math.abs(c)/90),p=1.5-(Math.sin(2*o*Math.PI/360)/2+Math.cos(2*o*Math.PI/360)/2),q=u.params.cube.shadowScale,r=u.params.cube.shadowScale/p,s=u.params.cube.shadowOffset;a.transform("scale3d("+q+", 1, "+r+") translate3d(0px, "+(u.height/2+s)+"px, "+-u.height/2/r+"px) rotateX(-90deg)")}var t=u.isSafari||u.isUiWebView?-u.size/2:0;u.wrapper.transform("translate3d(0px,0,"+t+"px) rotateX("+(u.isHorizontal()?0:c)+"deg) rotateY("+(u.isHorizontal()?-c:0)+"deg)")},setTransition:function(a){u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),u.params.cube.shadow&&!u.isHorizontal()&&u.container.find(".swiper-cube-shadow").transition(a)}},coverflow:{setTranslate:function(){for(var a=u.translate,c=u.isHorizontal()?-a+u.width/2:-a+u.height/2,d=u.isHorizontal()?u.params.coverflow.rotate:-u.params.coverflow.rotate,e=u.params.coverflow.depth,f=0,g=u.slides.length;g>f;f++){var h=u.slides.eq(f),i=u.slidesSizesGrid[f],j=h[0].swiperSlideOffset,k=(c-j-i/2)/i*u.params.coverflow.modifier,l=u.isHorizontal()?d*k:0,m=u.isHorizontal()?0:d*k,n=-e*Math.abs(k),o=u.isHorizontal()?0:u.params.coverflow.stretch*k,p=u.isHorizontal()?u.params.coverflow.stretch*k:0;Math.abs(p)<.001&&(p=0),Math.abs(o)<.001&&(o=0),Math.abs(n)<.001&&(n=0),Math.abs(l)<.001&&(l=0),Math.abs(m)<.001&&(m=0);var q="translate3d("+p+"px,"+o+"px,"+n+"px)  rotateX("+m+"deg) rotateY("+l+"deg)";if(h.transform(q),h[0].style.zIndex=-Math.abs(Math.round(k))+1,u.params.coverflow.slideShadows){var r=u.isHorizontal()?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),s=u.isHorizontal()?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===r.length&&(r=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"left":"top")+'"></div>'),h.append(r)),0===s.length&&(s=b('<div class="swiper-slide-shadow-'+(u.isHorizontal()?"right":"bottom")+'"></div>'),h.append(s)),r.length&&(r[0].style.opacity=k>0?k:0),s.length&&(s[0].style.opacity=-k>0?-k:0)}}if(u.browser.ie){var t=u.wrapper[0].style;t.perspectiveOrigin=c+"px 50%"}},setTransition:function(a){u.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}}},u.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,c){if("undefined"!=typeof a&&("undefined"==typeof c&&(c=!0),0!==u.slides.length)){var d=u.slides.eq(a),e=d.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!d.hasClass("swiper-lazy")||d.hasClass("swiper-lazy-loaded")||d.hasClass("swiper-lazy-loading")||(e=e.add(d[0])),0!==e.length&&e.each(function(){var a=b(this);a.addClass("swiper-lazy-loading");var e=a.attr("data-background"),f=a.attr("data-src"),g=a.attr("data-srcset");u.loadImage(a[0],f||e,g,!1,function(){if(e?(a.css("background-image",'url("'+e+'")'),a.removeAttr("data-background")):(g&&(a.attr("srcset",g),a.removeAttr("data-srcset")),f&&(a.attr("src",f),a.removeAttr("data-src"))),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),d.find(".swiper-lazy-preloader, .preloader").remove(),u.params.loop&&c){var b=d.attr("data-swiper-slide-index");if(d.hasClass(u.params.slideDuplicateClass)){var h=u.wrapper.children('[data-swiper-slide-index="'+b+'"]:not(.'+u.params.slideDuplicateClass+")");u.lazy.loadImageInSlide(h.index(),!1)}else{var i=u.wrapper.children("."+u.params.slideDuplicateClass+'[data-swiper-slide-index="'+b+'"]');u.lazy.loadImageInSlide(i.index(),!1)}}u.emit("onLazyImageReady",u,d[0],a[0])}),u.emit("onLazyImageLoad",u,d[0],a[0])})}},load:function(){var a;if(u.params.watchSlidesVisibility)u.wrapper.children("."+u.params.slideVisibleClass).each(function(){u.lazy.loadImageInSlide(b(this).index())});else if(u.params.slidesPerView>1)for(a=u.activeIndex;a<u.activeIndex+u.params.slidesPerView;a++)u.slides[a]&&u.lazy.loadImageInSlide(a);else u.lazy.loadImageInSlide(u.activeIndex);if(u.params.lazyLoadingInPrevNext)if(u.params.slidesPerView>1||u.params.lazyLoadingInPrevNextAmount&&u.params.lazyLoadingInPrevNextAmount>1){var c=u.params.lazyLoadingInPrevNextAmount,d=u.params.slidesPerView,e=Math.min(u.activeIndex+d+Math.max(c,d),u.slides.length),f=Math.max(u.activeIndex-Math.max(d,c),0);for(a=u.activeIndex+u.params.slidesPerView;e>a;a++)u.slides[a]&&u.lazy.loadImageInSlide(a);for(a=f;a<u.activeIndex;a++)u.slides[a]&&u.lazy.loadImageInSlide(a)}else{var g=u.wrapper.children("."+u.params.slideNextClass);g.length>0&&u.lazy.loadImageInSlide(g.index());var h=u.wrapper.children("."+u.params.slidePrevClass);h.length>0&&u.lazy.loadImageInSlide(h.index())}},onTransitionStart:function(){u.params.lazyLoading&&(u.params.lazyLoadingOnTransitionStart||!u.params.lazyLoadingOnTransitionStart&&!u.lazy.initialImageLoaded)&&u.lazy.load()},onTransitionEnd:function(){u.params.lazyLoading&&!u.params.lazyLoadingOnTransitionStart&&u.lazy.load()}},u.scrollbar={isTouched:!1,setDragPosition:function(a){var b=u.scrollbar,c=u.isHorizontal()?"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageX:a.pageX||a.clientX:"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY||a.clientY,d=c-b.track.offset()[u.isHorizontal()?"left":"top"]-b.dragSize/2,e=-u.minTranslate()*b.moveDivider,f=-u.maxTranslate()*b.moveDivider;e>d?d=e:d>f&&(d=f),d=-d/b.moveDivider,u.updateProgress(d),u.setWrapperTranslate(d,!0)},dragStart:function(a){var b=u.scrollbar;b.isTouched=!0,a.preventDefault(),a.stopPropagation(),b.setDragPosition(a),clearTimeout(b.dragTimeout),b.track.transition(0),u.params.scrollbarHide&&b.track.css("opacity",1),u.wrapper.transition(100),b.drag.transition(100),u.emit("onScrollbarDragStart",u)},dragMove:function(a){var b=u.scrollbar;b.isTouched&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b.setDragPosition(a),u.wrapper.transition(0),b.track.transition(0),b.drag.transition(0),u.emit("onScrollbarDragMove",u))},dragEnd:function(a){var b=u.scrollbar;b.isTouched&&(b.isTouched=!1,u.params.scrollbarHide&&(clearTimeout(b.dragTimeout),b.dragTimeout=setTimeout(function(){b.track.css("opacity",0),b.track.transition(400)},1e3)),u.emit("onScrollbarDragEnd",u),u.params.scrollbarSnapOnRelease&&u.slideReset())},enableDraggable:function(){var a=u.scrollbar,c=u.support.touch?a.track:document;b(a.track).on(u.touchEvents.start,a.dragStart),b(c).on(u.touchEvents.move,a.dragMove),b(c).on(u.touchEvents.end,a.dragEnd)},disableDraggable:function(){var a=u.scrollbar,c=u.support.touch?a.track:document;b(a.track).off(u.touchEvents.start,a.dragStart),b(c).off(u.touchEvents.move,a.dragMove),b(c).off(u.touchEvents.end,a.dragEnd)},set:function(){if(u.params.scrollbar){var a=u.scrollbar;a.track=b(u.params.scrollbar),u.params.uniqueNavElements&&"string"==typeof u.params.scrollbar&&a.track.length>1&&1===u.container.find(u.params.scrollbar).length&&(a.track=u.container.find(u.params.scrollbar)),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=b('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=u.isHorizontal()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=u.size/u.virtualSize,a.moveDivider=a.divider*(a.trackSize/u.size),a.dragSize=a.trackSize*a.divider,u.isHorizontal()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",u.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(u.params.scrollbar){var a,b=u.scrollbar,c=(u.translate||0,b.dragSize);a=(b.trackSize-b.dragSize)*u.progress,u.rtl&&u.isHorizontal()?(a=-a,a>0?(c=b.dragSize-a,a=0):-a+b.dragSize>b.trackSize&&(c=b.trackSize+a)):0>a?(c=b.dragSize+a,a=0):a+b.dragSize>b.trackSize&&(c=b.trackSize-a),u.isHorizontal()?(u.support.transforms3d?b.drag.transform("translate3d("+a+"px, 0, 0)"):b.drag.transform("translateX("+a+"px)"),b.drag[0].style.width=c+"px"):(u.support.transforms3d?b.drag.transform("translate3d(0px, "+a+"px, 0)"):b.drag.transform("translateY("+a+"px)"),b.drag[0].style.height=c+"px"),u.params.scrollbarHide&&(clearTimeout(b.timeout),b.track[0].style.opacity=1,b.timeout=setTimeout(function(){b.track[0].style.opacity=0,b.track.transition(400)},1e3))}},setTransition:function(a){u.params.scrollbar&&u.scrollbar.drag.transition(a)}},u.controller={LinearSpline:function(a,b){this.x=a,this.y=b,this.lastIndex=a.length-1;var c,d;this.x.length,this.interpolate=function(a){return a?(d=e(this.x,a),c=d-1,(a-this.x[c])*(this.y[d]-this.y[c])/(this.x[d]-this.x[c])+this.y[c]):0};var e=function(){var a,b,c;return function(d,e){for(b=-1,a=d.length;a-b>1;)d[c=a+b>>1]<=e?b=c:a=c;return a}}()},getInterpolateFunction:function(a){u.controller.spline||(u.controller.spline=u.params.loop?new u.controller.LinearSpline(u.slidesGrid,a.slidesGrid):new u.controller.LinearSpline(u.snapGrid,a.snapGrid))},setTranslate:function(a,b){function d(b){a=b.rtl&&"horizontal"===b.params.direction?-u.translate:u.translate,"slide"===u.params.controlBy&&(u.controller.getInterpolateFunction(b),f=-u.controller.spline.interpolate(-a)),f&&"container"!==u.params.controlBy||(e=(b.maxTranslate()-b.minTranslate())/(u.maxTranslate()-u.minTranslate()),f=(a-u.minTranslate())*e+b.minTranslate()),u.params.controlInverse&&(f=b.maxTranslate()-f),b.updateProgress(f),b.setWrapperTranslate(f,!1,u),b.updateActiveIndex()}var e,f,g=u.params.control;if(u.isArray(g))for(var h=0;h<g.length;h++)g[h]!==b&&g[h]instanceof c&&d(g[h]);else g instanceof c&&b!==g&&d(g)},setTransition:function(a,b){function d(b){b.setWrapperTransition(a,u),0!==a&&(b.onTransitionStart(),b.wrapper.transitionEnd(function(){f&&(b.params.loop&&"slide"===u.params.controlBy&&b.fixLoop(),b.onTransitionEnd())}))}var e,f=u.params.control;if(u.isArray(f))for(e=0;e<f.length;e++)f[e]!==b&&f[e]instanceof c&&d(f[e]);else f instanceof c&&b!==f&&d(f)}},u.hashnav={init:function(){if(u.params.hashnav){u.hashnav.initialized=!0;var a=document.location.hash.replace("#","");if(a)for(var b=0,c=0,d=u.slides.length;d>c;c++){var e=u.slides.eq(c),f=e.attr("data-hash");if(f===a&&!e.hasClass(u.params.slideDuplicateClass)){var g=e.index();u.slideTo(g,b,u.params.runCallbacksOnInit,!0)}}}},setHash:function(){u.hashnav.initialized&&u.params.hashnav&&(document.location.hash=u.slides.eq(u.activeIndex).attr("data-hash")||"")}},u.disableKeyboardControl=function(){u.params.keyboardControl=!1,b(document).off("keydown",j)},u.enableKeyboardControl=function(){u.params.keyboardControl=!0,b(document).on("keydown",j)},u.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},u.params.mousewheelControl){try{new window.WheelEvent("wheel"),u.mousewheel.event="wheel"}catch(M){(window.WheelEvent||u.container[0]&&"wheel"in u.container[0])&&(u.mousewheel.event="wheel")}!u.mousewheel.event&&window.WheelEvent,u.mousewheel.event||void 0===document.onmousewheel||(u.mousewheel.event="mousewheel"),u.mousewheel.event||(u.mousewheel.event="DOMMouseScroll")}u.disableMousewheelControl=function(){return u.mousewheel.event?(u.container.off(u.mousewheel.event,k),!0):!1},u.enableMousewheelControl=function(){return u.mousewheel.event?(u.container.on(u.mousewheel.event,k),!0):!1},u.parallax={setTranslate:function(){u.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){l(this,u.progress)}),u.slides.each(function(){var a=b(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=Math.min(Math.max(a[0].progress,-1),1);l(this,b)})})},setTransition:function(a){"undefined"==typeof a&&(a=u.params.speed),u.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var c=b(this),d=parseInt(c.attr("data-swiper-parallax-duration"),10)||a;0===a&&(d=0),c.transition(d)})}},u._plugins=[];for(var N in u.plugins){var O=u.plugins[N](u,u.params[N]);O&&u._plugins.push(O)}return u.callPlugins=function(a){for(var b=0;b<u._plugins.length;b++)a in u._plugins[b]&&u._plugins[b][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u.emitterEventListeners={},u.emit=function(a){u.params[a]&&u.params[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var b;if(u.emitterEventListeners[a])for(b=0;b<u.emitterEventListeners[a].length;b++)u.emitterEventListeners[a][b](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);u.callPlugins&&u.callPlugins(a,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},u.on=function(a,b){return a=m(a),u.emitterEventListeners[a]||(u.emitterEventListeners[a]=[]),u.emitterEventListeners[a].push(b),u},u.off=function(a,b){var c;if(a=m(a),"undefined"==typeof b)return u.emitterEventListeners[a]=[],u;if(u.emitterEventListeners[a]&&0!==u.emitterEventListeners[a].length){for(c=0;c<u.emitterEventListeners[a].length;c++)u.emitterEventListeners[a][c]===b&&u.emitterEventListeners[a].splice(c,1);return u}},u.once=function(a,b){a=m(a);var c=function(){b(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),u.off(a,c)};return u.on(a,c),u},u.a11y={makeFocusable:function(a){return a.attr("tabIndex","0"),a},addRole:function(a,b){return a.attr("role",b),a},addLabel:function(a,b){return a.attr("aria-label",b),a},disable:function(a){return a.attr("aria-disabled",!0),a},enable:function(a){return a.attr("aria-disabled",!1),a},onEnterKey:function(a){13===a.keyCode&&(b(a.target).is(u.params.nextButton)?(u.onClickNext(a),u.isEnd?u.a11y.notify(u.params.lastSlideMessage):u.a11y.notify(u.params.nextSlideMessage)):b(a.target).is(u.params.prevButton)&&(u.onClickPrev(a),u.isBeginning?u.a11y.notify(u.params.firstSlideMessage):u.a11y.notify(u.params.prevSlideMessage)),b(a.target).is("."+u.params.bulletClass)&&b(a.target)[0].click())},liveRegion:b('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(a){var b=u.a11y.liveRegion;0!==b.length&&(b.html(""),b.html(a))},init:function(){u.params.nextButton&&u.nextButton&&u.nextButton.length>0&&(u.a11y.makeFocusable(u.nextButton),u.a11y.addRole(u.nextButton,"button"),u.a11y.addLabel(u.nextButton,u.params.nextSlideMessage)),u.params.prevButton&&u.prevButton&&u.prevButton.length>0&&(u.a11y.makeFocusable(u.prevButton),u.a11y.addRole(u.prevButton,"button"),u.a11y.addLabel(u.prevButton,u.params.prevSlideMessage)),b(u.container).append(u.a11y.liveRegion)},initPagination:function(){u.params.pagination&&u.params.paginationClickable&&u.bullets&&u.bullets.length&&u.bullets.each(function(){var a=b(this);u.a11y.makeFocusable(a),u.a11y.addRole(a,"button"),u.a11y.addLabel(a,u.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){u.a11y.liveRegion&&u.a11y.liveRegion.length>0&&u.a11y.liveRegion.remove()}},u.init=function(){u.params.loop&&u.createLoop(),u.updateContainerSize(),u.updateSlidesSize(),u.updatePagination(),u.params.scrollbar&&u.scrollbar&&(u.scrollbar.set(),u.params.scrollbarDraggable&&u.scrollbar.enableDraggable()),"slide"!==u.params.effect&&u.effects[u.params.effect]&&(u.params.loop||u.updateProgress(),u.effects[u.params.effect].setTranslate()),u.params.loop?u.slideTo(u.params.initialSlide+u.loopedSlides,0,u.params.runCallbacksOnInit):(u.slideTo(u.params.initialSlide,0,u.params.runCallbacksOnInit),0===u.params.initialSlide&&(u.parallax&&u.params.parallax&&u.parallax.setTranslate(),u.lazy&&u.params.lazyLoading&&(u.lazy.load(),u.lazy.initialImageLoaded=!0))),u.attachEvents(),u.params.observer&&u.support.observer&&u.initObservers(),u.params.preloadImages&&!u.params.lazyLoading&&u.preloadImages(),u.params.autoplay&&u.startAutoplay(),u.params.keyboardControl&&u.enableKeyboardControl&&u.enableKeyboardControl(),u.params.mousewheelControl&&u.enableMousewheelControl&&u.enableMousewheelControl(),
u.params.hashnav&&u.hashnav&&u.hashnav.init(),u.params.a11y&&u.a11y&&u.a11y.init(),u.emit("onInit",u)},u.cleanupStyles=function(){u.container.removeClass(u.classNames.join(" ")).removeAttr("style"),u.wrapper.removeAttr("style"),u.slides&&u.slides.length&&u.slides.removeClass([u.params.slideVisibleClass,u.params.slideActiveClass,u.params.slideNextClass,u.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),u.paginationContainer&&u.paginationContainer.length&&u.paginationContainer.removeClass(u.params.paginationHiddenClass),u.bullets&&u.bullets.length&&u.bullets.removeClass(u.params.bulletActiveClass),u.params.prevButton&&b(u.params.prevButton).removeClass(u.params.buttonDisabledClass),u.params.nextButton&&b(u.params.nextButton).removeClass(u.params.buttonDisabledClass),u.params.scrollbar&&u.scrollbar&&(u.scrollbar.track&&u.scrollbar.track.length&&u.scrollbar.track.removeAttr("style"),u.scrollbar.drag&&u.scrollbar.drag.length&&u.scrollbar.drag.removeAttr("style"))},u.destroy=function(a,b){u.detachEvents(),u.stopAutoplay(),u.params.scrollbar&&u.scrollbar&&u.params.scrollbarDraggable&&u.scrollbar.disableDraggable(),u.params.loop&&u.destroyLoop(),b&&u.cleanupStyles(),u.disconnectObservers(),u.params.keyboardControl&&u.disableKeyboardControl&&u.disableKeyboardControl(),u.params.mousewheelControl&&u.disableMousewheelControl&&u.disableMousewheelControl(),u.params.a11y&&u.a11y&&u.a11y.destroy(),u.emit("onDestroy"),a!==!1&&(u=null)},u.init(),u}};c.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),e=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:c||e||d,android:b}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),flexbox:function(){for(var a=document.createElement("div").style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),c=0;c<b.length;c++)if(b[c]in a)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var d=(function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f,g,h=b.trim();if(h.indexOf("<")>=0&&h.indexOf(">")>=0){var i="div";for(0===h.indexOf("<li")&&(i="ul"),0===h.indexOf("<tr")&&(i="tbody"),(0===h.indexOf("<td")||0===h.indexOf("<th"))&&(i="tr"),0===h.indexOf("<tbody")&&(i="table"),0===h.indexOf("<option")&&(i="select"),g=document.createElement(i),g.innerHTML=b,e=0;e<g.childNodes.length;e++)d.push(g.childNodes[e])}else for(f=c||"#"!==b[0]||b.match(/[ .<>:~]/)?(c||document).querySelectorAll(b):[document.getElementById(b.split("#")[1])],e=0;e<f.length;e++)f[e]&&d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};return a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)if(2===arguments.length)this[c].setAttribute(a,b);else for(var d in a)this[c][d]=a[d],this[c].setAttribute(d,a[d]);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a);return this},data:function(a,b){if("undefined"!=typeof b){for(var c=0;c<this.length;c++){var d=this[c];d.dom7ElementDataStorage||(d.dom7ElementDataStorage={}),d.dom7ElementDataStorage[a]=b}return this}if(this[0]){var e=this[0].getAttribute("data-"+a);return e?e:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new window.CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},add:function(){var a,c,d=this;for(a=0;a<arguments.length;a++){var e=b(arguments[a]);for(c=0;c<e.length;c++)d[d.length]=e[c],d.length++}return d}},b.fn=a.prototype,b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b}()),e=["jQuery","Zepto","Dom7"],f=0;f<e.length;f++)window[e[f]]&&a(window[e[f]]);var g;g="undefined"==typeof d?window.Dom7||window.Zepto||window.jQuery:d,g&&("transitionEnd"in g.fn||(g.fn.transitionEnd=function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this}),"transform"in g.fn||(g.fn.transform=function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this}),"transition"in g.fn||(g.fn.transition=function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this})),window.Swiper=c}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define("entry/train/js/swiper.jquery",[],function(){"use strict";return window.Swiper}),define("entry/train/js/index",["entry/train/js/calendar","src/js/common","entry/train/js/city","src/js/core","entry/train/js/dialog","src/js/PluginManager","entry/train/js/cityDataCopy","src/js/dateextend","entry/train/js/swiper.jquery"],function(a,b,c,d,e,f,g){d.onrender("entry",function(a){function b(a,b){var c=localStorage.getItem("train-city-list");if(c)try{c=JSON.parse(c)}catch(d){c=[]}(null==c||0==c.length)&&(c=a),s.setData(c,b)}function h(){var b=(new Date).add(1,3).format("yyyy-MM-dd");u(b),v(),x();new Swiper(".entry-swiper",{pagination:".swiper-pagination",paginationClickable:!0,spaceBetween:0,centeredSlides:!0,autoplay:2500,autoplayDisableOnInteraction:!1});$(".entry-swiper",a).on("click","a",function(){var a=$(this).attr("data-login"),b=[],c=$(this).attr("data-href"),e=$(this).attr("data-note");b.push("url="+Base64.encodeURI(c)),b.push("note="+e);var f=d.router.getUrlFromTpl("entry");return b.push("backUrl="+Base64.encodeURI(f)),console.log(b.join("&")),1==a?ElongBridge&&ElongBridge.RUNTIME_VERSION?(ElongBridge.accountLogin({isOrderFillin:!1,onsuccess:function(a){return b.push("sessiontoken="+a.data.session_token),d.get("activity")&&d.get("activity").destroy(),a.error?void 0:(d.addPager({url:d.router.getUrlFromTpl("activity")+"?"+b.join("&"),active:!0}),!1)},onfail:function(a){}}),!1):(d.addPager({url:d.router.getUrlFromTpl("activity")+"?"+b.join("&"),active:!0}),!1):void d.addPager({url:d.router.getUrlFromTpl("activity")+"?"+b.join("&"),active:!0})})}try{ElongApp.dismissLoading()}catch(i){}d.getHash("origin");if($("#a_f_download",a).on("click",function(a){a.stopPropagation(),$("html").hasClass("android")?ElongBridge.closeH5Page({onsuccess:function(){},onfail:function(){}}):ElongBridge.appPage({type:"index",orderH5channel:"webapp",onsuccess:function(){},onfail:function(){}})}),navigator.userAgent.indexOf("Windows Phone")<0&&"object"==typeof $CHANNEL&&"ewhtml5"===$CHANNEL.ID){var j=window.localStorage.getItem("train_bannercache");if(j){var k=Math.floor(((new Date).getTime()-parseInt(j))/36e5);k>=24&&$(".appdlbg").show()}else $(".appdlbg").show();$(a).on("click","#bannerClose",function(){window.localStorage.setItem("train_bannercache",(new Date).getTime()),$(".appdlbg").hide()}),$("#bannerClose").on("click",function(){window.localStorage.setItem("train_bannercache",(new Date).getTime()),$(".appdlbg").hide()})}var l=d.transitionEnd,m=$("#sysHidden",a).val();m=m?JSON.parse(m):{siteName:"train",storage:!0};var n="";$(a).off("click");var o={TEMPLATE:'<div class="remindPlugin page-plugin page-on-right"><header class="remind-head bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">公 告</h1></header><div class="remind-body"><h6 class="remind-title"></h6><p class="remind-info"></p></div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(d.getActiveLayer());var b=this.page,c=b.find(".remind-info"),e=b.find(".remind-title");$(".remind",a).on("click",function(){var a=$(this).attr("data"),b=$(this).html();c.text(a),e.html(b),o.show()}),b.find(".icon").on("click",function(){o.hide()})}};f.add("remindPage",o);var p=$("#adultPreSale",a).val();p=p?parseInt(p):59;var q=new Date,r=$(".date",a).calendar({mindate:q,maxdate:q.add(p,3),selectDate:function(){return $("#startdate",a).val()},eventCallBack:function(a){u(a)}});f.add("calendar",r);var s=new c;b(g.cityList,g.hotList),f.add("city",s),$(".promotion",a).on("click",function(){var b=[],c=$(".promotion",a).attr("data-link")||"http://d.elong.cn/huoche_train",e=$(".promotion",a).attr("data-note");b.push("url="+c),b.push("note="+e);var f=d.router.getUrlFromTpl("entry");b.push("backUrl="+Base64.encodeURI(f)),console.log(b.join("&")),d.get("activity")&&d.get("activity").destroy(),d.addPager({url:d.router.getUrlFromTpl("activity")+"?"+b.join("&"),active:!0})}),$(a).on("click",".choose-station",function(){var b=$(this).find(".choose-btn");return z().then(function(c){$(".city-sel .search-box input").length&&$(".city-sel .search-box input").val(""),s.show(function(c){b.find("span").text(c[0]),b.hasClass("start")?$(".search-form",a).find("#startstation").val(c[0]):$(".search-form",a).find("#endstation").val(c[0])},c)}),!1}),$(a).on("click",".switch",function(){var b=$(this).parents(".station"),c=b.find(".start").text(),d=b.find(".end").text();$(".search-form",a).find("#startstation").val(d),$(".search-form",a).find("#endstation").val(c);var e=b.find(".start").children(),f=b.find(".end").children(),g=b.children(".switch").children();return l?(e.on(l,function(){b.find(".start").html("<span>"+d+"</span>")}),f.on(l,function(){b.find(".end").html("<span>"+c+"</span>")}),g.on(l,function(){b.find(".switch-btn").removeClass("switch-ratate")}),g.addClass("switch-ratate"),e.addClass("switch-right"),f.addClass("switch-left")):(b.find(".start").html("<span>"+d+"</span>"),b.find(".end").html("<span>"+c+"</span>")),!1}),$(a).on("click",".history .item",function(){var a=$(this);$(".history .item").removeClass("active"),a.addClass("active");var b=a.children(".start").text(),c=a.children(".end").text(),d=$(".operate .station"),e=d.find(".start").children(),f=d.find(".end").children(),g=e.text(),h=f.text();(g!=b||h!=c)&&(l?(e.addClass("overturn"),f.addClass("overturn"),e.on(l,function(){e.removeClass("overturn"),f.removeClass("overturn"),w(b,c)})):w(b,c))});({versions:function(){var a=navigator.userAgent;navigator.appVersion;return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/)||!!a.match(/AppleWebKit/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&a.indexOf("Windows")<0,android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:(a.indexOf("iPhone")>-1||a.indexOf("Mac")>-1)&&a.indexOf("Windows")<0,iPad:a.indexOf("iPad")>-1&&a.indexOf("Windows")<0,webApp:-1==a.indexOf("Safari")}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()});$(".my-order-login",a).on("click",function(){d.get("orderlist")&&d.get("orderlist").destroy(),d.addPager({url:d.router.getUrlFromTpl("orderlist"),active:!0})}),$(".order-tip",a).on("click",function(){var a=[];a.push("url="+Base64.encodeURI("http://promotion.elong.com/wireless/H5/html/huoche/huoche.html")),a.push("note=预订须知");var b=d.router.getUrlFromTpl("entry");a.push("backUrl="+Base64.encodeURI(b)),d.addPager({url:d.router.getUrlFromTpl("activity")+"?"+a.join("&"),active:!0})}),$(a).on("click",".search .btn-primary",function(){if(!$("#startstation",a).val())return e.alert("出发站不能为空"),!1;if(!$("#endstation",a).val())return e.alert("到达站不能为空"),!1;$(".label-checkbox .checkbox",a).hasClass("checked")?$("#traintype").val(1):$("#traintype").val(0),t(),v();var b=[],c=new Date;$("form.search-form input").each(function(){var a=$(this);b.push(a.attr("id")+"="+encodeURIComponent(a.val()))}),d.addPager({url:d.router.getUrlFromTpl("list")+"?"+b.join("&")+"&rand="+c.getTime(),active:!0})});var t=function(){if(window.localStorage){var a=$(".operate .start").children("span").text(),b=$(".operate .end").children("span").text(),c=window.localStorage.getItem("historyKey");c?(c=JSON.parse(c),$.isArray(c)||(c=[])):c=[];var d=[];c.forEach(function(c){(c.start!=a||c.end!=b)&&d.push(c)}),d.length>2&&(d=d.slice(-2)),d.push({start:a,end:b}),window.localStorage.setItem("historyKey",window.JSON.stringify(d))}},u=function(b){var c=["周日","周一","周二","周三","周四","周五","周六"],d=Date.parseDate(b),e=d.getDay(),f=d.toArray();f[1]=f[1]+1,$("#startdate",a).val(b);var g="",h=new Date,i=d.diff(h,3);g=0>=i?"今天":i>0&&1>=i?"明天":i>1&&2>=i?"后天":c[e],$(".date-region span",a).text(f[1]+"月"+f[2]+"日").next("em").text(g)},v=function(){var b=localStorage.getItem("historyKey");if(b?(b=JSON.parse(b),$.isArray(b)||(b=[])):b=[],b.length>0){for(var c='<div class="history-title">最近查询</div>',d=b.length-1;d>=0;d--)c+='<div class="item"><span class="start" onselectstart="return false;">'+b[d].start+'</span> - <span class="end" onselectstart="return false;">'+b[d].end+"</span></div>";$(".goSearch .history",a).html(c),w(b[b.length-1].start,b[b.length-1].end)}else w("北京","上海")},w=function(b,c){$(".operate .station .start span",a).text(b),$(".operate .station .end span",a).text(c),$("#startstation",a).val(b),$("#endstation",a).val(c)},x=function(){var b=$("#hiddenDataSign",a).val();b=b||"";var c=localStorage.getItem("cityTimestamp");if(!c||c!=b){var d=$.post("http://m.elong.com/train/task/updatestation");d.done(function(a){a="object"==typeof a?a:JSON.parse(a),localStorage.setItem("train-city-list",a.message),localStorage.setItem("cityTimestamp",a.dataSign)}),d.fail(function(){console.log(arguments)})}},y=function(){var a=$.Deferred();if(ElongBridge&&0!=ElongBridge.RUNTIME_VERSION)ElongBridge.locationGet({onsuccess:function(b){a.resolve({latitude:b.data.coords.latitude,longitude:b.data.coords.longitude})},onfail:function(){a.resolve({latitude:"",longitude:""})}});else{if(!navigator||!navigator.geolocation)return a.resolve({latitude:"",longitude:""}),a.promise();navigator.geolocation.getCurrentPosition(function(b){a.resolve({latitude:b.latitude,longitude:b.longitude})},function(){a.resolve({latitude:"",longitude:""})})}return a.promise()},z=function(){var a=$.Deferred();return""!=n?(a.resolve(n),a.promise()):(y().then(function(b){var c=$.post("http://m.elong.com/train/cityLocation",b);c.done(function(b){b="object"==typeof b?b:JSON.parse(b),a.resolve(b.Data)}),c.fail(function(){a.resolve("北京")})}),a.promise())};h()})}),define("entry/train/js/activity",["src/js/common","src/js/core"],function(a,b){b.onrender("activity",function(a){var c=b.getHash("url");c=Base64.decode(c),$(".activity-page",a).attr("src",c);var d=b.getHash("backUrl");d=Base64.decode(d),$("#activity-page-header a",a).on("click",function(){d&&""!=d&&(event.stopPropagation(),event.preventDefault(),b.addPager({url:d,active:!0}))});var e=b.getHash("reload");b.get(e)&&b.get(e).destroy(),window.addEventListener("message",function(a){var b=a.data;(b="go-1")&&window.history.go(-1)},!1)})}),define("src/js/calendar",["src/js/dateextend","src/js/core"],function(a,b){$.extend($.fn,{calendar:function(a){function c(a,b){return a>>b&1}function d(){k=3!=arguments.length?new Date:new Date(arguments[0],arguments[1],arguments[2]);var a,b,d,e,f=!1,g=k.getYear();for(1900>g&&(g+=1900),a=365*(g-1921)+Math.floor((g-1921)/4)+m[k.getMonth()]+k.getDate()-38,k.getYear()%4==0&&k.getMonth()>1&&a++,b=0;;b++){for(e=l[b]<4095?11:12,d=e;d>=0;d--){if(a<=29+c(l[b],d)){f=!0;break}a=a-29-c(l[b],d)}if(f)break}h=1921+b,i=e-d+1,j=a,12==e&&(i==Math.floor(l[b]/65536)+1&&(i=1-i),i>Math.floor(l[b]/65536)+1&&i--)}function e(){var a="",b=11>j?"初":20>j?"十":30>j?"廿":"三十";return(j%10!=0||10==j)&&(b+=n.charAt((j-1)%10)),"初一"==b?(1>i?(a+="(闰)",a+=o.charAt(-i-1)):a+=o.charAt(i-1),a+="月"):(a+=11>j?"初":20>j?"十":30>j?"廿":"三十",(j%10!=0||10==j)&&(a+=n.charAt((j-1)%10))),a}function f(a,b,c){return 1921>a||a>2020?"":(b=parseInt(b)>0?b-1:11,d(a,b,c),e())}function g(a,b,c){return f(a,b,c)}a=$.extend({mindate:new Date(1970,0,1),maxdate:new Date(2050,12,31),text:"出发",startText:"开始",endText:"结束",isDouble:!1,isDeepNight:!1,tag:{week:["日","一","二","三","四","五","六"]},eventCallBack:function(a){},beforeSelected:function(a){return!0},festivaltag:{"1-1":["元旦"],"2-14":["情人节"],"3-8":["妇女节"],"5-1":["劳动节"],"6-1":["儿童节"],"10-1":["国庆"],"12-24":["平安夜"],"12-25":["圣诞节"]},cnfestivaltag:{"2016-2-7":["除夕"],"2016-2-8":["春节"],"2016-2-22":["元宵节"],"2016-4-4":["清明"],"2016-5-1":["劳动节"],"2016-6-9":["端午节"],"2016-6-19":["父亲节"],"2016-7-1":["建党"],"2016-8-1":["建军"],"2016-8-9":["七夕"],"2016-8-17":["中元节"],"2016-9-10":["教师节"],"2016-9-15":["中秋节"],"2016-10-9":["重阳节"],"2016-10-31":["万圣节"],"2016-11-24":["感恩节"],"2017-1-5":["腊八"],"2017-1-23":["小年"],"2017-1-27":["除夕"],"2017-2-14":["情人节"],"2017-2-11":["元宵节"]},holidaytag:{"2016-1-1":["休"],"2016-1-2":["休"],"2016-1-3":["休"],"2016-2-6":["班"],"2016-2-7":["休"],"2016-2-8":["休"],"2016-2-9":["休"],"2016-2-10":["休"],"2016-2-11":["休"],"2016-2-12":["休"],"2016-2-13":["休"],"2016-2-14":["班"],"2016-4-2":["休"],"2016-4-3":["休"],"2016-4-4":["休"],"2016-4-30":["休"],"2016-5-1":["休"],"2016-5-2":["休"],"2016-6-9":["休"],"2016-6-10":["休"],"2016-6-11":["休"],"2016-6-12":["班"],"2016-9-15":["休"],"2016-9-16":["休"],"2016-9-17":["休"],"2016-9-18":["班"],"2016-10-1":["休"],"2016-10-2":["休"],"2016-10-3":["休"],"2016-10-4":["休"],"2016-10-5":["休"],"2016-10-6":["休"],"2016-10-7":["休"],"2016-10-8":["班"],"2016-10-9":["班"]}},a);var h,i,j,k,l=new Array(100),m=new Array(12),n="一二三四五六七八九十",o="正二三四五六七八九十冬腊";l=new Array(2635,333387,1701,1748,267701,694,2391,133423,1175,396438,3402,3749,331177,1453,694,201326,2350,465197,3221,3402,400202,2901,1386,267611,605,2349,137515,2709,464533,1738,2901,330421,1242,2651,199255,1323,529706,3733,1706,398762,2741,1206,267438,2647,1318,204070,3477,461653,1386,2413,330077,1197,2637,268877,3365,531109,2900,2922,398042,2395,1179,267415,2635,661067,1701,1748,398772,2742,2391,330031,1175,1611,200010,3749,527717,1452,2742,332397,2350,3222,268949,3402,3493,133973,1386,464219,605,2349,334123,2709,2890,267946,2773,592565,1210,2651,395863,1323,2707,265877),m[0]=0,m[1]=31,m[2]=59,m[3]=90,m[4]=120,m[5]=151,m[6]=181,m[7]=212,m[8]=243,m[9]=273,m[10]=304,m[11]=334;var p,q,r=this,s={el:"",data:""},t={el:"",data:""},u={el:"",data:""},v={el:"",data:""},w=!1,x=!0,y=!0,z=null;q=$("<div>").addClass("cld page-plugin"),b.getActiveLayer()?q.appendTo(b.getActiveLayer()):document.body.appendChild(q[0]);var A=function(){q.html("");var b=a.maxdate.diff(a.mindate,2),c=[],d={header:"",left:"",right:""};d.header=$('<header class="bar bar-nav"><h1 class="title">'+a.text+"日期</h1></header>").appendTo(q),d.left=$('<a class="icon icon-back pull-left hide-cln"></a>').appendTo(d.header),d.right=$("<a></a>").addClass("cld-title-year pull-right icon").appendTo(d.header),p=$('<div class="page-content">').appendTo(q),d.left.bind("click",function(){z.hide()}),C();for(var e=0;b>=e;e++){var f=new Date(a.mindate.format("yyyy-MM")+"-01"),h=(new Date).getMonth()+1,i=f.add(e,2),j=i.getDay(),k=i.daysInMonth(),l=0,m={};m.wrap=$("<section class='cld-item'>"),m.date=$("<h1 class='cld-titleDate'>"+i.format("yyyy年MM月")+"</h1>").appendTo(m.wrap),m.days=$('<ul class="cld-day">').appendTo(m.wrap);for(var n=0;42>n;n++)if(n>=j&&k>l){var o=i.add(l,3);l++;var r=g(2016,h+e,l),s=$('<li><span class="date-elem">'+l+'</span><span class="N_date">'+r+"</span></li>").attr("data-day",o.format()).appendTo(m.days);B(s,o,l),y&&s.addClass("disabled")}else{if(n>=28&&n%7===0)break;$("<li>").appendTo(m.days)}c.push(m)}for(e=0;e<c.length;e++)c[e].wrap.appendTo(p);for(var t=$('<ul class="cld-title bar">').appendTo(q),u=0;u<a.tag.week.length;u++){var v=$("<li>").text(a.tag.week[u]);v.appendTo(t)}},B=function(b,c,d,e){var f=new Date,g=a.festivaltag[[c.getMonth()+1,c.getDate()].join("-")],h=a.cnfestivaltag[[c.getFullYear(),c.getMonth()+1,c.getDate()].join("-")],i=a.holidaytag[[c.getFullYear(),c.getMonth()+1,c.getDate()].join("-")];if(a.isDeepNight&&c.format("yyyy-MM-dd")===f.add(-1,3).format("yyyy-MM-dd")&&b.html('<div><span class="festival">'+d+'</span><span class="festivalText">深夜</span></div>'),c.equal(f,3)&&b.html('<div><span class="festival">'+d+'</span><span class="festivalText">今天</span></div>'),c.equal(a.mindate,3)?y=!1:c.equal(a.maxdate.add(1,3),3)&&(y=!0),g||h){var j;g&&(j=g),h&&(j=h),b.html('<div><span class="festival">'+d+'</span><span class="festivalText">'+j+"</span></div>")}i&&("休"==i?(b.append('<b class="holiday">'+i+"</b>"),b.addClass("holiday")):(b.append('<b class="work">'+i+"</b>"),b.addClass("work"))),"function"==typeof e&&e()},C=function(){"function"==typeof a.eventCallBack&&(a.isDouble?p.on("click",".cld-day li[data-day]",E):p.on("click",".cld-day li[data-day]",D)),$(r).on("click",function(){z.show()})},D=function(){var b=$(this).attr("data-day");return $(this).hasClass("disabled")?!1:a.beforeSelected&&"function"==typeof a.beforeSelected&&!a.beforeSelected(b)?!1:(F($(this),new Date(b).getDate()),s.el=$(this),s.data=b,z.hide(),void a.eventCallBack(b))},E=function(){if($(this).hasClass("disabled")||!x)return!1;var b=$(this).attr("data-day"),c=!!a.beforeSelected&&"function"==typeof a.beforeSelected;if(t.data==b&&w)return I(),void(w=!1);if(!w||new Date(b)<new Date(t.data)){if(c&&!a.beforeSelected(b,null,w))return!1;I(),G($(this),new Date(b).getDate(),"start"),w=!0,t.el=$(this),t.data=b}else{if(c&&!a.beforeSelected(t.data,b,w))return!1;G($(this),new Date(b).getDate(),"end"),u.el=$(this),u.data=b,H(),w=!1,x=!1,setTimeout(function(){z.hide(),a.eventCallBack(t.data,u.data),x=!0},200)}},F=function(b,c){""!==v.el&&(v.el.hide(),v.el.parent().removeClass("active").html(v.data),v.el.remove());var d=$("<div>"),e=b.find("b");$('<span class="active">'+c+"</span>").appendTo(d),$('<span class="activeText">'+a.text+"</span>").appendTo(d),v.data=$(b).html(),v.el=d,b.html(""),b.addClass("active"),b.append(e),d.appendTo(b)},G=function(b,c,d){var e=$("<div>"),f=b.find("b");"start"==d?$('<div class="undo-select"><div class="icon-cross"></div></div>').appendTo(e):$(".undo-select",q).remove(),$('<span class="active">'+c+"</span>").appendTo(e),"start"==d?$('<span class="activeText">'+a.startText+"</span>").appendTo(e):$('<span class="activeText">'+a.endText+"</span>").appendTo(e),b.attr("text",b.html()),b.html(""),b.addClass("active"),b.append(f),e.appendTo(b)},H=function(){for(var a=t.el.next(),b=u.el.attr("data-day");a.attr("data-day")!=b;){a.addClass("active-during");var c=a.next();a=0!=c.length&&c.attr("data-day")?c:a.parent().parent().next().find("li[data-day]").first()}},I=function(){var a=$(".cld-day li.active",q);a.each(function(){var a=$(this);a.html(a.attr("text"))}),a.removeClass("active"),$(".cld-day li.active-during",q).removeClass("active-during"),t.el="",t.data="",u.el="",u.data=""},J=function(){b.isLowDevice&&q.siblings(".page-content").show(),K.hasClass("android")&&K.css("overflow",""),w=!1},K=$("html"),L=function(){if("function"==typeof a.selectDate)if(a.isDouble){var c=a.selectDate(),d=c[0],e=c[1];if(new Date(d)>new Date(e))return;var f=p.find("[data-day='"+d+"']"),g=parseInt(b.removeZeroOfDate(d.substr(-2))),h=p.find("[data-day='"+e+"']"),i=parseInt(b.removeZeroOfDate(e.substr(-2)));
I(),f.length&&G(f,g,"start"),t.el=f,t.data=d,h.length&&G(h,i,"end"),u.el=h,u.data=e,f.length&&h.length&&H()}else{var j=a.selectDate(),k=p.find("[data-day='"+j+"']"),l=parseInt(b.removeZeroOfDate(j.substr(-2)));k.length&&F(k,l)}K.hasClass("android")&&K.css("overflow","hidden"),b.isLowDevice&&(q.siblings(".page-content").hide(),$("body").scrollTop(0))};return A(),z={page:q,option:{showType:"transition",transitionClass:"cld-active"},setMinDate:function(b){a.mindate=b,A()},beforeShow:L,afterHide:J}}})}),define("entry/train/js/list",["src/js/core","src/js/dateextend","entry/train/js/dialog","src/js/calendar","src/js/PluginManager"],function(a,b,c,d,e){a.transitionEnd;a.onrender("list",function(b){function d(a){var c=["周日","周一","周二","周三","周四","周五","周六"],d=Date.parseDate(a),e=d.getDay(),f=d.toArray();f[1]=f[1]+1,$("#startdate",b).val(a);var g="",h=new Date,i=d.diff(h,3);g=0>=i?"今天":i>0&&1>=i?"明天":i>1&&2>=i?"后天":c[e],$(".date-btn",b).attr("data-date",a),$(".date-btn .date-btn-text",b).text(f[1]+"月"+f[2]+"日 "+g)}function f(){var b=decodeURI(a.getHash("startdate")),c=decodeURI(a.getHash("startstation")),d=decodeURI(a.getHash("endstation")),e={startstation:c,endstation:d,startdate:b},f=$.post("http://m.elong.com/train/getrecommendationbuslist",e);f.done(function(c){if(c="object"==typeof c?c:JSON.parse(c),"0"==c.ErrorCode){var d=JSON.parse(c.Data),e=$(template("list/relevantBus",{Data:d})),f=$('[data-blend="layer"][data-blend-id= '+b+"] #listPage-content",a.getActiveLayer());0==f.find(".relevantBus").length&&(f.prepend(e),e.show())}})}function g(){var a=$(b).find(".bar-tab"),c=$(b).find(".page-on-center .page-on-center ul.list"),d="",e="";a.find(".tab-item").hasClass("selected")&&(a.find(".selected").hasClass("start-sort")?d="time":a.find(".selected").hasClass("during-sort")?d="during":a.find(".selected").hasClass("price-sort")&&(d="price"),a.find(".selected").hasClass("up")?e="up":a.find(".selected").hasClass("down")&&(e="down"),w(d,e),"time"===d?c.find(".start-time").addClass("select"):"during"===d?c.find(".during").addClass("select"):"price"===d&&c.find(".price b").addClass("select"))}$(b).off("click");var h=$("#sysHidden",b).val();h=h?JSON.parse(h):{siteName:"train",storage:!0};if(!window.tabs||!window.tabs.main.parentNode){var i=location.href.toString(),j=($(".date-btn",b),function(a,b){var c=new Date(a),d=new Date(c.getTime()+864e5*b);return d.format("yyyy-MM-dd")}),k=function(){var a=i.match(/startdate=([\d-]*)/);return a?a[1]:$(".date-btn",b).attr("data-date")};d(k());var l={pullBgColor:"ff0000",active:!0},m=function(b,c){if("undefined"!=typeof localStorage){var d=a.getHash("traintype");localStorage.setItem("listkeys",JSON.stringify({date:c,traintype:d}))}};if(m(b,k()),a.isLowDevice)window.tabs={},window.tabs.main=document.createElement("div"),a.getActiveLayer().append(window.tabs.main),tabs.add=function(a,b){location.href=a.url};else{var n=$(b).clone();n.find(".bar").remove(),$(b).find(".page-content").remove();var o=87,p=$("#listPage-header:visible");0==p.length&&(o=44),window.tabs=new a.addGroup({id:k(),layers:[{id:k(),main:n[0],active:!0,pullBgColor:"ff0000",autoload:!0}],beforeshow:function(a){var c=a.detail;c>$(".pre-day-btn",b).data("mindate")&&($(".pre-day-btn",b).removeClass("disabled"),c>=$(".pre-day-btn",b).data("maxdate")&&$(".next-day-btn",b).addClass("disabled")),c<$(".pre-day-btn",b).data("maxdate")&&($(".next-day-btn",b).removeClass("disabled"),c<=$(".pre-day-btn",b).data("mindate")&&$(".pre-day-btn",b).addClass("disabled")),m(b,c)},onrender:function(){var a=setTimeout(function(){v.initFilter(),clearTimeout(a)},100)},onshow:function(a){null!==a.detail.match(/^[\d]{4}-[\d]{2}-[\d]{2}$/)&&v.initFilter()},layerAnimate:"page-fade",enableSwipe:!1,left:0,top:o,bottom:50,force:!0})}$("#listPage-header .icon-left-nav",b).on("click",function(b){b.stopPropagation(),b.preventDefault(),a.addPager({url:a.router.getUrlFromTpl("entry"),active:!0})}),$(b).on("click","#reloadListBtn",function(){window.location.reload()}),f(),$(b).on("click",".nav-train-list .next-day-btn",function(){if(!$(this).hasClass("disabled")){var b,c=k();return b=j(c,1),b>=$(this).data("maxdate")&&($(this).addClass("disabled"),b!=$(this).data("maxdate"))?!1:(d(b),i=i.replace(c,b),l.id=b,l.url=a.router.cleanUrl(i,b,!0,"list"),tabs.add(l,1),!1)}}),$(b).on("click",".nav-train-list .pre-day-btn",function(){if(!$(this).hasClass("disabled")){var b,c=k();return b=j(c,-1),d(b),b<=$(this).data("mindate")&&($(this).addClass("disabled"),b!=$(this).data("mindate"))?!1:(l.id=b,i=i.replace(c,b),l.url=a.router.cleanUrl(i,b,!0,"list"),tabs.add(l,0),!1)}}),$(b).on("click",".relevantBus",function(a){var b=$(a.currentTarget);ElongBridge&&0!=ElongBridge.RUNTIME_VERSION&&(a.stopPropagation(),a.preventDefault(),ElongBridge.appPage({onsuccess:function(){},onfail:function(){},type:"busList",jmpUrl:b.attr("data-appJmpUrl")}))});var q=$("#adultPreSale",b).val();q=q?parseInt(q):59;var r=new Date,s=r.add(q,3),t=$("").calendar({mindate:r,maxdate:s,selectDate:function(){return $(".date-btn",b).attr("data-date")},eventCallBack:function(b){var c=k();i=i.replace(c,b),l.id=b,i=i.replace(c,b),l.url=a.router.cleanUrl(i,b,!0,"list"),tabs.add(l,1),d(b)}});e.add("calendar",t);var u=k();u<=r.format("yyyy-MM-dd")?$(".pre-day-btn",b).addClass("disabled"):u>=s.format("yyyy-MM-dd")&&$(".next-day-btn",b).addClass("disabled"),$(".pre-day-btn,.next-day-btn",b).attr({"data-mindate":r.format("yyyy-MM-dd"),"data-maxdate":s.format("yyyy-MM-dd")}),$(b).on("click",".date-btn",function(){t.show()}),$(document).on("onrender",function(){f(),g()});var v={TEMPLATE:'<div class="filter-page page-plugin"><div class="filter-title"><a class="icon icon-back"></a><span class="choose">筛 选</span></div><ul class="table-view"><li class="filter-cell right-arrow"><span class="filter-type">车次类型</span><span class="filter-item">不限</span></li><li class="filter-train-type filter-item-show"><div class="filter-cell chosen-item" s-index="0">不限</div><div class="filter-cell" s-index="G">高铁/动车(G/D/C开头)</div><div class="filter-cell" s-index="P">普通(Z/K/T/数字等开头)</div></li><li class="filter-cell right-arrow"><span class="filter-type">发车时间</span><span class="filter-item">不限</span></li><li class="filter-train-type filter-item-show"><div class="filter-cell chosen-item" s-index="0">不限</div><div class="filter-cell" s-index="1">凌晨(0-6点)</div><div class="filter-cell" s-index="2">上午(6-12点)</div><div class="filter-cell" s-index="3">下午(12-18点)</div><div class="filter-cell" s-index="4">晚间(18-24点)</div></li><li class="filter-cell right-arrow"><span class="filter-type">到达时间</span><span class="filter-item">不限</span></li><li class="filter-train-type filter-item-show"><div class="filter-cell chosen-item" s-index="0">不限</div><div class="filter-cell" s-index="1">凌晨(0-6点)</div><div class="filter-cell" s-index="2">上午(6-12点)</div><div class="filter-cell" s-index="3">下午(12-18点)</div><div class="filter-cell" s-index="4">晚间(18-24点)</div></li><li class="filter-cell" style="display:none;"><span class="filter-type">只看有票车次</span><label class="order-label-switch" for="tickets-remain"><input type="checkbox" id="tickets-remain" class="tickets-remain"><div class="checkbox active"></div></label></li></ul><div class="btn-group"><button class="reset">重 置</button><button class="confirm">确 定</button></div></div>',screeningConditions:{trainType:"0",startTime:"0",endTime:"0",onlyExists:!1},init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(a.getActiveLayer()),this.listContainer=null,this.searchParam=location.href,this.screeningConditions.trainType="0"==this.searchParam.match(/traintype=([\d-]*)/)[1]?"0":"G",this.layer_id=null,this.layers={},this.base_layers={};var c=this.page,d=c.find(".table-view"),e=c.find(".filter-train-type");c.find(".icon-back").on("click",function(){v.hide()}),$(".bar-tab .coach-filter",b).on("click",function(){if(v.show(),"G"==v.screeningConditions.trainType){var a=e.eq(0),b=a.find(".filter-cell").eq(1);v.chosenItem(a,b)}v.storeLayers()}),d.on("click",".right-arrow",function(){var a=$(this).next(".filter-train-type");a.hasClass("filter-item-show")?a.removeClass("filter-item-show"):a.addClass("filter-item-show")}),e.on("click",".filter-cell",function(){var a=$(this).parent();v.chosenItem(a,$(this))}),c.on("click",".reset",function(){v.onReset()}),c.on("click",".confirm",function(){v.onConfirm()})},initFilter:function(){this.storeLayers(),this.screeningMethod(this.screeningConditions)},onConfirm:function(){var a=v.page,b=a.find(".right-arrow"),c=b.eq(0).attr("s-flag")||"0",d=b.eq(1).attr("s-flag")||"0",e=b.eq(2).attr("s-flag")||"0",f=a.find("#tickets-remain").prop("checked");v.screeningConditions={trainType:c,startTime:d,endTime:e,onlyExists:f},v.hide(),v.screeningMethod(v.screeningConditions)},onReset:function(){var a=this.page,c=a.find(".right-arrow");return c.each(function(){var a=$(this).next(),b=a.find(".filter-cell").eq(0);a.removeClass("filter-item-show"),v.chosenItem(a,b)}),a.find("#tickets-remain").prop("checked",!1),v.screeningConditions={trainType:"P",startTime:"0",endTime:"0",onlyExists:!1},$(".coach-filter",b).removeClass("_selected"),!1},storeLayers:function(){var a=this.searchParam=location.href,c=v.layer_id=a.match(/startdate=([\d-]*)/)[1];v.layers["layer"+c]=$(".layerGroup",b).find('[data-blend-id="'+c+'"]').find(".list")},chosenItem:function(a,b){a.find(".filter-cell").removeClass("chosen-item"),b.addClass("chosen-item");var c=b.attr("s-index"),d=a.prev();d.find(".filter-item").text(b.text()),d.attr("s-flag",c)},_screeningMethod:function(a){var b,c=a,d="li";"0"!==c.trainType&&(d+='[data-num="'+c.trainType+'"]'),"0"!==c.startTime&&(d+='[time-start="'+c.startTime+'"]'),"0"!==c.endTime&&(d+='[time-end="'+c.endTime+'"]'),b=v.listContainer.clone().find(d),c.onlyExists&&(b=b.not(".sold-out"));var e=v.layer_id;v.layers["layer"+e].html(b)},screeningMethod:function(a){var c=a,d="",e=$(".coach-filter",b);"0"!==c.trainType&&(d+='[data-num="'+c.trainType+'"]'),"0"!==c.startTime&&(d+='[time-start="'+c.startTime+'"]'),"0"!==c.endTime&&(d+='[time-end="'+c.endTime+'"]');var f=v.layers["layer"+v.layer_id].find("li").removeClass("hide");""!=d&&(f.not(d).addClass("hide"),e.addClass("_selected")),c.onlyExists&&(f.filter(".sold-out").addClass("hide"),e.addClass("_selected")),""!=d||c.onlyExists||e.removeClass("_selected")}};e.add("filter",v),v.initFilter();var w=function(c,d){var e,f,g,h,i,j,k=[],l="";j=a.isLowDevice?$(b).find(".list"):$(b).find("[data-blend=layer].page-on-center").find(".list");for(var m=j.find("li").not(".sold-out"),n=j.find("li.sold-out"),o=0;o<m.length;o++)e=m.eq(o).find(".start-time").text(),e=Number(e.replace(":",".")),f=m.eq(o).find(".during").text(),f=parseFloat(f.replace("小时",".").replace("分","")),g=m.eq(o).find(".price em").text().substr(1),g=Number(g),h=m.eq(o).prop("outerHTML"),k[o]=[e,f,g,h];for(var p=0;p<n.length;p++)i=n.eq(p).prop("outerHTML"),l+=i;"time"==c?"up"==d?k.sort(function(a,b){return a[0]-b[0]}):k.sort(function(a,b){return b[0]-a[0]}):"during"==c?"up"==d?k.sort(function(a,b){return a[1]-b[1]}):k.sort(function(a,b){return b[1]-a[1]}):"price"==c&&("up"==d?k.sort(function(a,b){return a[2]-b[2]}):k.sort(function(a,b){return b[2]-a[2]}));for(var q="",r=0;r<k.length;r++)q+=k[r][3];q+=l,j.html("").html(q)},x=!0;$(b).on("click",".bar-tab .tab-item",function(a){var c=$(this),d=$("ul.list",b),e="";c.hasClass("start-sort")?(d.find(".select").removeClass("select"),d.find(".start-time").addClass("select"),e="time"):c.hasClass("during-sort")?(d.find(".select").removeClass("select"),d.find(".during").addClass("select"),e="during"):c.hasClass("price-sort")&&(d.find(".select").removeClass("select"),d.find(".price b").addClass("select"),e="price"),a.preventDefault(),a.stopPropagation(),c.siblings().removeClass("selected"),e&&x&&(x=!1,c.hasClass("up")||c.hasClass("down")||c.addClass("up"),c.hasClass("selected")?c.hasClass("up")?c.removeClass("up").addClass("down"):c.removeClass("down").addClass("up"):c.addClass("selected"),setTimeout(function(){c.hasClass("up")?w(e,"up"):w(e,"down"),x=!0},100))}),$(b).on("click","ul.list li",function(){if(!$(this).hasClass("sold-out")){var d=$(this).children(),e=d.find(".station .number").text(),f=$.trim($(".train-list").find("#start").val()),g=$.trim($(".train-list").find("#end").val()),h=$(".date-btn",b).attr("data-date"),i=d.data("flag");if("1"==i){var j={content:$("#flagmsg").html()};return c(j),!1}var k="startstation="+encodeURIComponent(f)+"&endstation="+encodeURIComponent(g)+"&startdate="+h+"&trainNum="+e;return a.get("detail")&&a.get("detail").destroy(),a.addPager({url:a.router.getUrlFromTpl("detail")+"?"+k,active:!0}),!1}})}})}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=ea.type(a);return"function"===c||ea.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(ea.isFunction(b))return ea.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ea.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ma.test(b))return ea.filter(b,a,c);b=ea.filter(b,a)}return ea.grep(a,function(a){return ea.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=ua[a]={};return ea.each(a.match(ta)||[],function(a,c){b[c]=!0}),b}function g(){oa.addEventListener?(oa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(oa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(oa.addEventListener||"load"===event.type||"complete"===oa.readyState)&&(g(),ea.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(za,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ya.test(c)?ea.parseJSON(c):c}catch(e){}ea.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!ea.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(ea.acceptData(a)){var e,f,g=ea.expando,h=a.nodeType,i=h?ea.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||ea.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ea.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=ea.extend(i[j],b):i[j].data=ea.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ea.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[ea.camelCase(b)])):e=f,e}}function l(a,b,c){if(ea.acceptData(a)){var d,e,f=a.nodeType,g=f?ea.cache:a,h=f?a[ea.expando]:ea.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ea.isArray(b)?b=b.concat(ea.map(b,ea.camelCase)):b in d?b=[b]:(b=ea.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!ea.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?ea.cleanData([a],!0):ca.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return oa.activeElement}catch(a){}}function p(a){var b=Ka.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==xa?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==xa?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ea.nodeName(d,b)?f.push(d):ea.merge(f,q(d,b));return void 0===b||b&&ea.nodeName(a,b)?ea.merge([a],f):f}function r(a){Ea.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return ea.nodeName(a,"table")&&ea.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==ea.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Va.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)ea._data(c,"globalEval",!b||ea._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&ea.hasData(a)){var c,d,e,f=ea._data(a),g=ea._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ea.event.add(b,c,h[c][d])}g.data&&(g.data=ea.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ca.noCloneEvent&&b[ea.expando]){e=ea._data(b);for(d in e.events)ea.removeEvent(b,d,e.handle);b.removeAttribute(ea.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ca.html5Clone&&a.innerHTML&&!ea.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Ea.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=ea(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:ea.css(e[0],"display");return e.detach(),f}function z(a){var b=oa,c=_a[a];return c||(c=y(a,b),"none"!==c&&c||($a=($a||ea("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=($a[0].contentWindow||$a[0].contentDocument).document,b.write(),b.close(),c=y(a,b),$a.detach()),_a[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=mb.length;e--;)if(b=mb[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ea._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ca(d)&&(f[g]=ea._data(d,"olddisplay",z(d.nodeName)))):(e=Ca(d),(c&&"none"!==c||!e)&&ea._data(d,"olddisplay",e?c:ea.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=ib.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ea.css(a,c+Ba[f],!0,e)),d?("content"===c&&(g-=ea.css(a,"padding"+Ba[f],!0,e)),"margin"!==c&&(g-=ea.css(a,"border"+Ba[f]+"Width",!0,e))):(g+=ea.css(a,"padding"+Ba[f],!0,e),"padding"!==c&&(g+=ea.css(a,"border"+Ba[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ab(a),g=ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=bb(a,b,f),(0>e||null==e)&&(e=a.style[b]),db.test(e))return e;d=g&&(ca.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){nb=void 0}),nb=ea.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Ba[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(tb[b]||[]).concat(tb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ca(a),p=ea._data(a,"fxshow");c.queue||(h=ea._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,ea.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=ea.css(a,"display"),k="none"===j?ea._data(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===ea.css(a,"float")&&(ca.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ca.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],pb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||ea.style(a,d)}else j=void 0;if(ea.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ea._data(a,"fxshow",{}),f&&(p.hidden=!o),o?ea(a).show():l.done(function(){ea(a).hide()}),l.done(function(){var b;ea._removeData(a,"fxshow");for(b in m)ea.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=ea.camelCase(c),e=b[d],f=a[c],ea.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ea.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=sb.length,h=ea.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ea.extend({},b),opts:ea.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:nb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ea.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=sb[f].call(j,a,k,j.opts))return d;return ea.map(k,J,j),ea.isFunction(j.opts.start)&&j.opts.start.call(a,j),ea.fx.timer(ea.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ta)||[];if(ea.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,ea.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=ea.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ea.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(ea.isArray(b))ea.each(b,function(b,e){c||Vb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ea.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return ea.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca={},da="1.11.3",ea=function(a,b){return new ea.fn.init(a,b)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ga=/^-ms-/,ha=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()};ea.fn=ea.prototype={jquery:da,constructor:ea,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=ea.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ea.each(this,a,b)},map:function(a){return this.pushStack(ea.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},ea.extend=ea.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ea.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ea.isPlainObject(c)||(b=ea.isArray(c)))?(b?(b=!1,f=a&&ea.isArray(a)?a:[]):f=a&&ea.isPlainObject(a)?a:{},g[d]=ea.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ea.extend({expando:"jQuery"+(da+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ea.type(a)},isArray:Array.isArray||function(a){return"array"===ea.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!ea.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ea.type(a)||a.nodeType||ea.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(ca.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&ea.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ga,"ms-").replace(ha,ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ea.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),ea.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||ea.guid++,d):void 0},now:function(){return+new Date},support:ca}),ea.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ja=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;
for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ea.find=ja,ea.expr=ja.selectors,ea.expr[":"]=ea.expr.pseudos,ea.unique=ja.uniqueSort,ea.text=ja.getText,ea.isXMLDoc=ja.isXML,ea.contains=ja.contains;var ka=ea.expr.match.needsContext,la=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;ea.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ea.find.matchesSelector(d,a)?[d]:[]:ea.find.matches(a,ea.grep(b,function(a){return 1===a.nodeType}))},ea.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ea(a).filter(function(){for(b=0;e>b;b++)if(ea.contains(d[b],this))return!0}));for(b=0;e>b;b++)ea.find(a,d[b],c);return c=this.pushStack(e>1?ea.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ka.test(a)?ea(a):a||[],!1).length}});var na,oa=a.document,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qa=ea.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pa.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||na).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ea?b[0]:b,ea.merge(this,ea.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:oa,!0)),la.test(c[1])&&ea.isPlainObject(b))for(c in b)ea.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=oa.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return na.find(a);this.length=1,this[0]=d}return this.context=oa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ea.isFunction(a)?"undefined"!=typeof na.ready?na.ready(a):a(ea):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ea.makeArray(a,this))};qa.prototype=ea.fn,na=ea(oa);var ra=/^(?:parents|prev(?:Until|All))/,sa={children:!0,contents:!0,next:!0,prev:!0};ea.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!ea(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ea.fn.extend({has:function(a){var b,c=ea(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ea.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ka.test(a)||"string"!=typeof a?ea(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ea.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ea.unique(f):f)},index:function(a){return a?"string"==typeof a?ea.inArray(this[0],ea(a)):ea.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ea.unique(ea.merge(this.get(),ea(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ea.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ea.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ea.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ea.dir(a,"nextSibling")},prevAll:function(a){return ea.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ea.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ea.dir(a,"previousSibling",c)},siblings:function(a){return ea.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ea.sibling(a.firstChild)},contents:function(a){return ea.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ea.merge([],a.childNodes)}},function(a,b){ea.fn[a]=function(c,d){var e=ea.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ea.filter(d,e)),this.length>1&&(sa[a]||(e=ea.unique(e)),ra.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ta=/\S+/g,ua={};ea.Callbacks=function(a){a="string"==typeof a?ua[a]||f(a):ea.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){ea.each(b,function(b,c){var d=ea.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&ea.each(arguments,function(a,c){for(var d;(d=ea.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?ea.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},ea.extend({Deferred:function(a){var b=[["resolve","done",ea.Callbacks("once memory"),"resolved"],["reject","fail",ea.Callbacks("once memory"),"rejected"],["notify","progress",ea.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ea.Deferred(function(c){ea.each(b,function(b,f){var g=ea.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ea.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ea.extend(a,d):d}},e={};return d.pipe=d.then,ea.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&ea.isFunction(a.promise)?g:0,i=1===h?a:ea.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&ea.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var va;ea.fn.ready=function(a){return ea.ready.promise().done(a),this},ea.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ea.readyWait++:ea.ready(!0)},ready:function(a){if(a===!0?!--ea.readyWait:!ea.isReady){if(!oa.body)return setTimeout(ea.ready);ea.isReady=!0,a!==!0&&--ea.readyWait>0||(va.resolveWith(oa,[ea]),ea.fn.triggerHandler&&(ea(oa).triggerHandler("ready"),ea(oa).off("ready")))}}}),ea.ready.promise=function(b){if(!va)if(va=ea.Deferred(),"complete"===oa.readyState)setTimeout(ea.ready);else if(oa.addEventListener)oa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{oa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&oa.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!ea.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),ea.ready()}}()}return va.promise(b)};var wa,xa="undefined";for(wa in ea(ca))break;ca.ownLast="0"!==wa,ca.inlineBlockNeedsLayout=!1,ea(function(){var a,b,c,d;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ca.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=oa.createElement("div");if(null==ca.deleteExpando){ca.deleteExpando=!0;try{delete a.test}catch(b){ca.deleteExpando=!1}}a=null}(),ea.acceptData=function(a){var b=ea.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var ya=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,za=/([A-Z])/g;ea.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?ea.cache[a[ea.expando]]:a[ea.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),ea.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ea.data(f),1===f.nodeType&&!ea._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ea.camelCase(d.slice(5)),i(f,d,e[d])));ea._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ea.data(this,a)}):arguments.length>1?this.each(function(){ea.data(this,a,b)}):f?i(f,a,ea.data(f,a)):void 0},removeData:function(a){return this.each(function(){ea.removeData(this,a)})}}),ea.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ea._data(a,b),c&&(!d||ea.isArray(c)?d=ea._data(a,b,ea.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=ea.queue(a,b),d=c.length,e=c.shift(),f=ea._queueHooks(a,b),g=function(){ea.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ea._data(a,c)||ea._data(a,c,{empty:ea.Callbacks("once memory").add(function(){ea._removeData(a,b+"queue"),ea._removeData(a,c)})})}}),ea.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ea.queue(this[0],a):void 0===b?this:this.each(function(){var c=ea.queue(this,a,b);ea._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ea.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ea.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ea.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ea._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=["Top","Right","Bottom","Left"],Ca=function(a,b){return a=b||a,"none"===ea.css(a,"display")||!ea.contains(a.ownerDocument,a)},Da=ea.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ea.type(c)){e=!0;for(h in c)ea.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ea.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ea(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ea=/^(?:checkbox|radio)$/i;!function(){var a=oa.createElement("input"),b=oa.createElement("div"),c=oa.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ca.leadingWhitespace=3===b.firstChild.nodeType,ca.tbody=!b.getElementsByTagName("tbody").length,ca.htmlSerialize=!!b.getElementsByTagName("link").length,ca.html5Clone="<:nav></:nav>"!==oa.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),ca.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",ca.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",ca.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,ca.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){ca.noCloneEvent=!1}),b.cloneNode(!0).click()),null==ca.deleteExpando){ca.deleteExpando=!0;try{delete b.test}catch(d){ca.deleteExpando=!1}}}(),function(){var b,c,d=oa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(ca[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),ca[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Fa=/^(?:input|select|textarea)$/i,Ga=/^key/,Ha=/^(?:mouse|pointer|contextmenu)|click/,Ia=/^(?:focusinfocus|focusoutblur)$/,Ja=/^([^.]*)(?:\.(.+)|)$/;ea.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ea.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof ea===xa||a&&ea.event.triggered===a.type?void 0:ea.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ta)||[""],h=b.length;h--;)f=Ja.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ea.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ea.event.special[n]||{},l=ea.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ea.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),ea.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea.hasData(a)&&ea._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ta)||[""],j=b.length;j--;)if(h=Ja.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ea.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ea.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ea.event.remove(a,n+b[j],c,d,!0);ea.isEmptyObject(k)&&(delete q.handle,ea._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||oa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||oa,3!==d.nodeType&&8!==d.nodeType&&!Ia.test(n+ea.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ea.expando]?b:new ea.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ea.makeArray(c,[b]),j=ea.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!ea.isWindow(d)){for(i=j.delegateType||n,Ia.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||oa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ea._data(h,"events")||{})[b.type]&&ea._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&ea.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&ea.acceptData(d)&&g&&d[n]&&!ea.isWindow(d)){k=d[g],k&&(d[g]=null),ea.event.triggered=n;try{d[n]()}catch(p){}ea.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ea.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(ea._data(this,"events")||{})[a.type]||[],j=ea.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=ea.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((ea.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?ea(c,this).index(i)>=0:ea.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ea.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ha.test(e)?this.mouseHooks:Ga.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ea.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||oa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||oa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),
a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ea.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return ea.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ea.extend(new ea.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ea.event.trigger(e,null,b):ea.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ea.removeEvent=oa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===xa&&(a[d]=null),a.detachEvent(d,c))},ea.Event=function(a,b){return this instanceof ea.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?m:n):this.type=a,b&&ea.extend(this,b),this.timeStamp=a&&a.timeStamp||ea.now(),void(this[ea.expando]=!0)):new ea.Event(a,b)},ea.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},ea.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ea.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ea.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ca.submitBubbles||(ea.event.special.submit={setup:function(){return ea.nodeName(this,"form")?!1:void ea.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ea.nodeName(b,"input")||ea.nodeName(b,"button")?b.form:void 0;c&&!ea._data(c,"submitBubbles")&&(ea.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),ea._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ea.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return ea.nodeName(this,"form")?!1:void ea.event.remove(this,"._submit")}}),ca.changeBubbles||(ea.event.special.change={setup:function(){return Fa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ea.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ea.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ea.event.simulate("change",this,a,!0)})),!1):void ea.event.add(this,"beforeactivate._change",function(a){var b=a.target;Fa.test(b.nodeName)&&!ea._data(b,"changeBubbles")&&(ea.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ea.event.simulate("change",this.parentNode,a,!0)}),ea._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ea.event.remove(this,"._change"),!Fa.test(this.nodeName)}}),ca.focusinBubbles||ea.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ea.event.simulate(b,a.target,ea.event.fix(a),!0)};ea.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ea._data(d,b);e||d.addEventListener(a,c,!0),ea._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ea._data(d,b)-1;e?ea._data(d,b,e):(d.removeEventListener(a,c,!0),ea._removeData(d,b))}}}),ea.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return ea().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=ea.guid++)),this.each(function(){ea.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ea(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){ea.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ea.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?ea.event.trigger(a,b,c,!0):void 0}});var Ka="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",La=/ jQuery\d+="(?:null|\d+)"/g,Ma=new RegExp("<(?:"+Ka+")[\\s/>]","i"),Na=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pa=/<([\w:]+)/,Qa=/<tbody/i,Ra=/<|&#?\w+;/,Sa=/<(?:script|style|link)/i,Ta=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/^$|\/(?:java|ecma)script/i,Va=/^true\/(.*)/,Wa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ca.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ya=p(oa),Za=Ya.appendChild(oa.createElement("div"));Xa.optgroup=Xa.option,Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead,Xa.th=Xa.td,ea.extend({clone:function(a,b,c){var d,e,f,g,h,i=ea.contains(a.ownerDocument,a);if(ca.html5Clone||ea.isXMLDoc(a)||!Ma.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Za.innerHTML=a.outerHTML,Za.removeChild(f=Za.firstChild)),!(ca.noCloneEvent&&ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ea.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===ea.type(f))ea.merge(n,f.nodeType?[f]:f);else if(Ra.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Pa.exec(f)||["",""])[1].toLowerCase(),k=Xa[i]||Xa._default,h.innerHTML=k[1]+f.replace(Oa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ca.leadingWhitespace&&Na.test(f)&&n.push(b.createTextNode(Na.exec(f)[0])),!ca.tbody)for(f="table"!==i||Qa.test(f)?"<table>"!==k[1]||Qa.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ea.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ea.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),ca.appendChecked||ea.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===ea.inArray(f,d))&&(g=ea.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ua.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ea.expando,i=ea.cache,j=ca.deleteExpando,k=ea.event.special;null!=(c=a[g]);g++)if((b||ea.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ea.event.remove(c,d):ea.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==xa?c.removeAttribute(h):c[h]=null,W.push(e))}}}),ea.fn.extend({text:function(a){return Da(this,function(a){return void 0===a?ea.text(this):this.empty().append((this[0]&&this[0].ownerDocument||oa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ea.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ea.cleanData(q(c)),c.parentNode&&(b&&ea.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ea.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ea.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ea.clone(this,a,b)})},html:function(a){return Da(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(La,""):void 0;if("string"==typeof a&&!Sa.test(a)&&(ca.htmlSerialize||!Ma.test(a))&&(ca.leadingWhitespace||!Na.test(a))&&!Xa[(Pa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Oa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(ea.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ea.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=ea.isFunction(m);if(n||j>1&&"string"==typeof m&&!ca.checkClone&&Ta.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=ea.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=ea.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=ea.clone(d,!0,!0),e&&ea.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,ea.map(f,u),i=0;e>i;i++)d=f[i],Ua.test(d.type||"")&&!ea._data(d,"globalEval")&&ea.contains(g,d)&&(d.src?ea._evalUrl&&ea._evalUrl(d.src):ea.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Wa,"")));h=c=null}return this}}),ea.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ea.fn[a]=function(a){for(var c,d=0,e=[],f=ea(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ea(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var $a,_a={};!function(){var a;ca.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=oa.getElementsByTagName("body")[0],c&&c.style?(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(oa.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var ab,bb,cb=/^margin/,db=new RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),eb=/^(top|right|bottom|left)$/;a.getComputedStyle?(ab=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||ea.contains(a.ownerDocument,a)||(g=ea.style(a,b)),db.test(g)&&cb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):oa.documentElement.currentStyle&&(ab=function(a){return a.currentStyle},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),db.test(g)&&!eb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d,e;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(oa.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(e)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=oa.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],d=e&&e.style,d&&(d.cssText="float:left;opacity:.5",ca.opacity="0.5"===d.opacity,ca.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===c.style.backgroundClip,ca.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,ea.extend(ca,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),ea.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var fb=/alpha\([^)]*\)/i,gb=/opacity\s*=\s*([^)]*)/,hb=/^(none|table(?!-c[ea]).+)/,ib=new RegExp("^("+Aa+")(.*)$","i"),jb=new RegExp("^([+-])=("+Aa+")","i"),kb={position:"absolute",visibility:"hidden",display:"block"},lb={letterSpacing:"0",fontWeight:"400"},mb=["Webkit","O","Moz","ms"];ea.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ca.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ea.camelCase(b),i=a.style;if(b=ea.cssProps[h]||(ea.cssProps[h]=B(i,h)),g=ea.cssHooks[b]||ea.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=jb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ea.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||ea.cssNumber[h]||(c+="px"),ca.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=ea.camelCase(b);return b=ea.cssProps[h]||(ea.cssProps[h]=B(a.style,h)),g=ea.cssHooks[b]||ea.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=bb(a,b,d)),"normal"===f&&b in lb&&(f=lb[b]),""===c||c?(e=parseFloat(f),c===!0||ea.isNumeric(e)?e||0:f):f}}),ea.each(["height","width"],function(a,b){ea.cssHooks[b]={get:function(a,c,d){return c?hb.test(ea.css(a,"display"))&&0===a.offsetWidth?ea.swap(a,kb,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&ab(a);return D(a,c,d?E(a,b,d,ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,e),e):0)}}}),ca.opacity||(ea.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ea.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ea.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),ea.cssHooks.marginRight=A(ca.reliableMarginRight,function(a,b){return b?ea.swap(a,{display:"inline-block"},bb,[a,"marginRight"]):void 0}),ea.each({margin:"",padding:"",border:"Width"},function(a,b){ea.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Ba[d]+b]=f[d]||f[d-2]||f[0];return e}},cb.test(a)||(ea.cssHooks[a+b].set=D)}),ea.fn.extend({css:function(a,b){return Da(this,function(a,b,c){var d,e,f={},g=0;if(ea.isArray(b)){for(d=ab(a),e=b.length;e>g;g++)f[b[g]]=ea.css(a,b[g],!1,d);return f}return void 0!==c?ea.style(a,b,c):ea.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ca(this)?ea(this).show():ea(this).hide()})}}),ea.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ea.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.options.duration?this.pos=b=ea.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ea.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ea.fx.step[a.prop]?ea.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ea.cssProps[a.prop]]||ea.cssHooks[a.prop])?ea.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ea.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ea.fx=G.prototype.init,ea.fx.step={};var nb,ob,pb=/^(?:toggle|show|hide)$/,qb=new RegExp("^(?:([+-])=|)("+Aa+")([a-z%]*)$","i"),rb=/queueHooks$/,sb=[K],tb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=qb.exec(b),f=e&&e[3]||(ea.cssNumber[a]?"":"px"),g=(ea.cssNumber[a]||"px"!==f&&+d)&&qb.exec(ea.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,ea.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ea.Animation=ea.extend(M,{tweener:function(a,b){ea.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],tb[c]=tb[c]||[],tb[c].unshift(b)},prefilter:function(a,b){b?sb.unshift(a):sb.push(a)}}),ea.speed=function(a,b,c){var d=a&&"object"==typeof a?ea.extend({},a):{complete:c||!c&&b||ea.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ea.isFunction(b)&&b};return d.duration=ea.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ea.fx.speeds?ea.fx.speeds[d.duration]:ea.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ea.isFunction(d.old)&&d.old.call(this),d.queue&&ea.dequeue(this,d.queue)},d},ea.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ea.isEmptyObject(a),f=ea.speed(b,c,d),g=function(){var b=M(this,ea.extend({},a),f);(e||ea._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ea.timers,g=ea._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&ea.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ea._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ea.timers,g=d?d.length:0;for(c.finish=!0,ea.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ea.each(["toggle","show","hide"],function(a,b){var c=ea.fn[b];ea.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),ea.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ea.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ea.timers=[],ea.fx.tick=function(){var a,b=ea.timers,c=0;for(nb=ea.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||ea.fx.stop(),nb=void 0},ea.fx.timer=function(a){ea.timers.push(a),a()?ea.fx.start():ea.timers.pop()},ea.fx.interval=13,ea.fx.start=function(){ob||(ob=setInterval(ea.fx.tick,ea.fx.interval))},ea.fx.stop=function(){clearInterval(ob),ob=null},ea.fx.speeds={slow:600,fast:200,_default:400},ea.fn.delay=function(a,b){return a=ea.fx?ea.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=oa.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=oa.createElement("select"),e=c.appendChild(oa.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",ca.getSetAttribute="t"!==b.className,ca.style=/top/.test(d.getAttribute("style")),ca.hrefNormalized="/a"===d.getAttribute("href"),ca.checkOn=!!a.value,ca.optSelected=e.selected,ca.enctype=!!oa.createElement("form").enctype,c.disabled=!0,ca.optDisabled=!e.disabled,a=oa.createElement("input"),a.setAttribute("value",""),ca.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),ca.radioValue="t"===a.value}();var ub=/\r/g;ea.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ea.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ea(this).val()):a,null==e?e="":"number"==typeof e?e+="":ea.isArray(e)&&(e=ea.map(e,function(a){return null==a?"":a+""})),b=ea.valHooks[this.type]||ea.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=ea.valHooks[e.type]||ea.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ub,""):null==c?"":c)}}}),ea.extend({valHooks:{option:{get:function(a){var b=ea.find.attr(a,"value");return null!=b?b:ea.trim(ea.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(ca.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ea.nodeName(c.parentNode,"optgroup"))){if(b=ea(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ea.makeArray(b),g=e.length;g--;)if(d=e[g],ea.inArray(ea.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ea.each(["radio","checkbox"],function(){ea.valHooks[this]={set:function(a,b){return ea.isArray(b)?a.checked=ea.inArray(ea(a).val(),b)>=0:void 0}},ca.checkOn||(ea.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vb,wb,xb=ea.expr.attrHandle,yb=/^(?:checked|selected)$/i,zb=ca.getSetAttribute,Ab=ca.input;ea.fn.extend({attr:function(a,b){return Da(this,ea.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ea.removeAttr(this,a)})}}),ea.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===xa?ea.prop(a,b,c):(1===f&&ea.isXMLDoc(a)||(b=b.toLowerCase(),d=ea.attrHooks[b]||(ea.expr.match.bool.test(b)?wb:vb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ea.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ea.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ta);if(f&&1===a.nodeType)for(;c=f[e++];)d=ea.propFix[c]||c,ea.expr.match.bool.test(c)?Ab&&zb||!yb.test(c)?a[d]=!1:a[ea.camelCase("default-"+c)]=a[d]=!1:ea.attr(a,c,""),a.removeAttribute(zb?c:d)},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&ea.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),wb={set:function(a,b,c){return b===!1?ea.removeAttr(a,c):Ab&&zb||!yb.test(c)?a.setAttribute(!zb&&ea.propFix[c]||c,c):a[ea.camelCase("default-"+c)]=a[c]=!0,c}},ea.each(ea.expr.match.bool.source.match(/\w+/g),function(a,b){var c=xb[b]||ea.find.attr;xb[b]=Ab&&zb||!yb.test(b)?function(a,b,d){var e,f;return d||(f=xb[b],xb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,xb[b]=f),e}:function(a,b,c){return c?void 0:a[ea.camelCase("default-"+b)]?b.toLowerCase():null}}),Ab&&zb||(ea.attrHooks.value={set:function(a,b,c){return ea.nodeName(a,"input")?void(a.defaultValue=b):vb&&vb.set(a,b,c)}}),zb||(vb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},xb.id=xb.name=xb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ea.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:vb.set},ea.attrHooks.contenteditable={set:function(a,b,c){vb.set(a,""===b?!1:b,c)}},ea.each(["width","height"],function(a,b){ea.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),ca.style||(ea.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Bb=/^(?:input|select|textarea|button|object)$/i,Cb=/^(?:a|area)$/i;ea.fn.extend({prop:function(a,b){return Da(this,ea.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ea.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),ea.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!ea.isXMLDoc(a),f&&(b=ea.propFix[b]||b,e=ea.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ea.find.attr(a,"tabindex");return b?parseInt(b,10):Bb.test(a.nodeName)||Cb.test(a.nodeName)&&a.href?0:-1}}}}),ca.hrefNormalized||ea.each(["href","src"],function(a,b){ea.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ca.optSelected||(ea.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ea.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ea.propFix[this.toLowerCase()]=this}),ca.enctype||(ea.propFix.enctype="encoding");var Db=/[\t\r\n\f]/g;ea.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ea.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ea.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ea.isFunction(a)?this.each(function(c){ea(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ea(this),f=a.match(ta)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===xa||"boolean"===c)&&(this.className&&ea._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ea._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Db," ").indexOf(b)>=0)return!0;return!1}}),ea.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ea.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ea.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb=ea.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ea.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ea.trim(b+"");return e&&!ea.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ea.error("Invalid JSON: "+b)},ea.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ea.error("Invalid XML: "+b),c};var Hb,Ib,Jb=/#.*$/,Kb=/([?&])_=[^&]*/,Lb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qb={},Rb={},Sb="*/".concat("*");
try{Ib=location.href}catch(Tb){Ib=oa.createElement("a"),Ib.href="",Ib=Ib.href}Hb=Pb.exec(Ib.toLowerCase())||[],ea.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ib,type:"GET",isLocal:Mb.test(Hb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ea.parseJSON,"text xml":ea.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,ea.ajaxSettings),b):P(ea.ajaxSettings,a)},ajaxPrefilter:N(Qb),ajaxTransport:N(Rb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ea.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(ea.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--ea.active||ea.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ea.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ea(m):ea.event,o=ea.Deferred(),p=ea.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Lb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Ib)+"").replace(Jb,"").replace(Ob,Hb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ea.trim(l.dataType||"*").toLowerCase().match(ta)||[""],null==l.crossDomain&&(d=Pb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Hb[1]&&d[2]===Hb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Hb[3]||("http:"===Hb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ea.param(l.data,l.traditional)),O(Qb,l,b,v),2===t)return v;i=ea.event&&l.global,i&&0===ea.active++&&ea.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Nb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Kb.test(f)?f.replace(Kb,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(ea.lastModified[f]&&v.setRequestHeader("If-Modified-Since",ea.lastModified[f]),ea.etag[f]&&v.setRequestHeader("If-None-Match",ea.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Sb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Rb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ea.get(a,b,c,"json")},getScript:function(a,b){return ea.get(a,void 0,b,"script")}}),ea.each(["get","post"],function(a,b){ea[b]=function(a,c,d,e){return ea.isFunction(c)&&(e=e||d,d=c,c=void 0),ea.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ea._evalUrl=function(a){return ea.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ea.fn.extend({wrapAll:function(a){if(ea.isFunction(a))return this.each(function(b){ea(this).wrapAll(a.call(this,b))});if(this[0]){var b=ea(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ea.isFunction(a)?this.each(function(b){ea(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ea(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ea.isFunction(a);return this.each(function(c){ea(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ea.nodeName(this,"body")||ea(this).replaceWith(this.childNodes)}).end()}}),ea.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!ca.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||ea.css(a,"display"))},ea.expr.filters.visible=function(a){return!ea.expr.filters.hidden(a)};var Ub=/%20/g,Vb=/\[\]$/,Wb=/\r?\n/g,Xb=/^(?:submit|button|image|reset|file)$/i,Yb=/^(?:input|select|textarea|keygen)/i;ea.param=function(a,b){var c,d=[],e=function(a,b){b=ea.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ea.ajaxSettings&&ea.ajaxSettings.traditional),ea.isArray(a)||a.jquery&&!ea.isPlainObject(a))ea.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Ub,"+")},ea.fn.extend({serialize:function(){return ea.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ea.prop(this,"elements");return a?ea.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ea(this).is(":disabled")&&Yb.test(this.nodeName)&&!Xb.test(a)&&(this.checked||!Ea.test(a))}).map(function(a,b){var c=ea(this).val();return null==c?null:ea.isArray(c)?ea.map(c,function(a){return{name:b.name,value:a.replace(Wb,"\r\n")}}):{name:b.name,value:c.replace(Wb,"\r\n")}}).get()}}),ea.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zb=0,$b={},_b=ea.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in $b)$b[a](void 0,!0)}),ca.cors=!!_b&&"withCredentials"in _b,_b=ca.ajax=!!_b,_b&&ea.ajaxTransport(function(a){if(!a.crossDomain||ca.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $b[g],b=void 0,f.onreadystatechange=ea.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),ea.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ea.globalEval(a),a}}}),ea.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ea.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=oa.head||ea("head")[0]||oa.documentElement;return{send:function(d,e){b=oa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ac=[],bc=/(=)\?(?=&|$)|\?\?/;ea.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||ea.expando+"_"+Eb++;return this[a]=!0,a}}),ea.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ea.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ea.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ac.push(e)),g&&ea.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),ea.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||oa;var d=la.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ea.buildFragment([a],b,e),e&&e.length&&ea(e).remove(),ea.merge([],d.childNodes))};var cc=ea.fn.load;ea.fn.load=function(a,b,c){if("string"!=typeof a&&cc)return cc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=ea.trim(a.slice(h,a.length)),a=a.slice(0,h)),ea.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&ea.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?ea("<div>").append(ea.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},ea.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ea.fn[b]=function(a){return this.on(b,a)}}),ea.expr.filters.animated=function(a){return ea.grep(ea.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;ea.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ea.css(a,"position"),l=ea(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ea.css(a,"top"),i=ea.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ea.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ea.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ea.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ea.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,ea.contains(b,e)?(typeof e.getBoundingClientRect!==xa&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ea.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ea.nodeName(a[0],"html")||(c=a.offset()),c.top+=ea.css(a[0],"borderTopWidth",!0),c.left+=ea.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ea.css(d,"marginTop",!0),left:b.left-c.left-ea.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dc;a&&!ea.nodeName(a,"html")&&"static"===ea.css(a,"position");)a=a.offsetParent;return a||dc})}}),ea.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ea.fn[a]=function(d){return Da(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?ea(f).scrollLeft():e,c?e:ea(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),ea.each(["top","left"],function(a,b){ea.cssHooks[b]=A(ca.pixelPosition,function(a,c){return c?(c=bb(a,b),db.test(c)?ea(a).position()[b]+"px":c):void 0})}),ea.each({Height:"height",Width:"width"},function(a,b){ea.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ea.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Da(this,function(b,c,d){var e;return ea.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ea.css(b,c,g):ea.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ea.fn.size=function(){return this.length},ea.fn.andSelf=ea.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ea});var ec=a.jQuery,fc=a.$;return ea.noConflict=function(b){return a.$===ea&&(a.$=fc),b&&a.jQuery===ea&&(a.jQuery=ec),ea},typeof b===xa&&(a.jQuery=a.$=ea),ea}),define("lib/jquery",function(){}),define("src/js/validate",["../../lib/jquery"],function(){var validate=function(){var parse=function(filter){var msg,errorClass,correctClass;if("string"==typeof filter&&(filter="#"==filter.charAt(0)?eval(filter.substr(1)):JSON.parse(filter)),$.isArray(filter))for(var i=0,p;i<filter.length;i++)p=filter[i],void 0==p.msg?p.msg=msg:msg=p.msg;else filter=[filter];return{filter:filter}},VALTAGS={INPUT:1,TEXTAREA:1,BUTTON:1,SELECT:1},getval=function(a,b,c){var d,e=void 0==VALTAGS[a[0].tagName.toUpperCase()]?"html":"val";return d=a[e]()||"",b&&(d=dc2sc(d)),c&&(d=d.trim()),a[e](d),d},evalVal=function(a){return"function"==typeof a?a():"string"==typeof a&&0==a.indexOf("javascript:")?Function("v","return "+a.substr(11))():a},dc2sc=function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a.charCodeAt(e),12288==b?d.push(String.fromCharCode(32)):b>65280&&65375>b?d.push(String.fromCharCode(b-65248)):d.push(a.charAt(e));return d.join("")},isept=function(a){return 0==a.trim().length},vtip=function(a,b){var c=a.next("span.vtip");return 0==c.length&&(c=$("<span class='vtip'>")),a.after(c.html(b)),c},definedType={digit:/^\d*$/,number:/^[-\+]?\d*(\.\d+)?$/,email:/^(\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*)?$/i,mobile:/^(((\(\d{2,3}\))|(\d{3}\-))?1[34578]\d{9})?$/,tel:/^(((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,6})?)?$/,zip:/^(\d{6})?$/,name:/^[a-zA-Z\u0391-\uFFE5][a-zA-Z\u0391-\uFFE5\/\-\.]{1,19}$/,idcard:/^(\d{15}|\d{18}|\d{17}(\d|X|x))?$/,en:/^[A-Za-z]*$/,ch:/^[\u0391-\uFFE5]*$/,bankcard:/^(\d[\d\-]{10,17}\d)?$/};definedType["int"]=definedType["long"]=definedType.digit,definedType.money=definedType["float"]=definedType["double"]=definedType.number,definedType.phone=definedType.mobile,definedType.telephone=definedType.tel,definedType.postcode=definedType.zipcode=definedType.zip,definedType.username=definedType.realname=definedType.name,definedType.english=definedType.en,definedType.chinese=definedType.zh=definedType.ch;var checkerr=function(a,b){var c=!1;for(var d in a){if(c)break;switch(d){case"required":case"rq":a[d]&&(c=isept(b));break;case"min":c=!isept(b)&&Number(b)<Number(evalVal(a[d]));break;case"max":c=!isept(b)&&Number(b)>Number(evalVal(a[d]));break;case"minlength":case"minlen":c=!isept(b)&&b.length<Number(evalVal(a[d]));break;case"maxlength":case"maxlen":c=!isept(b)&&b.length>Number(evalVal(a[d]));break;case"equal":case"eq":c=!isept(b)&&b!=evalVal(a[d]);break;case"regex":c=!new RegExp(evalVal(a[d])).test(b);break;case"function":case"fn":c=evalVal(a[d]);break;case"type":c=!definedType[a[d]].test(b)}}return a.mirror?!c:c},$v=function(a,b){b=$.extend({},$v.globalOptions,b),void 0==a&&(a=$("[data-validate]"));var c,d,e,f={isError:!1,msgs:[],errors:[],corrects:[],getData:function(){for(var a,b,c,d={},e=0;e<this.corrects.length;e++)b=this.corrects[e].target,a=!1,c=b.attr("name"),c&&!b.prop("disabled")&&(a="INPUT"==b[0].tagName.toUpperCase()&&-1!="RADIO,CHECKBOX".indexOf((b.attr("type")||"-").toUpperCase())?b.prop("checked"):!0),a&&(d[c]=d[c]?d[c]+","+this.corrects[e].val:this.corrects[e].val);return d}};return a=a.filter("[data-validate]"),a.each(function(){if(filter=$(this).data("validate"),!filter)return!0;if(c=parse(filter),c.filter[0]=$.extend({},b.defaultFilter,c.filter[0]),c.target=$(this),c.val=getval(c.target,b.fixDC,b.trim),!b.testMode&&b.before&&!b.before(c))return!0;e=c.filter[0];for(var a=0;a<c.filter.length;a++)if(d=c.filter[a],c.isError=checkerr(d,c.val),c.isError){f.isError=!0,f.msgs.push(d.msg),f.errors.push(c),b.testMode||"string"!=typeof e.errorClass||(b.appendDom?vtip(c.target,d.msg):c.target).removeClass(e.correctClass).addClass(e.errorClass);break}return c.isError||(f.corrects.push(c),b.testMode||"string"!=typeof e.correctClass||(b.appendDom?vtip(c.target,""):c.target).removeClass(e.errorClass)[isept(c.val)?"removeClass":"addClass"](e.correctClass)),!b.testMode&&b.after&&(f=b.after(c,f)||f),c.isError&&b.singleMode?!1:void 0}),!b.testMode&&b.report&&b.report(f),f};return $v.globalOptions={fixDC:!1,trim:!0,singleMode:!1,testMode:!1,before:0,after:0,defaultFilter:void 0,appendDom:0,report:function(a){}},$v}();return validate.idCard=function(){var a={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};return checkCard=function(a){return""===a?!1:isCardNo(a)===!1?!1:checkProvince(a)===!1?!1:checkBirthday(a)===!1?!1:checkParity(a)===!1?!1:!0},isCardNo=function(a){var b=/(^\d{15}$)|(^\d{17}(\d|X)$)/;return b.test(a)===!1?!1:!0},checkProvince=function(b){var c=b.substr(0,2);return void 0===a[c]?!1:!0},checkBirthday=function(a){var b,c,d,e,f,g=a.length;if("15"==g){var h=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;return b=a.match(h),c=b[2],d=b[3],e=b[4],f=new Date("19"+c+"/"+d+"/"+e),verifyBirthday("19"+c,d,e,f)}if("18"==g){var i=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;return b=a.match(i),c=b[2],d=b[3],e=b[4],f=new Date(c+"/"+d+"/"+e),verifyBirthday(c,d,e,f)}return!1},verifyBirthday=function(a,b,c,d){var e=new Date,f=e.getFullYear();if(d.getFullYear()==a&&d.getMonth()+1==b&&d.getDate()==c){var g=f-a;return g>=3&&100>=g?!0:!1}return!1},checkParity=function(a){a=changeFivteenToEighteen(a);var b=a.length;if("18"==b){var c,d,e=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),f=new Array("1","0","X","9","8","7","6","5","4","3","2"),g=0;for(c=0;17>c;c++)g+=a.substr(c,1)*e[c];return d=f[g%11],d==a.substr(17,1)?!0:!1}return!1},changeFivteenToEighteen=function(a){if("15"==a.length){var b,c=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),d=new Array("1","0","X","9","8","7","6","5","4","3","2"),e=0;for(a=a.substr(0,6)+"19"+a.substr(6,a.length-6),b=0;17>b;b++)e+=a.substr(b,1)*c[b];return a+=d[e%11]}return a},function(a){return checkCard(a)}}(),validate.mobile=function(a){return/^1\d{6,10}$/.test(a)},validate.addFilter=function(a,b){a.data("validate",JSON.stringify(b)),a.attr("data-validate")||a.attr("data-validate",JSON.stringify(b))},$.extend($.fn,{validate:function(a){return validate(this,a)}}),validate}),define("src/js/slideSelector",["../fw/core","../js/PluginManager"],function(a,b){$.extend($.fn,{slideSelector:function(c){var d={TEMPLATE:{ITEM:'<li class="radio-item ${class}" value="${value}"><label class="label-radio clearfix"><div class="radio-icon"><span class="radio"></span></div><div class="radio-text">${text}</div><div class="check"></div></label></li>',CONTAINERHEAD:'<div class="slide-selector"><header class="bar-nav"><div class="radio-title"><span class="title">${title}</span><span class="cancel">取消</span></div></header><ul class="page-content">',CONTAINERFOOT:'</ul><div class="arrow up left"></div><div class="describe">${describe}</div></div>'},option:{showType:"transition",transitionClass:"selector-active",showTransition:!0},page:null,targetElement:null,disableIndex:null,config:c,callback:function(){},init:function(){var b=this.config,c=this;if(b.data&&0!==b.data.length){b.targetElement&&(this.targetElement=b.targetElement),b.callback&&(this.callback=b.callback),b.disableIndex&&(this.disableIndex=b.disableIndex),this.data={};for(var d=this.TEMPLATE.CONTAINERHEAD.replace("${title}",b.title),e=0;e<b.data.length;e++){var f=this.TEMPLATE.ITEM,g=b.data[e];f=f.replace("${value}",g.value),f=f.replace("${text}",g.text),f=f.replace("${class}",this.disableIndex&&this.disableIndex==e?"disabled-item":""),this.data[(""==g.value?0:g.value)+g.text.trim()]=g,d+=f}d+=this.TEMPLATE.CONTAINERFOOT.replace("${describe}",b.describe?b.describe:"");var h=$(d),i=this.setValue(this);a.getActiveLayer()?h.appendTo(a.getActiveLayer()):h.appendTo("body"),b.initValue&&(h.find('li[value="'+b.initValue.value+'"]').addClass("selected").find(".radio").addClass("selected"),this.callback&&this.callback(b.initValue)),b.describe||h.find(".describe").hide(),this.page=h,$(h).on("click","ul li",i),$("header .cancel",h).on("click",function(){c.hide()})}},beforeShow:function(c){var d=this;if($(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){d.hide()}),a.isPad){if(this.page.hasClass("selector-active"))return this.hide(),!0;var e=(a.getActiveLayer().find(".page-content"),a.getActiveLayer().width()),f=a.getActiveLayer().height(),d=this,g=a.getElementVisibleTop(this.targetElement[0]),h=a.getElementVisibleLeft(this.targetElement[0]);g+this.targetElement.height();(g+this.targetElement.height()/2)/f>.5?(this.page.find(".arrow").removeClass("up").addClass("down"),this.page.css("top","auto"),this.page.css("bottom",f-g+15+"px")):(this.page.find(".arrow").removeClass("down").addClass("up"),this.page.css("top",g+this.targetElement.height()+15+"px"),this.page.css("bottom","auto")),h+this.targetElement.width()/2/e>.5?(this.page.find(".arrow").removeClass("left").addClass("right"),this.page.css("left","auto"),this.page.css("right",e-(h+this.targetElement.width()/2)-38+"px")):(this.page.find(".arrow").removeClass("right").addClass("left"),this.page.css("right","auto"),this.page.css("left",h-38+"px"))}b.showAdvancedLoad()},afterShow:function(){var b=this.page.find("ul.page-content");a.isPad?b.css("margin-bottom",this.page.find(".describe").height()+"px"):b.css("margin-top",this.page.find(".describe").height()+1+"px")},afterHide:function(){$(a.getActiveLayer()).off("click",".advanced-mask-layer"),b.removeAdvancedLoad(),a.isPad&&(this.page.removeClass("page-transitioning"),this.page.off(a.transitionEnd))},setData:function(a){for(var b="",c=0;c<a.length;c++){var d=this.TEMPLATE.ITEM,e=a[c];d=d.replace("${value}",e.value),d=d.replace("${text}",e.text),d=d.replace("${class}",this.disableIndex&&this.disableIndex==c?"disabled-item":""),this.disableIndex&&this.disableIndex==c&&(d=d.replace("${class}","disabled-item")),this.data[(""==e.value?0:e.value)+e.text.trim()]=e,b+=d}this.page.find("ul").html(b)},selectValue:function(a){this.page.find("li").removeClass("selected").find(".radio").removeClass("selected"),this.page.find("li[value='"+a+"']").addClass("selected").find(".radio").addClass("selected")},setValue:function(a){return function(){var b=$(this);if(!a.disableIndex||a.config.data[a.disableIndex].value!=b.attr("value")){var c=a.data[b.attr("value")+b.text().trim()];b.siblings().removeClass("selected").find(".radio").removeClass("selected"),b.addClass("selected").find(".radio").addClass("selected"),a.hide(),a.callback&&a.callback(c)}}},changeDisable:function(a){a?this.disableIndex=a:this.disableIndex=null,this.setData(this.config.data)}};return d.elem=$(this),d.targetElement||(d.targetElement=d.elem),d.elem.on("click",function(a){d.show(a),d.elem.blur()}),d}})}),define("entry/train/js/datepicker",["src/js/dateextend","src/js/core"],function(a){$.extend($.fn,{datepicker:function(a){function b(a){return a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(window.event.returnValue=!1,a.cancelBubble=!0,window.event.cancelBubble=!0),!1}function c(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}a=$.extend({mindate:new Date(1970,0,1),maxdate:new Date(2015,12,31),selectedVal:null,title:"请选择出生日期",cancelFn:function(){},confirmFn:function(){}},a);var d,e={},f={},g={};e.targetEl=$(this),e.targetEl.addClass("elong-datepicker"),e.pickerContent='<div class="dp-title"><span class="confirmBtn">确定</span><span class="cancelBtn">取消</span>${title}</div><div class="dp-tag"></div><div class="dp-picker"><div class="view ui-flex1"><ul type="0">${year}</ul><div class="ui-mask-gray"></div></div><div class="view ui-flex1"><ul type="1">${month}</ul><div class="ui-mask-gray"></div></div><div class="view ui-flex1"><ul type="2">${day}</ul><div class="ui-mask-gray"></div></div></div>',e.targetEl.parent().append('<div class="dp-mask-layer"></div>'),e.markers=$(".dp-mask-layer"),g.yearList=[],g.monthList=[],g.dayList=[],g.yearControl=null,g.monthControl=null,g.dayControl=null,g.year=0,g.month=0,g.day=0,g.returnData={year:0,month:0,day:0,dateStr:""};var h=function(){var a=[1,3,5,7,8,10,12];g.dayControl&&(2===g.month&&((g.year%4===0&&g.year%100!==0||g.year%100===0&&g.year%400===0)&&g.day>29?g.dayControl.moveTo(28,"2"):g.day>28&&g.dayControl.moveTo(27,"2")),a.indexOf(g.month)<0&&g.day>30&&g.dayControl.moveTo(29,"2"))},i=function(a){this.options=a=$.extend({moveSize:0,nowSize:0,oldSize:0,firstMove:!0,touchStartTime:null,ismove:!1,x1:0,y1:0,x2:0,y2:0,type:0,mouseLock:!0,isMouseEvent:!1},a)};i.prototype.getDayNum=function(){var a=120,b=[1,3,5,7,8,10,12];return 2===this.options.type&&(b.indexOf(g.month)<0&&(a=160),2===g.month&&(a=g.year%4===0&&g.year%100!==0||g.year%100===0&&g.year%400===0?200:240)),a},i.prototype.startFn=function(a){b(a),this.options.touchStartTime=(new Date).getTime(),"mousedown"===a.type&&(this.options.isMouseEvent=!0),window.PointerEvent&&(this.options.pointerStart=!0),a&&a.originalEvent&&a.originalEvent.touches?(this.options.x1=a.originalEvent.touches[0].pageX,this.options.y1=a.originalEvent.touches[0].pageY):this.options.isMouseEvent?(this.options.x1=a.x,this.options.y1=a.y,this.options.mouseLock=!1):(this.options.x1=parseInt(a.pageX),this.options.y1=parseInt(a.pageY)),f.touchEl(a).removeClass("transition10ms");var c=f.touchEl(a).attr("type");$("ul[type='"+c+"'] li").removeClass("active")},i.prototype.moveFn=function(a){b(a);var d=this.getDayNum();if("mousemove"===a.type&&(this.options.isMouseEvent=!0),(!window.PointerEvent||this.options.pointerStart)&&(!this.options.isMouseEvent||!this.options.mouseLock)){a&&a.originalEvent&&a.originalEvent.touches?(this.options.x2=a.originalEvent.touches[0].pageX,this.options.y2=a.originalEvent.touches[0].pageY):this.options.isMouseEvent?(this.options.x2=a.x,this.options.y2=a.y):(this.options.x2=parseInt(a.pageX),this.options.y2=parseInt(a.pageY)),console.log("x:"+this.options.x2+"y:"+this.options.y2);var e=c(this.options.x1,this.options.x2,this.options.y1,this.options.y2);this.options.firstMove?("Up"===e&&(this.options.moveSize=-Math.abs(this.options.y1-this.options.y2)),"Down"===e&&(this.options.moveSize=Math.abs(this.options.y1-this.options.y2))):("Up"===e&&(this.options.moveSize=this.options.nowSize-Math.abs(this.options.y1-this.options.y2)),"Down"===e&&(this.options.moveSize=this.options.nowSize+Math.abs(this.options.y1-this.options.y2))),this.options.moveSize>=80&&"Down"===e&&(this.options.moveSize=80),this.options.moveSize<0&&this.options.moveSize<-(f.touchEl(a).height()-d)&&"Up"===e&&(this.options.moveSize=-(f.touchEl(a).height()-d)),f.touchEl(a).attr("style","-webkit-transform: translate3d(0px, "+this.options.moveSize+"px, 0px) scale(1);transform: translate3d(0px, "+this.options.moveSize+"px, 0px) scale(1);"),this.options.oldSize=this.options.moveSize,this.options.ismove=!0}},i.prototype.endFn=function(a){b(a);var d=this.getDayNum();window.PointerEvent&&(this.options.pointerStart=!1),this.options.isMouseEvent&&!this.options.mouseLock&&(this.options.mouseLock=!0);var e=this,g=c(this.options.x1,this.options.x2,this.options.y1,this.options.y2);if((new Date).getTime()-this.options.touchStartTime<=200&&this.options.ismove&&(this.options.x2&&Math.abs(this.options.x1-this.options.x2)>30||this.options.y2&&Math.abs(this.options.y1-this.options.y2)>30)){var i=400;i=f.touchEl(a).height()/2<300?f.touchEl(a).height()/2:2*i,"Up"===g&&(this.options.moveSize=this.options.nowSize-i,this.options.moveSize=this.options.moveSize<=-(f.touchEl(a).height()-d)?-(f.touchEl(a).height()-d):this.options.moveSize),"Down"===g&&(this.options.moveSize=this.options.nowSize+i,this.options.moveSize=this.options.moveSize>=80?80:this.options.moveSize),f.touchEl(a).attr("style","-webkit-transform: translate3d(0px, "+f.moveSize+"px, 0px) scale(1);transform: translate3d(0px, "+f.moveSize+"px, 0px) scale(1);").addClass("transition10ms"),this.options.oldSize=this.options.moveSize}this.options.firstMove&&(this.options.firstMove=!1),this.options.nowSize>=0?this.options.nowSize=40*parseInt(this.options.oldSize/40):"Up"===g?Math.abs(this.options.oldSize%40)>20?this.options.nowSize=40*Math.floor(this.options.oldSize/40):this.options.nowSize=40*Math.ceil(this.options.oldSize/40):Math.abs(this.options.oldSize%40)>20?this.options.nowSize=40*Math.floor(this.options.oldSize/40):this.options.nowSize=40*Math.ceil(this.options.oldSize/40),f.touchEl(a).attr("style","-webkit-transform: translate3d(0px, "+this.options.nowSize+"px, 0px) scale(1); transform: translate3d(0px, "+this.options.nowSize+"px, 0px) scale(1);").addClass("transition10ms"),this.options.nowSize>=80&&setTimeout(function(){f.touchEl(a).attr("style","-webkit-transform: translate3d(0px, 80px, 0px) scale(1); transform: translate3d(0px, 80px, 0px) scale(1);").addClass("transition10ms"),e.options.nowSize=80,e.options.oldSize=e.options.nowSize},300),this.options.nowSize<0&&this.options.nowSize<-(f.touchEl(a).height()-d)&&setTimeout(function(){f.touchEl(a).attr("style","-webkit-transform: translate3d(0px, "+-(f.touchEl(a).height()-120)+"px, 0px) scale(1); transform: translate3d(0px, "+-(f.touchEl(a).height()-d)+"px, 0px) scale(1); ").addClass("transition10ms"),e.options.nowSize=-(f.touchEl(a).height()-d),e.options.oldSize=e.options.nowSize},300);var k=this;setTimeout(function(){var b=Math.abs(e.options.nowSize/40-2);j(f.touchEl(a).attr("type"),b),2!==k.options.type&&h()},500),this.options.ismove=!1},i.prototype.moveTo=function(a,b){j(b,a),$("ul[type='"+b+"']",e.targetEl).attr("style","-webkit-transform: translate3d(0px, "+-(40*(a-2))+"px, 0px) scale(1);transform: translate3d(0px, "+-(40*(a-2))+"px, 0px) scale(1);"),this.options.oldSize=40*-(a-2),this.options.nowSize=this.options.oldSize,this.options.firstMove=!1},f.touchEl=function(a){var b=a.target.parentNode?a.target.parentNode:a.target;return $(b)};var j=function(a,b){"0"===a&&(g.year=g.yearList[b]),"1"===a&&(g.month=g.monthList[b]),"2"===a&&(g.day=g.dayList[b]),$("ul[type='"+a+"'] li").removeClass("active").eq(b).addClass("active")},k=function(){for(var b="",c="",f="",h=(new Date).getFullYear()-80;h<=(new Date).getFullYear();h++)b+="<li val='"+h+"' type='0'>"+h+"年</li>",g.yearList.push(h);for(var i=1;12>=i;i++)c+="<li val='"+i+"' type='1'>"+i+"月</li>",g.monthList.push(i);for(var j=1;31>=j;j++)f+="<li val='"+j+"' type='2'>"+j+"日</li>",g.dayList.push(j);e.pickerContent=e.pickerContent.replace("${title}",a.title),e.pickerContent=e.pickerContent.replace("${month}",c),e.pickerContent=e.pickerContent.replace("${day}",f),e.pickerContent=e.pickerContent.replace("${year}",b),$(e.pickerContent).appendTo(e.targetEl),d=$(e.pickerContent)},l=function(){g.yearControl=new i({type:0}),g.monthControl=new i({type:1}),g.dayControl=new i({type:2}),$(".dp-picker .view ul",e.targetEl).on(" touchstart  pointerdown",function(a){var b=f.touchEl(a).attr("type");"0"===b&&g.yearControl.startFn(a),"1"===b&&g.monthControl.startFn(a),
"2"===b&&g.dayControl.startFn(a)}),$(".dp-picker .view ul",e.targetEl).on(" touchmove  pointermove",function(a){var b=f.touchEl(a).attr("type");"0"===b&&g.yearControl.moveFn(a),"1"===b&&g.monthControl.moveFn(a),"2"===b&&g.dayControl.moveFn(a)}),$(".dp-picker .view ul",e.targetEl).on(" touchend  pointerup",function(a){var b=f.touchEl(a).attr("type");"0"===b&&g.yearControl.endFn(a),"1"===b&&g.monthControl.endFn(a),"2"===b&&g.dayControl.endFn(a)}),$(".confirmBtn").on("click",function(){if(a.confirmFn&&"function"==typeof a.confirmFn){var b={year:g.year,month:g.month,day:g.day,dateStr:""};a.confirmFn(b),m()}}),$(".cancelBtn").on("click",function(){a.cancelFn&&"function"==typeof a.cancelFn&&(a.cancelFn(),m())}),e.markers.on("click",function(){m()}),e.markers[0].addEventListener("touchstart",function(a){a.preventDefault()});var b=Math.abs(1990-((new Date).getFullYear()-80));g.yearControl.moveTo(b,"0"),g.monthControl.moveTo(0,"1"),g.dayControl.moveTo(0,"2")},m=function(){e.targetEl.removeClass("dp-active"),e.markers.hide()};return k(),l(),_cln={page:e.targetEl,option:{showType:"transition",transitionClass:"dp-active"},beforeShow:function(a){if(a){var b=Math.abs(a.getFullYear()-((new Date).getFullYear()-80));g.yearControl.moveTo(b,"0"),g.monthControl.moveTo(a.getMonth(),"1"),g.dayControl.moveTo(a.getDate()-1,"2")}e.markers.show()},afterHide:function(){m()}},_cln}})}),define("src/js/slideInput",["../fw/core","../js/PluginManager"],function(a,b){$.extend($.fn,{slideInput:function(){if(!this.length)return{page:$()};var c=this[0],d=c.outerHTML,e={TEMPLATE:'<div class="slide-input page-plugin"><div class="bar bar-nav"><div class="input-row button-line">${input}<div class="triangle-right-buttom"></div></div><span class="btn confirm pull-right">确定</span></div><div class="local-history"><ul></ul></div></div>',page:null,elem:c,localData:null,option:{showType:"transition",transitionClass:"input-active"},callback:function(a){},init:function(){var b=this.TEMPLATE.replace("${input}",d),c=$(b),e=this.setValue(this);a.getActiveLayer()?c.appendTo(a.getActiveLayer()):c.appendTo("body"),this.page=c,$(".confirm",c).on("click",e)},beforeShow:function(a){var c=this.page.find("input");b.showLoad(),c.val(a),setTimeout(function(){c.focus()},500)},setValue:function(a){return function(){a.hide(),$(a.elem).val(a.page.find("input").val())}},afterHide:function(){b.removeLoad()}};return $(this).on("click focus",function(){e.page.hasClass("input-active")||e.show(this.value)}),e}})}),define("entry/train/js/redPacketPlugin",["src/js/common","src/js/core","src/js/validate","entry/train/js/dialog","src/js/PluginManager","src/js/slideSelector","entry/train/js/datepicker","src/js/dateextend","src/js/slideInput"],function(a,b,c,d,e){var f=function(a,b){this.page=null,this.sysObj=a,this.para=b};return f.prototype={init:function(){this.page=$(template("order/redPacketPlugin",{})),this.initDomAction()},beforeShow:function(a){""==a&&(a=0),this.initList()},initDomAction:function(){var a=this;$(".j-back",this.page).on("click",function(){a.page.trigger("back")}),this.page.on("click",".list-item, .notuse",function(b){var c=$(b.currentTarget);if(!c.hasClass("list-item_disabled")){var d=c.attr("data-id"),e=c.attr("data-price");0==d&&(d=""),a.page.trigger("selected",{id:d,price:e})}}),this.page.on("click",".explain",function(){a.page.trigger("explain")})},initList:function(){var a=this,b=$.Deferred();if(a.page.find(".list .list-item").length>0)return b.resolve(),b.promise();var c=$.post("http://m.elong.com/train/getbonuslist",this.para);return c.done(function(c){if(c="object"==typeof c?c:JSON.parse(c),"0"==c.ErrorCode){var d=JSON.parse(c.Data);d.forEach(function(a){"0"!=a.effectiveStatus&&(a.redPacketState="list-item_disabled"),a.effectiveEndTime=a.effectiveEndTime.split(" ")[0]});var e=$(template("order/redPacketPlugin_item",{Data:d}));a.page.find(".list").html(e),b.resolve()}}),b.promise()}},f}),define("entry/train/js/activityPlugin",["src/js/common","src/js/core","src/js/validate","entry/train/js/dialog","src/js/PluginManager","src/js/slideSelector","entry/train/js/datepicker","src/js/dateextend","src/js/slideInput"],function(a,b,c,d,e){var f=function(a,b){this.page=null,this.title=a,this.url=b};return f.prototype={init:function(){this.page=$(template("order/activityPlugin",{})),this.initDomAction()},beforeShow:function(a,b){$(".title",this.page).text(a),$("iframe",this.page).attr("src",b)},afterHide:function(){$(".title",this.page).text(""),$("iframe",this.page).attr("src","")},initDomAction:function(){var a=this;$(".j-back",this.page).on("click",function(){a.page.trigger("back")})}},f}),define("entry/train/js/order",["src/js/common","src/js/core","src/js/validate","entry/train/js/dialog","src/js/PluginManager","entry/train/js/redPacketPlugin","entry/train/js/activityPlugin","src/js/slideSelector","entry/train/js/datepicker","src/js/dateextend","src/js/slideInput"],function(a,b,c,d,e,f,g){b.onrender("order",function(a){function h(){var b="true"==$("#loginFlag",a).val()?!0:!1;return b}function i(){var a=[];return a.push("startstation="+decodeURI(b.getHash("startstation"))),a.push("endstation="+decodeURI(b.getHash("endstation"))),a.push("startdate="+decodeURI(b.getHash("startdate"))),a.push("trainNum="+decodeURI(b.getHash("trainNum"))),a.push("isSendTicket="+decodeURI(b.getHash("isSendTicket"))),a.push("seatTypeCode="+decodeURI(b.getHash("seatTypeCode"))),a}function j(a){var c=i();c.push("sessiontoken="+a);var d=b.router.getUrlFromTpl("order")+"?"+c.join("&");n.reload(d)}function k(){$(a).children(".mask-layer").length?$(a).children(".mask-layer").show():$("<div class='mask-layer' style='-ms-touch-action: none;'></div>").appendTo(a)}function l(){$(".mask-layer",a).hide()}function m(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?decodeURI(c[2]):null}try{var n=this;b.get("order").main&&b.get("order").main.addEventListener("touchstart",function(a){},!1);var o=b.transitionEnd,p=$("#sysHidden",a).val();p=p?JSON.parse(p):{siteName:"train",storage:!0},$(a).off("click");var q=$("html").hasClass("low-device"),r=($(".go-login",a),$(".page-content .train-order",a).parent()),s=$("#insuranceInfo",a).length&&$("#insuranceInfo",a).val().length>0?JSON.parse($("#insuranceInfo",a).val()):null,t=$("#insuranceChoose",a);t.val()}catch(u){}var v=$("#isDefaultChooseSendTicket",a).val();(void 0==v||""==v)&&(v=0);var w=1,x=$("#insuranceChoose",a).val(),y=x,z=function(){switch($(".j-choose-seat .chosen-seat",a).attr("data-seat-type",v),v){case"0":$(".j-choose-seat .chosen-seat",a).text("不需要"),$(".j-choose-seat .seat-detail",a).addClass("hide"),$(".j-choose-seat .yield-seat",a).addClass("hide"),$(".j-choose-seat .set-ticket-type",a).text(""),$(".j-to-delivery",a).addClass("hide"),$(".ticket-tips",a).addClass("hide"),$(".deliveryInfo",a).addClass("hide");break;case"1":$(".j-choose-seat .chosen-seat",a).text("送票上门"),$(".j-choose-seat .seat-detail",a).addClass("hide"),$(".j-choose-seat .yield-seat",a).addClass("hide"),$(".j-choose-seat .set-ticket-type",a).text(""),$(".j-to-delivery",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide");break;case"3":$(".j-choose-seat .chosen-seat",a).text("我要下铺"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("下铺"),$(".j-choose-seat .yield-seat .title-span",a).text("当下铺无票时，接受非下铺"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide");break;case"5":$(".j-choose-seat .chosen-seat",a).text("我要靠窗"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("靠窗"),$(".j-choose-seat .yield-seat .title-span",a).text("当指定靠窗无票时，接受非靠窗"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide");break;case"6":$(".j-choose-seat .chosen-seat",a).text("连座/包厢"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("连座/包厢"),$(".j-choose-seat .yield-seat .title-span",a).text("当指定连座无票时，接受非连座"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide")}A(),C()},A=function(){var b=$(".minus",a),c=$(".plus",a);1>=w&&(w=1);var d=$(".people-list li",a).length;0>=d&&(d=1),w>=d&&(w=d),$(".set-num-area .count",a).text(w),1>=w?b.addClass("gray"):b.removeClass("gray"),w>=d?c.addClass("gray"):c.removeClass("gray")},B=function(){var b=$(".inSureSwitch.forInsure",a),c=$(".inSureSwitch.forReceipt",a);if(b.attr("data-needinsurance",y),0==y){var d="不需要保险";b.find(".insure-num").text(d),c.hide()}else{var d=s.name+" ",e=s.typePrice+"元",f=$(".user .people-list li[data-passenger-type=0]",a).length;d+=e+"X"+f+"份",b.find(".insure-num").text(d),c.show()}},C=function(){0==v||""==$.trim($(".delivery-to",a).text())?$(".delivery-to",a).hide():$(".delivery-to",a).show()},D=function(){var a=localStorage.getItem("postAddress");try{a=$.parseJSON(a),a||(a=[],1==p.storage&&localStorage.setItem("postAddress",JSON.stringify(a)))}catch(b){a=[],1==p.storage&&localStorage.setItem("postAddress",JSON.stringify(a))}return a},E=function(){var b="",c="false",d="",e=$(".j-choose-seat .chosen-seat",a).attr("data-seat-type"),f=$(".redPacket",a).attr("data-price");f=f||"";var g="";h()?"true"!=$("#hasBonus",a).val()?(b="1"==$("#noBonusForPrice",a).val()?"单张票价满30元可使用":"您没有可使用的优惠",c="false",d="",f="",g="redPacket-text_disabled"):e&&"0"!=e?(b="选座模式不可使用优惠",c="false",d="",f="",g="redPacket-text_disabled"):""==f||"0"==f?(b="请选择要使用的优惠",c="true",d="",f="",g=""):"-1"==f?(b="不使用优惠",c="true",d="",f="",g=""):(b=f+"元",c="true",d=$(".redPacket",a).attr("data-id"),g="redPacket-text_number"):(b="登录后可使用",c="false",d="",f="",g="redPacket-text_disabled"),$(".redPacket",a).attr("data-isuser",c).attr("data-id",d).attr("data-price",f),$(".redPacket-text",a).attr("class","redPacket-text "+g).text(b)};(function(){z(),B(),E(),b.get("detail")&&b.get("detail").destroy()})();$(".user .add-adult",a).on("click",function(){return $(".people-list li",a).length>=5?void d.alert("单张订单乘客数量不能大于5个"):void K.show()}),$(".user .add-child",a).on("click",function(){if(0===$(".people-list li",a).length)return void d.alert("请先添加成人乘客信息");if($(".people-list li",a).length>=5)return void d.alert("单张订单乘客数量不能大于5个");var b=[],c=0,e=$(".people-list li",a);if(e.each(function(){var a=($(this),$(this));"0"===$(this).attr("data-passenger-type")&&c++,b.push({name:a.attr("data-name"),certType:a.attr("data-certType"),certNumber:a.attr("data-certNumber"),certText:a.attr("data-certTypeName"),pid:a.attr("pid"),type:a.attr("data-passenger-type")})}),c>1&&X.show(),1==c){var f=$(".people-list",a),g='<li data-passenger-type="1"><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>',h=$(g);$(b).each(function(){"0"==this.type&&(h.find(".passenger-name").text(this.name),h.find(".cert-number").text(this.certText+"/ "+this.certNumber),h.find(".cert-number").attr("cert-type",this.certType),h.find(".cert-number").attr("cert-number",this.certNumber),h.find(".seat").text(this.seatName),h.find(".seat").attr("code",this.seatCode),h.attr("cid",this.pid),h.attr("data-passenger-type",1),f.append(h),K.changePrice(),I.addChild(this.pid,1))})}A()}),$(".people-list",a).on("click",".icon-block",function(c){var e=$(this).parent();if(e.attr("cid")&&(I.addChild(e.attr("cid"),-1),$('li[cid="'+e.attr("pid")+'"]',a).remove(),e.on(o,function(){setTimeout(function(){K.changePrice()},100)}),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),A(),B()}),e.addClass("before-remove")):(e.remove(),A(),B())),e.attr("pid")){var f=I.getPeopleItem(e.attr("pid"));if((void 0==f||null==f)&&(console.log(I),console.log(e)),f&&f.childrenCount>0){var g=JSON.parse(f.data);d.confirm({content:'移除 "'+g.name+'" 将同步移除与其同行的所有儿童票,是否确定该操作',success:function(){I.removeItem(e.attr("pid")),$('li[cid="'+e.attr("pid")+'"]',a).remove(),e.on(o,function(){setTimeout(function(){K.changePrice()},100)}),K.cancelSelect(e.find(".cert-number").attr("cert-number").trim()),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),A(),B()}),e.addClass("before-remove")):(e.remove(),A(),B())}})}else I.removeItem(e.attr("pid")),e.on(o,function(){setTimeout(function(){K.changePrice()},100)}),K.cancelSelect(e.find(".cert-number").attr("cert-number").trim()),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),A(),B()}),e.addClass("before-remove")):(e.remove(),A(),B())}return!1}),$(".set-num-area",a).on("click",".minus",function(){w=$(".set-num-area .count",a).text(),w--,A()}).on("click",".plus",function(){w=$(".set-num-area .count",a).text(),w++,A()}),$(".user-login",a).on("click",function(){window.location.href=$LOGIN+"?RedirectUrl="+window.encodeURIComponent(window.location.href)}),$(".after-phone .icon-close",a).on("click",function(){$(".phone-info input",a).val("")}),$(".bar .next",a).on("click",function(){var e=$(".people-list li",a),f=$(".phone-info input",a).val(),g=!0;if(0===e.length)return d.alert("请添加乘客"),!1;if(e.length>5)return void d.alert("单张订单乘客数量不能大于5个");if(""===f)return d.alert("请输入手机号",function(){$(".phone-info input",a).focus()}),!1;if(!c.mobile(f)||11!=f.length)return d.alert("请输入合法的手机号",function(){$(".phone-info input",a).focus()}),!1;var h=[],i=$(".seat-type",a).text(),j=$(".seat-type",a).attr("data-seat-code"),k=$(".seat-type",a).attr("data-seat-price"),l=$(".yield-seat .checkbox",a).hasClass("checked");l=l?1:0;var m={};if(e.each(function(){var b=($(this).find(".people-info"),$(this)),c=b.attr("data-name"),e=b.attr("data-certtype"),f=b.attr("data-certnumber"),k=b.attr("data-passenger-type"),l=$(".inSureSwitch",a).attr("data-needInsurance"),n=(JSON.stringify($("#insuranceInfo",a).val()),b.attr("data-date"));if("1"==k){var o=b.attr("cid"),p=$(".people-list li[pid="+o+"]",a);c=p.attr("data-name"),e=p.attr("data-certtype"),f=p.attr("data-certnumber"),n=p.attr("data-date")}if("1"!=k&&("0"!=k||m[f]))return d.alert("同一身份证乘客只能买一张票"),g=!1,!0;m[f]=!0;var q={name:c,certType:e,certNumber:f,seatname:i,seatcode:j,ticketType:k,needInsurance:0,insuranceType:0,insuranceNum:0,birthday:n};"1"==l&&"0"==k&&(q.needInsurance=1,q.insuranceType=s.typeCode,q.insuranceNum=1),h.push(JSON.stringify(q))}),!g)return!1;var o=(location.search.split("&"),b.getHash("startdate"));invoiceAddress="",invoicePerson="";var p=$(".delivery-to",a).attr("data-address"),q=$(".redPacket",a).attr("data-id")||"",r=$(".forReceipt .need-receipt",a),t="0";ElongBridge&&0!=ElongBridge.RUNTIME_VERSION&&($("html").hasClass("ios")&&(t="1"),$("html").hasClass("android")&&(t="2"));var u={connectionmobile:f,customers:"["+h.join(",")+"]",enddate:$(".end .time",a).text(),endstation:$(".end .station",a).text(),seatlowprice:k,seatname:i,seatcode:j,startdate:$(".start .time",a).text(),startstation:$(".start .station",a).text(),trainno:$(".train .coach",a).text(),ordertime:o,durationtime:$(".during",a).text(),needInvoice:r.attr("data-needReceipt"),invoiceAddress:r.attr("data-address"),invoicePerson:r.attr("data-name"),personalTypeCode:v,address:p,personalParams:$(".set-num-area .count",a).text(),acceptOther:l,incomeDiscountId:q,orderType:1,customizedClientType:t};return"0"==u.personalTypeCode||void 0!=p&&null!=p&&""!=p?(console.log(u),n.startLoading(),$.ajax({type:"post",url:"http://m.elong.com/train/trainOrder/orderSubmit",data:u,success:function(a){if(n.stopLoading(),"object"==typeof a?result=a:result=JSON.parse(a),a&&0===result.ErrorCode)$("input[type=hidden]").remove(),location.href=result.Data;else if("1"==result.ErrorCode){var c=JSON.parse(result.Data),e=c.orderId,f=c.gorderId;if($("html").hasClass("android"))var e=c.gorderId,f=c.orderId;ElongBridge.pay({payFrom:"3",orderId:e,gorderId:f,tradeToken:c.token,notifyUrl:c.notifyUrl,totalPrice:c.payAmount,weiXinProductName:"艺龙网火车票订单支付",isCanback:!1,descTitle:c.descTitle,descSubhead:c.descSubhead,descInfo:c.descInfo,onsuccess:function(a){0==a.error?b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0}):1==a.error&&b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0})},onfail:function(a){b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId;b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0})}})}else if("2"==result.ErrorCode)b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+result.Data,active:!0});else if("113"==result.ErrorCode){var g={content:result.ErrorMessage,btnArr:[{text:"查看原订单",type:"button",click:function(){setTimeout(function(){b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+result.Data,active:!0})},100)}}]};d.show(g)}else d.alert(result.ErrorMessage,function(){})},error:function(a,b,c){n.stopLoading();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}}),!1):void d.alert("请选择配送地址")}),$(".redPacket",a).on("click",function(a){var b=$(a.currentTarget);if("false"!=b.attr("data-isUser")){var c=b.attr("data-id")||"";G.show(c)}}),$(".phone-info-icon",a).on("click",function(){ElongBridge.getTelephone({onsuccess:function(b){b.error?alert("联系人电话获取失败"):$("#order-mobile",a).val(b.data.phoneNum)},onfail:function(){}})}),$(".go-login",a).on("click",function(a){a.stopPropagation(),a.preventDefault(),ElongBridge.accountLogin({onsuccess:function(a){a.error?alert("登录失败"):j(a.data.session_token)},onfail:function(a){}})}),$("[data-rel=back]",a).on("click",function(a){a.stopPropagation(),a.preventDefault();var c=[];c.push("startstation="+decodeURI(b.getHash("startstation"))),c.push("endstation="+decodeURI(b.getHash("endstation"))),c.push("startdate="+decodeURI(b.getHash("startdate"))),c.push("trainNum="+decodeURI(b.getHash("trainNum"))),b.get("detail")&&b.get("detail").destroy(),b.addPager({url:b.router.getUrlFromTpl("detail")+"?"+c.join("&"),active:!0})}),h();var F={startdate:m("startdate"),startstation:m("startstation"),endstation:m("endstation"),trainNum:m("trainNum"),seatTypeCode:m("seatTypeCode")},G=new f(p,F);e.add("redPacket",G),G.page.on("selected",function(b,c){G.hide(),$(".redPacket",a).attr("data-id",c.id).attr("data-price",c.price),K.changePrice(),E()}),G.page.on("back",function(){G.hide()}),G.page.on("explain",function(){H.show("红包使用说明","http://promotion.elong.com/wireless/H5/html/bus/trainpacket.html")});var H=new g;e.add("explain",H),H.page.on("back",function(){H.hide()});var I={data:{peopleList:[]},addAdult:function(a){var b=!1,c=(new Date).getTime()+Math.ceil(100*Math.random());console.log(c);for(var d=0;d<this.data.peopleList.length;d++){var e=this.data.peopleList[d];e.data==JSON.stringify(a)&&(b=!0)}b||this.data.peopleList.push({pid:c,data:JSON.stringify(a),childrenCount:0})},addChild:function(a,b){for(var c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid==a&&(d.childrenCount=d.childrenCount+b)}},getPeopleList:function(){return this.data.peopleList},updateData:function(a,b,c){for(var d=0;d<this.data.peopleList.length;d++){var e=this.data.peopleList[d];e.pid==a&&(b&&(e.childrenCount=b),e.data=JSON.stringify(c))}},refreshData:function(a){for(var b=[],c=0;c<this.data.peopleList.length;c++)for(var d=this.data.peopleList[c],e=0;e<a.length;e++)d.data===JSON.stringify(a[e])&&b.push(d);I.data.peopleList=b},getPeopleItem:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid==a&&(b=d)}return b},getPeopleItemByData:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.data===JSON.stringify(a)&&(b=d)}return b},removeItem:function(a){for(var b=[],c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid!=a&&b.push(d)}this.data.peopleList=b},removeAll:function(){I.data={peopleList:[]}},getPeopleCount:function(){for(var a=I.data.peopleList.length,b=0;b<this.data.peopleList.length;b++)a+=this.data.peopleList[b].childrenCount;return a},getKey:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.data==JSON.stringify(a)&&(b=d.pid)}return b}},J="",K={TEMPLATE:{BODY:'<div class="person-list page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">选择乘客</h1></header><div class="page-content"><ul class="table-view add-people-list"><li class="table-view-cell right-triangle-icon to-add-people"><span class="people-text">新增乘车人</span></li></ul></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block add-passenger">确定</button></nav></div>',ADDLIST:'<li class="table-view-cell people-info"><div class="check-box label-checkbox"><span class="checkbox"></span><div class="people-info"><div class="people-name">${people}</div><div class="cert-number" cert-type="${certtype}" cert-number="${certnumber}">${certnumber}</div></div></div><div class="to-edit"><span></span></div></li>',PEOPLELIST:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">成人票</div><div class="cert-number">${cert-number}</div></div></div></li>',PEOPLELIST_C:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>'},dataList:[],page:null,isLogin:"true"===$("#loginFlag",a).val()?!0:!1,init:function(){var a=localStorage.getItem("train-orderPeopleList");a&&(K.dataList=a.split(","));var c=K.dataList;this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),K.isLogin?$.ajax({type:"post",url:"http://m.elong.com/train/trainCustomer/getCustomerList",timeout:5e3,success:function(a){if(a){var b;b="object"==typeof a?a:JSON.parse(a);var c=[];if(""!=b.Data)try{c=b.Data.split(",")}catch(d){console.warn(b)}K.dataList=K.dataList.concat(c),J=b.Data,K.dataList.length>0&&(K.initList(),K.renderPersonList(!0),A())}}}):a&&c.length>0&&(this.initList(),K.renderPersonList(!0),A()),K._bindEvent()},beforeShow:function(){return 0===this.dataList.length?(L.show(0,null,null,!0),!0):void 0},afterShow:function(){q&&r.hide()},afterHide:function(){q&&r.show()},initList:function(){var b=$(".add-people-list",a),c=K.dataList,d={1:"身份证",b:"护照",c:"港澳通行证",g:"台湾通行证"};$(".add-people-list .people-info",a).remove();for(var e=c.length-1;e>=0;e--){var f,g=c[e],h=g.split("-"),i=h[0],j=h[1],k=h[2];f=h.length>3&&""!==h[3]&&!isNaN(h[3])?h[3]+"-"+h[4]+"-"+h[5]:"1990-03-03";var l=h[6]||0,m=$(K.TEMPLATE.ADDLIST);m.find(".people-name").text(i),m.find(".cert-number").text(d[k]+"/ "+j),m.find(".cert-number").attr("cert-type",k),m.find(".cert-number").attr("cert-number",j),m.find(".cert-number").attr("cert-type-name",d[k]),m.find(".cert-number").attr("cert-type-day",f),m.find(".cert-number").attr("cert-id",l),e==c.length-1&&m.find(".label-checkbox .checkbox").addClass("checked"),b.append(m),K.fixedWidth(m)}},addPeople:function(){L.show(0)},editPeople:function(){var b=$(this).parent(),c={name:b.find(".people-name").text(),certnumber:b.find(".cert-number").attr("cert-number"),certtype:b.find(".cert-number").attr("cert-type"),certtypeName:b.find(".cert-number").attr("cert-type-name"),seat:$(".ticket li.selected",a).find(".ticket-name span").first().text(),date:b.find(".cert-number").attr("cert-type-day"),cid:b.find(".cert-number").attr("cert-id")?parseInt(b.find(".cert-number").attr("cert-id")):null},d=I.getKey(c);L.show(0,{name:b.find(".people-name").text(),certnumber:b.find(".cert-number").attr("cert-number"),certtype:b.find(".cert-number").attr("cert-type"),date:b.find(".cert-number").attr("cert-type-day"),cid:b.find(".cert-number").attr("cert-id")},b,!1,d)},cancelSelect:function(b){$(".add-people-list div[cert-number='"+b+"']",a).parent().prev().removeClass("checked")},renderPersonList:function(b){var c=$(".user .people-list",a),e=$(".add-people-list li span.checked",a),f=$(".ticket li.selected",a),g=[],h=[],i=[];if(e.length>5){var j={content:"单张订单乘客数量不能大于5个"};return void d.alert(j)}if(e.each(function(){var a=$(this).next(),b=(a.find(".cert-number").attr("seat"),{name:a.find(".people-name").text(),certnumber:a.find(".cert-number").attr("cert-number"),certtype:a.find(".cert-number").attr("cert-type"),certtypeName:a.find(".cert-number").attr("cert-type-name"),seat:f.find(".ticket-name span").first().text(),date:a.find(".cert-number").attr("cert-type-day"),cid:a.find(".cert-number").attr("cert-id")?parseInt(a.find(".cert-number").attr("cert-id")):null});g.push(b),I.addAdult(b),"1"===a.find(".cert-number").attr("cert-type")&&(h.push({passengerName:a.find(".people-name").text(),certType:"1",certNo:a.find(".cert-number").attr("cert-number")}),i.push({key:a.find(".people-name").text(),el:$(this).parent().parent()}))}),I.refreshData(g),I.getPeopleCount()>5){var k={content:"单张订单乘客数量不能大于5个"};return void d.alert(k)}h.length>0&&!b?(c.find("li").remove(),$(I.getPeopleList()).each(function(){var a=JSON.parse(this.data),b=$(K.TEMPLATE.PEOPLELIST);b.find(".passenger-name").text(a.name),b.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),b.find(".cert-number").attr("cert-type",a.certtype),b.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),b.attr("pid",this.pid),b.attr("data-passenger-type","0"),b.attr("data-certTypeName",a.certtypeName),b.attr("data-certNumber",a.certnumber),c.append(b),b.attr("data-certType",a.certtype),b.attr("data-name",a.name),b.attr("data-date",a.date);for(var d=0;d<this.childrenCount;d++){var e=$(K.TEMPLATE.PEOPLELIST_C);e.find(".passenger-name").text(a.name),e.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),e.find(".cert-number").attr("cert-type",a.certtype),e.find(".cert-number").attr("cert-number",a.certnumber),e.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),e.attr("cid",this.pid),e.attr("data-passenger-type","1"),c.append(e)}}),B(),K.changePrice(),K.hide()):(c.find("li").remove(),$(I.getPeopleList()).each(function(){var a=JSON.parse(this.data),b=$(K.TEMPLATE.PEOPLELIST);b.find(".passenger-name").text(a.name),b.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),b.find(".cert-number").attr("cert-type",a.certtype),b.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),b.attr("pid",this.pid),b.attr("data-passenger-type","0"),b.attr("data-certTypeName",a.certtypeName),b.attr("data-certNumber",a.certnumber),b.attr("data-certType",a.certtype),b.attr("data-name",a.name),b.attr("data-date",a.date),c.append(b);var d=new Date;(d.diff(new Date(a.date),3)<30||d.diff(new Date(a.date),1)>80)&&b.find(".name").append('<span class="ins-des">不支持保险</span>');for(var e=0;e<this.childrenCount;e++){var f=$(K.TEMPLATE.PEOPLELIST_C);f.find(".passenger-name").text(a.name),f.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),f.find(".cert-number").attr("cert-type",a.certtype),f.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),f.attr("cid",this.pid),f.attr("data-passenger-type",1),c.append(f)}}),B(),A(),K.changePrice(),b||K.hide())},changePrice:function(){var b=0,c=$(".user .people-list li",a),d=$(".seat-type",a).attr("data-seat-price"),e=c.length,f=0;"1"==y&&(f=$(".user .people-list li[data-passenger-type=0]",a).length);var g=s?parseInt(s.typePrice):0,h=0,i=0,j=$(".redPacket",a).attr("data-price");return(void 0==j||""==j||0>j)&&(j=0),"0"!=v&&(h=Number($(".j-to-delivery",a).attr("data-deliverCost")),isNaN(h)&&(h=0),i=Number($(".j-to-delivery",a).attr("data-fee")),isNaN(i)&&(i=0)),b=Number(d*e)+Number(g*f)+h+Number(i*e)-Number(j),0>b&&(b=0),$(".order-bar .total div",a).first().text("￥"+b),{ticketPrice:d,passengerNumber:e,insuranceNumber:f,insprice:g,totalPrice:b,deliverCost:h,fee:i,needinsurance:y}},updateData:function(a){a?this.dateList=a:localStorage.getItem("train-orderPeopleList")&&(this.dataList=localStorage.getItem("train-orderPeopleList").split(","))},fixedWidth:function(a){var b=a.find(".people-info").width(),c=a.find(".label-checkbox").width();b>c-51&&a.find(".people-info").width(c-51)},showOnLowDevice:function(){this._isOnLowDeviceShow()&&this.page.show()},hideOnLowDevice:function(){this._isOnLowDeviceShow()&&this.page.hide()},_isOnLowDeviceShow:function(){return this.page.hasClass("page-on-center")&&q?!0:!1},_bindEvent:function(){$(".set-seat",a).on("click",function(){M.show($(".set-seat .chosen-seat",a))}),$(".person-list .to-add-people",a).on("click",function(){K.addPeople()}),$(".person-list",a).on("click","li .to-edit",K.editPeople),$(".person-list .add-passenger",a).on("click",function(){K.renderPersonList()}),$(".person-list header a",a).on("click",function(){K.hide()})}},L={elem:null,TEMPLATE:'<div class="edit-people-info page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">编辑乘客</h1></header><div class="page-content" style="z-index: 9995;"><form class="input-group "><div class="input-row button-line"><label for="order-cert-type">证件类型</label><input id="order-cert-type" type="text" class="cert-type" readonly="readonly"><div class="triangle-right-buttom"></div></div><div class="input-row button-line"><label for="order-name">乘客姓名</label><input id="order-name" type="text" class="name"><div class="triangle-right-buttom"></div></div><div class="input-row button-line"><label for="order-cert-number">证件号码</label><input id="order-cert-number" type="text" class="cert-number"><div class="triangle-right-buttom"></div></div><div class="input-row button-line" style="display:none;"><label for="order-cert-day" style="width: 100%;z-index:2;">出生日期</label><input id="order-cert-day" readonly="readonly" placeholder="请选择您的出生日期" type="text" class="cert-day" style="position:absolute;right: 0px;z-index:1"><div class="triangle-right-buttom"></div></div></form></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block add-passenger">完成</button></nav></div>',page:null,type:0,isAddToPage:!1,people:null,certTypeSelector:null,pid:null,dp:null,init:function(){this.page=$(template("order/editPeopleInfoPlugin",{})),this.page.appendTo(b.getActiveLayer());var c=$("<div>");c.appendTo(b.getActiveLayer()),L.dp=c.datepicker({confirmFn:function(b){$("#order-cert-day",a).val(b.year+"-"+b.month+"-"+b.day),L.dp.hide()},cancelFn:function(){L.dp.hide(),console.log(" this is cancel call back")}}),e.add("datepicker",L.dp),$("#order-cert-day",a).on("click",function(){var b=/^\d{4}-([1-9]|(1[0-2]))-([1-9]|([1-2][0-9]|30|31))$/;b.test($("#order-cert-day",a).val())?L.dp.show(new Date($("#order-cert-day",a).val().replace(/-/g,"/"))):L.dp.show()}),$(".edit-people-info  .add-passenger",a).on("click",function(){L.renderPeopleList(),B()}),$(".edit-people-info header a",a).on("click",function(){L.hide()}),this.certTypeSelector=$(".cert-type",a).slideSelector({title:"证件类型",data:[{value:"1",text:"身份证"},{value:"b",text:"护照"},{value:"c",text:"港澳通行证"},{value:"g",text:"台湾通行证"}],callback:function(b){$(".cert-type",a).val(b.text),$(".cert-type",a).attr("val",b.value),"1"===b.value?$("#order-cert-day",a).parent().hide():$("#order-cert-day",a).parent().show()}}),e.add("certTypeSelector",this.certTypeSelector)},beforeShow:function(b,c,d,e,f){var g=$(".edit-people-info form",a),h={1:"身份证",b:"护照",c:"港澳通行证",g:"台湾通行证"};this.type=b,this.isAddToPage=!!e,d?(g.find(".cert-type").val(h[c.certtype]),g.find(".cert-type").attr("val",c.certtype),g.find(".name").val(c.name),g.find(".cert-number").val(c.certnumber),
g.find(".cert-number").attr("cid",c.cid),g.find(".cert-day").val(c.date),g.attr("add",0),this.certTypeSelector.selectValue(c.certtype),"1"===c.certtype?$("#order-cert-day",a).parent().hide():$("#order-cert-day",a).parent().show()):(g.find(".cert-type").val(""),g.find(".name").val(""),g.find(".cert-number").val(""),g.find(".cert-day").val(""),g.attr("add",1),this.certTypeSelector.selectValue(""),$("#order-cert-day",a).parent().hide()),this.elem=d,this.people=c,this.pid=f},afterShow:function(){K.hideOnLowDevice(),q&&r.hide()},afterHide:function(){K.showOnLowDevice(),q&&r.show()},renderPersonListFn:function(b,c,d,e,f,g,h){var i=localStorage.getItem("train-orderPeopleList")?localStorage.getItem("train-orderPeopleList"):"";K.isLogin&&(i=J);var j,k,l=L.elem?L.elem:$(K.TEMPLATE.ADDLIST),m={name:b,certnumber:e,certtype:c,certtypeName:d,seat:$(".ticket li.selected",a).find(".ticket-name span").first().text(),date:f,cid:"undefined"!==h&&h?parseInt(h):null};if(I.updateData(L.pid,null,m),0===this.type)l.find(".people-name").text(b),l.find(".cert-number").text(d+"/ "+e),l.find(".cert-number").attr("cert-type-name",d),l.find(".cert-number").attr("cert-type",c),l.find(".cert-number").attr("cert-number",e),l.find(".cert-number").attr("cert-type-day",f),h&&l.find(".cert-number").attr("cert-id",h),L.elem?(j=L.people,k=j.name+"-"+j.certnumber+"-"+j.certtype+"-"+j.date,i=i.replace(k,g)):(i+=""===i?"":",",i+=g,l.insertAfter($(".person-list .add-people-list li",a).first())),K.fixedWidth(l),K.isLogin?(J=i,K.updateData(J)):(1==p.storage&&localStorage.setItem("train-orderPeopleList",i),K.updateData()),L.isAddToPage&&(l.find(".label-checkbox .checkbox").addClass("checked"),K.renderPersonList());else{var n=l.find(".people-info .cert-number"),o=$("li[cid='"+l.attr("pid")+"']",a);o.each(function(){var a=$(this).find(".people-info .cert-number");$(this).find(".passenger-name").text(m.name),$(this).find(".cert-number").text(m.certtypeName+"/ "+m.certnumber),$(this).find(".cert-number").attr("cert-type",m.certtype),$(this).find(".cert-number").attr("cert-number",m.certnumber),h&&a.attr("cert-id",h)});var q=$("li[pid='"+l.attr("pid")+"']",a);q.find(".passenger-name").text(m.name),q.find(".cert-number").text(m.certtypeName+"/ "+m.certnumber),q.find(".cert-number").attr("cert-type-name",m.certtypeName),q.find(".cert-number").attr("cert-type",m.certtype),q.find(".cert-number").attr("cert-number",m.certnumber),q.find(".cert-number").attr("cert-type-day",m.date),q.attr("data-certTypeName",m.certtypeName),q.attr("data-certNumber",m.certnumber),q.attr("data-certType",m.certtype),q.attr("data-name",m.name),h&&n.attr("cert-id",h),j=L.people,k=j.name+"-"+j.certnumber+"-"+j.certtype+"-"+j.date,i=i.replace(k,g),K.isLogin?(J=i,K.updateData(J)):(1==p.storage&&localStorage.setItem("train-orderPeopleList",i),K.updateData()),K.initList(),$(".person-list .add-people-list",a).find('[cert-number="'+e+'"]',a).parent().parent().find(".checkbox").addClass("checked")}L.hide()},renderPeopleList:function(){var b=$(".edit-people-info form",a),e=b.find(".name").val().replace("不支持保险",""),f=b.find(".cert-type").attr("val"),g=b.find(".cert-type").val(),h=b.find(".cert-number").val(),i=b.find(".cert-day").val(),j=b.find(".cert-number").attr("cid"),m=localStorage.getItem("train-orderPeopleList")?localStorage.getItem("train-orderPeopleList"):"";K.isLogin&&(m=J);var n=(L.elem?L.elem:$(K.TEMPLATE.ADDLIST),[]);void 0!=m&&null!=m&&""!=m&&(n=m.split(","));var o=!1,p=1==parseInt(b.attr("add"))?!0:!1;if(console.log(p),!f||""===f)return void d.alert("请选择证件类型");if(""===e)return void d.alert("请输入姓名");if(e.indexOf("-")>0)return void d.alert("姓名格式不正确");if(""===h)return void d.alert("请输入证件号");if("1"==f){var q=h.substring(0,h.length-1),r=h.substring(h.length-1);if(r=r.toUpperCase(),h=q+r,b.find(".cert-number").val(h),!c.idCard(h))return void d.alert("请输入正确的证件号")}else{if(void 0==i||null==i||""==i)return void d.alert("请选择出生日期");var s=Date.parseDate(i),t=(new Date).date(3),u=s.diff(t,3);if(u>0)return void d.alert("出生日期不能大于今天")}var v=0;if($.each(n,function(){var a=this.split(",")[0],b=a.split("-"),c=b[3]+"-"+b[4]+"-"+b[5];b[0]===e&&b[1]===h&&c===i&&(v++,o=!0)}),v>0)return void d.alert("不能添加重复的乘客人信息");var w=e+"-"+h+"-"+f+"-"+i;K.isLogin&&p&&!o?(k(),$.ajax({type:"post",url:"http://m.elong.com/train/trainCustomer/addCustomer",data:{name:e,ctype:f,cnumber:h,date:i},timeout:5e3,success:function(a){var b;b="object"==typeof a?a:JSON.parse(a),l(),a&&0===b.ErrorCode?L.renderPersonListFn(e,f,g,h,i,w,b.Data):d.alert(b.ErrorMessage,function(){})},error:function(a,b,c){l();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})):!K.isLogin||p||o?o?L.hide():L.renderPersonListFn(e,f,g,h,i,w):(k(),$.ajax({type:"post",url:"http://m.elong.com/train/trainCustomer/updateCustomer",data:{cid:j,name:e,ctype:f,cnumber:h,date:"1"===f?"":i},timeout:5e3,success:function(a){l();var b;b="object"==typeof a?a:JSON.parse(a),a&&0===b.ErrorCode?L.renderPersonListFn(e,f,g,h,i,w,b.Data):d.alert(b.ErrorMessage,function(){})},error:function(a,b,c){l();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}}))}},M={TEMPLATE:{BODY:'<div class="seat-type-select page-plugin"><div class="masker"></div><div class="type-items"><div class="seat-title"><span class="seat-cancel">取消</span>可选服务类型</div><div class="seat-tips">选择我要选座预订的车票，将通过快递方式送达。</div><ul></ul></div></div>',ITEM:'<li class="delivery" value="delivery" data-seat-type="1"><span class="seat-icon"></span><span class="seat-info">送票上门</span><span class="seat-tip">方便快捷更省心</span></li><li class="bottom-seat" value="bottom" data-seat-type="3"><span class="seat-icon"></span><span class="seat-info">我要下铺</span><span class="seat-tip">更大空间，更好享受</span></li><li class="bywindow-seat" value="bywindow" data-seat-type="5"><span class="seat-icon"></span><span class="seat-info">靠窗</span><span class="seat-tip">看看沿途的风景</span></li><li class="adjacent-seat" value="adjacent" data-seat-type="6"><span class="seat-icon"></span><span class="seat-info">连座/包厢</span><span class="seat-tip">在一起，才好玩</span></li><li class="normal-seat" value="inAdjacent" data-seat-type="0"><span class="seat-icon"></span><span class="seat-info">不需要</span><span class="seat-tip">我不想选座</span></li>'},init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer());var c=this.page,d=$("ul",c);this.setArea=$(".choose-seat",a),d.append($(this.TEMPLATE.ITEM)),d.on("click","li",function(){v=$(this).attr("data-seat-type"),z(),E(),K.changePrice(),M.hide()}),$(".seat-cancel",a).on("click",function(){M.hide()})},beforeShow:function(b){var c=$(".seat-type-select li",a);c.hide();var d=JSON.parse($("#sendTicketList",a).val());d.push("0"),d.forEach(function(a){c.each(function(b,c){var d=$(c);d.attr("data-seat-type")==Number(a)&&d.show()})});b.attr("value");this.elem=b,$(".seat-type-select li",a).removeClass("selected"),$('.seat-type-select li[data-seat-type="'+v+'"]',a).addClass("selected")}},N={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){N.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).text()},e=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);e.done(function(a){setTimeout(function(){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)},1e3)}),e.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),N.show()})},afterShow:function(){q&&r.hide()},afterHide:function(){q&&r.show()}},O={TEMPLATE:'<div class="des-page page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">取票退票退保规则</h1></header><div class="page-content" style="padding:50px 10px"><span>1、取票</span><div style="height:10px"></div>1）确认出票成功后，您需携带预订时使用的有效身份证件前往火车站售票窗口、铁路客票代售点或车站自动售取票机上换取纸质车票，部分高铁动车车次支持刷二代身份证直接检票乘车。<br>2）二代身份证无法自动识别或者使用其他有效身份证购买的，需出示乘车人有效身份证原件和窗口取票号（短信中以大写字母E开头的号码）到车站窗口或代售点办理换票手续。<br>3）代售点收取代售费5元/张。另外车站售票窗口取异地票，火车站将收取代售费5元/张，此项收费与艺龙无关。<br>4）暂无配送服务。<br><div style="height:10px"></div><span>2、改签</span><div style="height:10px"></div>1）艺龙暂不提供改签服务，需您自行携带购票时使用的有效证件原件和火车票。在火车发车前前去始发地火车站窗口办理。如果改签过程中产生的应退票款，我们将会在3-20个工作日内原渠道退还。<br>2）特别提示：铁路局规定车票只能改签一次，且必须是目的地城市相同的车票。自2014年12月3日起，铁路客票延长预售期。客票预售期延长至60天后，开车前48小时（不含）以上，可改签预售期内的其他列车；开车前48小时以内，可改签开车前的其他列车，也可改签开车后至票面日期当日24:00之间的其他列车，不办理票面日期次日及以后的改签；开车之后，旅客仍可改签当日其他列车，但只能在票面发站办理改签。已经改签的车票不能再次改签，但可在改签后车票载明的列车开车前退票。<br><div style="height:10px"></div><span>3、退票</span><div style="height:10px"></div>1）订单已出票且未换取纸质车票，在发车前3小时可以在“火车票订单”中在线申请退票。我们在线退票处理时间是7:00-23:00。非工作时间或者已取票的乘客，如需退票，请凭购票时的有效证件在发车前到火车站退票窗口办理退票。<br>2）根据铁路局退票规定：自2014年12月3日起，铁路客票延长预售期；客票预售期延长至60天后，对开车前15天（不含）以上退票的，不收取退票费。距离票面乘车站开车时间15天（含）以内、48小时以上的按票价5%计；24小时以上、不足48小时的按票价10%计；不足24小时的按票价20%计。并按照最低2元/张收取退票费。如果改签后的车票乘车日期在春运（即2015年2月4日至3月15日）期间的，退票时一律收取20%的退票费。最终退款以铁路局实退为准。<br><div style="height:10px"></div><span>4、到账说明：</span><div style="height:10px"></div><span style="color:Red">由于各铁路局相关政策、火车票票源紧张等原因，支付后无法保证100%出票成功。</span><br>1）无票或取消订单退款到帐说明：退款到帐时间约为3-21天；应退票款按银行规定时限退还至购票时所使用的银行卡（原渠道返还），请注意查收。<br>2）特别注意事项：若您看到订单状态为“已退款”但久未收到退款，由于退款涉及个人帐号隐私，请您凭当时支付的交易号咨询支付平台客服热线。支付宝平台客服热线：95188(7*24小时服务，需支付交易号)<br>3）如需退票报销凭证，请凭购票所使用的乘车人有效身份证件原件和订单号码在办理退票之日起10日到车站退票窗口索取。<br><div style="height:10px"></div><span>5、退保</span><div style="height:10px"></div>1) 线上退票：如需退保，请您于该次列车正常时间出发前3小时（含），登陆艺龙网站（www.elong.com）或手机客户端申请退火车票的同时退订本保险产品。退保成功后，保费将退回至原支付帐户。<br>2) 窗口退票：如需退保，请您于该次列车正常时间出发前3小时（含），及时致电艺龙客服（4009333333）申请退保。否则将按照原车次信息生效。</div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),$(".des",a).on("click",function(){O.show()}),$(".des-page header a",a).on("click",function(){O.hide()})}},P={TEMPLATE:'<div class="des-page page-on-right page-plugin inSurej" style="background:#000;color:#FFF;opacity: 0.8;"><header class="bar bar-nav" style="background:#000;color:#FFF;"><a class="icon icon-left-nav pull-left" style=""></a><h1 class="title">火车票交通意外险</h1></header><div class="page-content  page-content-inSure" style="padding:50px 10px;background: #000;">1. 艺龙提供交通意外险的产品和服务，是联合平安财产保险股份有限公司、新华人寿保险股份有限公司推出了全电子保单形式的艺龙铁路乘客意外险。<br>2. 保险保费：￥20元人民币/人；保额：最高赔付￥80万元人民币（未满18周岁投保最高赔付不超过10万）。<br>3. 保障范围：被保险人每次以乘客身份乘坐合法商业运营的客运火车，并遵守承运人关于安全乘坐的规定，自持有效车票检票并进入所乘客运火车车厢时起至抵达车票载明的终点离开所乘客运火车车厢的期间内遭受意外伤害所导致的保险责任。<br>4. 份数限制：18周岁(含)以上每人每车次限购1份。<br>5. 保险对象：凡零周岁（出生满30天）以上且80周岁以下的旅客，均可以作为被保险人。<br><div style="height:10px"></div><span>6. 退保</span><div style="height:10px"></div>1) 线上退保：在该次列车正常时间出发前3小时(含)，用户可在线申请退火车票的同时退订本保险产品; <br >2)线下退保：在该次列车正常时间出发前3小时之后，用户在火车站退票的，请及时通知我司客服(400-689-9617)申请退保。否则将按照原车次信息生效。<br >7. 改签：用户在火车站改签后，请及时致电保险公司客服电话进行报备。如没有及时通知，保险还是原车次生效，一旦出险，后果自行承担。<br >8.咨询：产品详细条款可分别致电保险公司客服电话进行垂询。保险公司网站及客服电话分别为：平安财产网站(www.pingan.com)、客服电话(95511)，新华人寿网站(www.newchinalife.com)、客服电话(95567)。具体投保公司请根据您接收短信里面购买的保险公司为准。 </div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),$(".des-page header a",a).on("click",function(){P.hide()})}},Q={TEMPLATE:'<div class="insurance-wrapper page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">保险</h1></header><ul class="insure-body"><li data="1" class="active"><div class="insure-name"><span class="insureName">{insureName}</span><span class="insure-illustrates"></span><span>20元/份</span></div><div class="insure-info">推荐选择，安全出行，最高保额80万</div></li><li data="0"><div class="insure-name">不购买保险</div><div class="insure-info">普通购票，预订人数较多时可能会排队</div></li></ul><p class="insure-remind">当前购票人数较多，建议您选择保险，快速出票， 出行有保障</p><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block filled">确定</button></nav></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.insuranceObj=s;var c=this.page,d=c.find(".insure-body");c.find(".icon-back").on("click",function(){Q.hide()}),c.find(".filled").on("click",function(){y=d.find(".active").attr("data"),B(),K.changePrice(),Q.hide()}),$(".forInsure",a).on("click",function(){Q.show(),d.find(".insureName").text(s.name),d.find("li[data="+y+"]").click()}),d.on("click","li",function(){$(this).addClass("active").siblings().removeClass("active")}),c.find(".insure-illustrates").on("click",function(){e.add("inuresTip",P),P.show()})}},R={TEMPLATE:'<div class="add-post-addresses page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title" style="margin-bottom:13px;">新建邮寄地址</h1></header><div class="page-content"><div class="info-row" margin-top:10px;"><label for="add-post-name">姓名：</label><input id="add-post-name" type="text" class="add-post-name"></div><div class="info-row"><label for="add-post-address">地址：</label><input id="add-post-address" type="text" class="add-post-address" placeholder="请输入正确的地址,以方便邮寄"></div></div><nav class="bar bar-tab"><button class="btn btn-block btn-primary confirm">确定</button></nav></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var a=this.page;this.updateType=0,this.updateId=0,a.on("click",".confirm",$.proxy(this.confirm_click,this)),a.on("click",".icon",function(){R.hide()})},validateData:function(a,b){if(""===a)return void d.alert("请输入姓名");if(""===b)return void d.alert("请输入邮寄地址");var c=D(),e=!0;return c.forEach(function(c){c.name==a&&c.addressContent==b&&(e+=!1)}),e?!0:(d.alert("请勿添加重复的地址信息"),!1)},beforeShow:function(a,b,c,d){this.updateType=a;var e=this.page.find(".add-post-name"),f=this.page.find(".add-post-address");"0"==a?(e.val(""),f.val("")):(e.val(c),f.val(d),this.updateId=b)},confirm_click:function(){var b=this.page,c=b.find(".add-post-name").val(),d=b.find(".add-post-address").val();if(this.validateData(c,d)){var e='<label class="label-radio" data-group="order_receipt"  data-id="0" data-name="'+c+'" data-address="'+d+'"><span class="new-name">'+c+'</span><span class="new-address-t">地址:</span><span class="new-address">'+d+'</span><div class="checkbox"></div><div class="edit-address"></div></label>',f=$(".post-address",a),g=f.html();f.html(e+g),0==this.updateType?this.insertData(c,d):this.updateData(c,d),R.hide()}},insertData:function(a,c){var e=this;if(h()){var f={name:a,content:c},g=$.post("http://m.elong.com/train/trainAddress/saveInsuranceAddress",f);g.done(function(a){a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(e.hide(),S.renderReceiptAddress(a.Data)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})}).fail(function(a){console.log(a)})}else{var i=D();i.push({id:0,addressContent:c,name:a}),1==p.storage&&localStorage.setItem("postAddress",JSON.stringify(i))}},updateData:function(a,c){var e=this;if(h()){var f={id:this.updateId,name:a,content:c},g=$.post("http://m.elong.com/train/trainAddress/updateInsuranceAddress",f);g.done(function(a){a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(e.hide(),S.renderReceiptAddress(e.updateId)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})})}else{var i=D();i.push({id:0,addressContent:c,name:a}),1==p.storage&&localStorage.setItem("postAddress",JSON.stringify(i))}}},S={TEMPLATE:'<div class="receipt-wrapper page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">保险发票</h1></header><div class="page-content"><ul class="receipt-body"><li class="active">不需要保险发票</li><li>需要保险发票</li></ul><div class="receipt-address"><p class="insure-remind">发票将在您出行后第二个工作日内使用平邮方式寄出，预计15个工作日内送达；发票统一为定额发票，仅作报销凭证，不可作为保单凭证。</p><p class="add"><span>邮寄地址</span><span class="add-new-address">新增邮寄地址<b>+</b></span></p><div class="post-address clearfix"></div></div></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block filled">完成</button></nav></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var c=this.page,d=c.find(".receipt-body"),f=$(".forReceipt",a);this.plugins=e.plugins.order,f.on("click",function(){S.show()}),c.on("click",".icon-back",function(){S.hide()}),c.on("click",".filled",$.proxy(this.filled_click,this)),d.on("click","li",function(){var a=c.find(".receipt-address");S.needReceipt=$(this).index(),$(this).addClass("active").siblings().removeClass("active"),0==S.needReceipt?a.hide():a.show()}),c.on("click",".add-new-address",function(){R.show(0,0)}),c.on("click",".edit-address",$.proxy(this.editAddress_click,this)),this.renderReceiptAddress()},getAddressAjaxData:function(){var a=$.Deferred();if(console.log(h()),h()){var b=$.post("http://m.elong.com/train/trainAddress/getInsuranceAddresses");b.done(function(b){b="object"==typeof b?b:JSON.parse(b),0===b.ErrorCode?(b="object"!=typeof b.Data?JSON.parse(b.Data):b.Data,a.resolve(b)):a.resolve([])})}else a.resolve([]);return a.promise()},getLocalData:function(){var a=$.Deferred(),b=D();return a.resolve(b),a.promise()},renderReceiptAddress:function(b){$.when(this.getAddressAjaxData(),this.getLocalData()).then(function(c,d){var e=c;d.forEach(function(a){var b=!0;c.forEach(function(c){c.name==a.name&&c.addressContent==a.addressContent&&(b+=!1)}),b&&e.push(a)});var f=$(".post-address",a),g=[];if(e.forEach(function(a){var b='<label class="label-radio" data-group="order_receipt" data-id="'+a.id+'" data-name="'+a.name+'" data-address="'+a.addressContent+'"><span class="new-name">'+a.name+'</span><span class="new-address-t">地址:</span><span class="new-address">'+a.addressContent+'</span><div class="checkbox"></div><div class="edit-address"></div></label>';g.push($(b))}),f.html(g),void 0!=b){var h=f.find("label[data-id="+b+"]");$(":radio",f).prop("checked",!1),$(":radio",h).prop("checked",!0)}})},filled_click:function(){var b,c,e,f=this.page,g=(f.find(".receipt-body"),$(".forReceipt",a));if(S.needReceipt){var b=null;if($(".label-radio",f).each(function(){$(this).find(".checked").length>0&&(b=$(this))}),!b)return void d.alert("请选择邮寄地址");c=b.find(".new-name").text(),e=b.find(".new-address").text(),g.find(".need-receipt").text("需要").attr("data-name",c).attr("data-address",e).attr("data-needReceipt",1)}else g.find(".need-receipt").attr("data-needReceipt",0).text("不需要");S.hide()},editAddress_click:function(a){var b=$(a.currentTarget),c=b.parents(".label-radio").eq(0),d=c.attr("data-id"),e=c.attr("data-name"),f=c.attr("data-address");R.show(1,d,e,f)}},T={TEMPLATE:'<div class="delivery-address page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">配送地址</h1></header><div class="page-content"><div class="delivery-body"><label class="delivery-name"><span>收件人</span><input class="delivery_name" placeholder="请填写收件人姓名" type="text"/></label><label class="delivery-region"><span>配送区域</span><input readonly class="delivery_region" placeholder="请选择配送区域" type="text"/></label><label><span>详细地址</span><input class="delivery_street" placeholder="请填写详细地址" type="text"/></label></div><p style="padding: 5px 10px;">我要选座服务预售期一般为58天，超过58天的会在预售期开始后第一时间出票。</p></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block filled">完成</button></nav><div class="delivery-tips"><div class="delivery-masker"></div><div class="delivery-detail"><p class="delivery-title">配送地址说明</p><p class="delivery-info">1、我们根据您的配送地址送票上门，不在选择范围内的地区请勿下单，如区域错误导致无法配送，责任自行承担。<br/>2、车站、机场、旅游度假区、岛屿、党政机关、部队、军事基地、偏远乡村暂不提供送票上门服务。</p></div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var c=$(".delivery-address",a),f=localStorage||null;this.wrapper=c,this.selectedArea={},this.plugins=e.plugins.order,$(".to-delivery",a).on("click",function(){if(T.show(),T.plugins.hasOwnProperty("deliveryRegionPickPro")||e.add("deliveryRegionPickPro",U),U.show||e.add("deliveryRegionPickPro",U),f.getItem("deliveryCityList")){var a=f.getItem("deliveryCityList");a=JSON.parse(a),T.renderCity(a)}else $.ajax({type:"post",url:"http://m.elong.com/train/trainAddress/queryDeliveryCity",timeout:5e3,success:function(a){console.log(a),a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(a="object"!=typeof a.Data?JSON.parse(a.Data):a.Data,T.renderCity(a),a=JSON.stringify(a),f.setItem("deliveryCityList",a)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})},error:function(a,b,c){var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})}),$(".icon-back",c).on("click",function(){T.hide()}),$(".filled",c).on("click",function(){T.saveDeliveryAddress()}),$(".delivery_region",c).on("click",function(){U.show()}),$(".delivery-region span",c).on("click",function(){$(".delivery-tips",c).addClass("deli-show")}),$(".delivery-tips",c).on("click",function(){$(this).removeClass("deli-show")})},renderCity:function(b){var c,d=b.provinceList,e=d.length,f=$(".regions",a),g="";for(c=0;e>c;c++)g+='<li class="dr-item prov-item" data="'+d[c].provinceId+'"">'+d[c].provinceName+"</li>";f.html(g),f.on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");var b=a.attr("data"),c=null;T.selectedArea.prov=b,T.selectedArea.provName=a.text();for(var f=0;e>f;f++)d[f].provinceId==b&&(c=d[f].cityList);T.showDeliveryRegionCity(c)})},saveDeliveryAddress:function(){var c=this.wrapper,e=$(".delivery_name",c).val(),f=$(".delivery_region",c).val(),g=$(".delivery_street",c).val(),h=T.selectedArea,i=$("#ticketTime",a).val();return e&&g?(n.startLoading(),void $.ajax({type:"post",url:"http://m.elong.com/train/trainAddress/getDeliveryByAreaId",timeout:"10000",data:{areaId:h.area,ticketTime:i},success:function(c){if(n.stopLoading(),c="object"==typeof c?c:JSON.parse(c),0===c.ErrorCode){c=JSON.parse(c.Data);var i={receiver:e,details:g,areaInfo:{provinceId:h.prov,provinceName:h.provName,cityId:h.city,cityName:h.cityName,areaId:h.area,areaName:h.areaName}},j=JSON.stringify(i);console.log(j),$(".delivery-to",a).attr("data-address",j),$(".delivery-to",a).show().text("配送至："+f+g),$(".post-tips",a).text(f+g),c.deliverDescription&&""!=c.deliverDescription&&$(".deliveryInfo",a).text(c.deliverDescription).show(),$(".j-to-delivery",a).attr("data-deliverCost",c.deliverCost).attr("data-fee",c.fee),K.changePrice(),T.hide()}else d.alert({container:b.getActiveLayer(),content:c.ErrorMessage})},error:function(a,b,c){n.stopLoading();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})):void d.alert("您的配送信息不完整！")},showDeliveryRegionCity:function(b){V.show||e.add("deliveryRegionPickCity",V),V.show();var c,d=b,f=d.length,g=$(".citys",a),h="";for(c=0;f>c;c++)h+='<li class="dr-item prov-item" data="'+d[c].cityId+'"">'+d[c].cityName+"</li>";g.html(h),g.off("click").on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");for(var b=a.attr("data"),c=null,e=T.selectedArea,g=0;f>g;g++)d[g].cityId==b&&(c=d[g].areaList);e.city=b,e.cityName=a.text(),T.showDeliveryRegionArea(c)})},showDeliveryRegionArea:function(b){W.show||e.add("deliveryRegionPickArea",W),W.show();var c,d=b,f=d.length,g=$(".areas",a),h="";for(c=0;f>c;c++)h+='<li class="dr-item prov-item" data="'+d[c].areaId+'"">'+d[c].areaName+"</li>";g.html(h),g.off("click").on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");var b=a.attr("data");T.selectedArea.area=b,T.selectedArea.areaName=a.text(),T.renderAddress()})},renderAddress:function(){var a="",b=T.selectedArea;a=b.provName+b.cityName+b.areaName,T.wrapper.find(".delivery_region").val(a),W.hide(),U.hide(),V.hide()}},U={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list regions"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){U.hide()})}},V={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list citys"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){V.hide()})}},W={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list areas"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){W.hide()})}},X={TEMPLATE:{BODY:'<div class="addChild-page"><div class="addChild-title">使用成人证件购买儿童票,请选择</div><ul></ul></div>',ADDLIST:"<li>${name}</li>",PEOPLELIST:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>'},page:$(".addChild-page",a),option:{showType:"transition",transitionClass:"addChild-page-active"},init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),this.page.on("click touchstart pointerdown",function(a){}),$(".addChild-page",a).on("click","ul li",function(){var b=I.getPeopleItem($(this).attr("pid")),c=$(this).attr("pid");if(b){var d=JSON.parse(b.data),e=$("li[pid='"+c+"']",a)?$("li[pid='"+c+"']",a):$(".user .people-list",a),f=$(X.TEMPLATE.PEOPLELIST);f.find(".passenger-name").text(d.name),f.find(".cert-number").text(d.certtypeName+"/ "+d.certnumber),f.find(".cert-number").attr("cert-type",d.certtype),f.find(".cert-number").attr("cert-number",d.certnumber),f.attr("cid",b.pid),f.attr("data-passenger-type",1),$("li[pid='"+c+"']",a)?e.after(f):e.append(f),K.changePrice(),I.addChild(b.pid,1)}X.hide()})},beforeShow:function(){k(),$(".mask-layer",a).unbind("click").on("click",function(b){l(),$(".addChild-page ul li",a).remove(),X.hide(),b.preventDefault(),b.stopPropagation()});var b=[],c=$(".people-list li",a);c.each(function(){var a=($(this).find(".people-info"),$(this));"0"===$(this).attr("data-passenger-type")&&b.push({name:a.attr("data-name"),certType:a.attr("data-certType"),certNumber:a.attr("data-certNumber"),certText:a.attr("data-certTypeName"),seatName:$(this).find(".seat").text(),seatCode:$(this).find(".seat").attr("code"),pid:$(this).attr("pid"),type:a.attr("data-passenger-type")})}),$(b).each(function(){var b=$(X.TEMPLATE.ADDLIST.replace("${name}",this.name));b.attr("pid",this.pid),$(".addChild-page ul",a).append(b)})},beforeHide:function(){l(),$(".mask-layer",a).unbind("click"),$(".addChild-page ul li",a).remove()},afterShow:function(){},afterHide:function(){}},Y={TEMPLATE:{BODY:'<div class="totalPriceDes-page"></div>',CONTENT:'<ul><li><span class="left">${seat} (共${seatCount}人)</span><span class="right">￥ <span class="price">${seatPrice}</span><span></li><li data-type="insurance"><span class="left">保险 (共${insCount}份)</span><span class="right">￥<span class="price">${insPrice}</span><span></li><li data-type="sendTicket"><span class="left">配送费</span><span class="right">￥ <span class="price">${deliverCost}</span><span></li><li data-type="sendTicket"><span class="left">代购费 (共${seatCount1}人)</span><span class="right">￥ <span class="price">${fee}</span><span></li><li data-type="redPacket"><span class="left">红包</span><span class="right">￥ <span class="price">-${redPacketPrice}</span><span></li></ul><div class="total">总额：￥<span class="price">${totalPrice}</span></div>'},page:$(".totalPriceDes-page",a),option:{showType:"transition",transitionClass:"totalPriceDes-page-active"},IsShow:!1,init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),$(".totalPriceDes-page",a).on("click",function(){Y.hide()}),$(".order-detail",a).on("click",function(){console.log("clicked"),Y.IsShow?Y.hide():Y.show()})},beforeShow:function(){k(),$(".mask-layer",a).unbind("click").on("click",function(a){l(),Y.hide(),a.preventDefault()}),$(".totalPriceDes-page ul",a).remove(),$(".totalPriceDes-page div",a).remove();var b=K.changePrice(),c=$(".seat-type-wrap .seat-type",a).text(),d=Number($(".redPacket").attr("data-price"));isNaN(d)&&(d=0);var e=this.TEMPLATE.CONTENT;e=e.replace("${seat}",c),e=e.replace("${seatCount}",b.passengerNumber),e=e.replace("${seatCount1}",b.passengerNumber),e=e.replace("${seatPrice}",b.ticketPrice*b.passengerNumber),e=e.replace("${insCount}",b.insuranceNumber),e=e.replace("${insPrice}",b.insprice*b.insuranceNumber),e=e.replace("${totalPrice}",b.totalPrice),e=e.replace("${deliverCost}",b.deliverCost),e=e.replace("${fee}",b.fee*b.passengerNumber),e=e.replace("${redPacketPrice}",d);var f=$(e);0==v?$('[data-type="sendTicket"]',f).hide():$('[data-type="sendTicket"]',f).show(),0==y?$('[data-type="insurance"]',f).hide():$('[data-type="insurance"]',f).show(),0==d?$('[data-type="redPacket"]',f).hide():$('[data-type="redPacket"]',f).show(),this.page.append(f),$(".total",a).parent().attr("style","z-index:11010;"),Y.IsShow=!0},beforeHide:function(){l(),$(".mask-layer",a).unbind("click"),Y.IsShow=!1,$(".total",a).parent().removeAttr("style")}};e.add("addPeople",K),e.add("editPeopleInfo",L),e.add("siteList",M),e.add("stationTimeList",N),e.add("desPage",O),e.add("addChild",X),e.add("totalPriceDes",Y),e.add("deliveryAddress",T),e.add("insurance",Q),e.add("receipt",S),e.add("addPostAddress",R),$(".check-box",a).on("click",function(){console.log("click");var b=$(this).find(".checkbox"),c=$(".ticket li.selected",a);if(b.hasClass("checked")){var e=$(this).find(".people-info"),f={name:e.find(".people-name").text(),certnumber:e.find(".cert-number").attr("cert-number"),certtype:e.find(".cert-number").attr("cert-type"),certtypeName:e.find(".cert-number").attr("cert-type-name"),seat:c.find(".ticket-name span").first().text()},g=I.getPeopleItemByData(f);g&&g.childrenCount>0?d.confirm({content:'移除 "'+f.name+'" 将同步移除与其同行的所有儿童票,是否确定该操作',success:function(){b.removeClass("checked")}}):b.removeClass("checked")}else b.addClass("checked");return!1})})}),define("src/js/dialog",["../fw/core","../js/PluginManager"],function(a,b){var c=($('<div class="dialog"></div>'),$("html")),d=function(){},e=function(){};e.prototype={init:function(){this.page=$('<div class="dialog"></div>')},config:{content:"请选择相应的操作",btnArr:[{}],mask:!0,clickMask:function(){}},isShow:!1,option:{showType:"transition",transitionClass:"dialog-active",showTransition:!0},beforeShow:function(a,b){c.hasClass("android")&&c.css("overflow","hidden"),b?this.showRadio(a):this.showDialog(a)},handleRepeatShow:function(){this.isShow?b.showPluginNum--:(this.isShow=!0,b.showAdvancedLoad())},showDialog:function(b){for(var c=$.extend(this.config,b),d="",e=this,f=0;f<c.btnArr.length;f++)d+=b.btnArr.length>1?'<div class="item-btn item-btn'+b.btnArr.length+'">'+c.btnArr[f].text+"</div>":'<div class="item-btn">'+c.btnArr[f].text+"</div>";this.handleRepeatShow(),$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){c.clickMask()}),
this.page.html('<div class="content">'+c.content+"</div>"+d),this.page.find(".item-btn").each(function(a){""!==c.btnArr[a].color&&$(this).css("background",c.btnArr[a].color),""!==c.btnArr[a].tinct&&$(this).css("color",c.btnArr[a].tinct),"button"==c.btnArr[a].type&&$(this).on("click",function(){var b=c.btnArr[a].click();b!==!1&&e.hide()})})},showRadio:function(c){var d=$.extend({title:"请选择一项",defaultSelected:1,defaultIdSelected:"",radioArr:[{}],success:function(){},cancel:function(){},maskClosed:!1,mask:!0,clickMask:function(){}},c),e="",f="",g="",h="",i=this,j=this.page;if(d.radioArr.length>0)for(var k=0;k<d.radioArr.length;k++)e+='<li class="radio-item"><label class="label-radio clearfix"><div class="radio-icon"><span class="radio"></span></div><div class="radio-text" data-rid="'+d.radioArr[k].id+'">'+d.radioArr[k].text+"</div></label></li>";if(b.showAdvancedLoad(),$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){d.clickMask()}),d.maskClosed&&$(a.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){i.hide()}),c.success&&(f='<div class="item-btn radio-success" data-selected="">确定</div>'),c.cancel&&(g='<div class="item-btn radio-cancel">取消</div>'),j.html('<div class="radio-title">'+d.title+"</div><ul>"+e+"</ul>"+f+g),j.find("ul li").each(function(a){d.radioArr[a].click&&$(this).on("click",function(){var b=$(this);d.radioArr[a].click(b),i.hide()})}),""!==d.defaultIdSelected)j.find('[data-rid="'+d.defaultIdSelected+'"]').parents("li").find(".radio").addClass("selected");else if(d.defaultSelected>0){var l=j.find("li").eq(d.defaultSelected-1);l.find(".radio").addClass("selected"),j.find(".radio-success").data("selected",l.find(".radio-text").data("rid"))}d.radioArr.length>0&&j.find(".label-radio").on("click",function(){$(this).parent().siblings().find(".radio").removeClass("selected"),$(this).find(".radio").addClass("selected"),h=$(this).find(".radio-text").data("rid"),j.find(".radio-success").data("selected",h)}),c.success&&j.find(".radio-success").on("click",function(){var a=$(this);d.success(a),i.hide()}),c.cancel&&j.find(".radio-cancel").on("click",function(){d.cancel(),i.hide()})},afterHide:function(){$(a.getActiveLayer()).off("click",".advanced-mask-layer"),c.hasClass("android")&&c.css("overflow",""),this.isShow=!1,b.removeAdvancedLoad()}};var f={currentPageDialog:null,init:function(c){this.currentPageDialog=b.getItem("dialog"),this.currentPageDialog?this.currentPageDialog.page.parentElement||this.currentPageDialog.restore(a.getActiveId()):(this.currentPageDialog=new e,b.add("dialog",this.currentPageDialog)),c&&setTimeout(c,10)},show:function(a){var b=this;this.init(function(){b.currentPageDialog.show(a)})},radioShow:function(a){var b=this;this.init(function(){b.currentPageDialog.show(a,!0)})},alert:function(a,b){"object"==typeof a&&(opt=a,a=opt.content,b=opt.click);var c={content:a,btnArr:[{text:"确 定",color:"#E65749",type:"button",click:b||d}]};f.show(c)},newAlert:function(a){var b=$.extend({msg:"请选择相应的操作",btnText:"确 定",callback:function(){}},a),c={content:b.msg,btnArr:[{text:b.btnText,color:"#E65749",type:"button",click:b.callback}]};f.show(c)},confirm:function(a){a.success||(a.success=function(){}),a.cancel||(a.cancel=function(){});var b={content:a.content,text:a.text?a.text:["确定","取消"],btnArr:[{text:a.text&&a.text[0]?a.text[0]:"确定",color:"#fff",tinct:"#e65749",type:"button",click:a.success},{text:a.text&&a.text[1]?a.text[1]:"取消",color:"#e65749",type:"button",click:a.cancel}]};f.show(b)},moreconfirm:function(a){a.first||(a.first=function(){}),a.second||(a.second=function(){}),a.third||(a.third=function(){});var b={content:a.content,text:a.text,btnArr:[{text:a.text[0],color:"#fff",tinct:"#e65749",type:"button",click:a.first},{text:a.text[1],color:"#fff",tinct:"#e65749",type:"button",click:a.second},{text:a.text[2],color:"#fff",tinct:"#e65749",type:"button",click:a.third}]};f.show(b)},superconfirm:function(a){a.cancel||(a.cancel=function(){});var b={content:a.content,btnArr:[{text:"取 消",color:"#757575",type:"button",click:a.cancel}]};if(a&&a.btnArr)for(var c=a.btnArr.length-1;c>=0;c--){var d=a.btnArr[c];b.btnArr.unshift({text:d.name,color:"#E65749",type:"button",click:d.event})}f.show(b)},radiocomfirm:function(a){f.radioShow(a)}};return f}),define("entry/train/js/login",["src/js/common","src/js/core","src/js/dialog"],function(a,b,c){b.onrender("login",function(a){function d(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return null!==c?unescape(c[2]):null}var e=!1,f=59,g=null;a.addEventListener("beforeshow",function(a){"login"===a.detail&&(console.log("this! login!"),clearInterval(g),g=null,e=!1,f=59,$(".secondtext").hide().html("60s"),$(".sendbtn").removeClass("disable"),$(".view input[name='mobileno']").val(""),$(".view input[name='smscode']").val(""))}),$(".view input[name='mobileno']").on("input",function(){$(this).val().length>11&&$(this).val($(this).val().substr(0,11))}),$(".sendbtn").on("click",function(){var a=$(".view input[name='mobileno']").val();if(""===a)return void c.alert({content:"手机号不能为空！"});var b=/1[3|5|7|8|][0-9]{9}/;return b.test(a)?void(e||(e=!0,$(this).addClass("disable"),$.post("/guestLogin/getCheckCode",{mobile:$(".view input[name='mobileno']").val()},function(a){a&&""===a.errorCode||c.alert({content:a.errorMessage})},"json"),g=setInterval(function(){f>=0?($(".secondtext").show().html(f+"s"),f--):(clearInterval(g),g=null,e=!1,f=59,$(".secondtext").hide().html("60s"),$(".sendbtn").removeClass("disable"))},1e3))):void c.alert({content:"请输入正确的手机号！"})}),$(".login button").on("click",function(){var a={code:$(".view input[name='smscode']").val(),mobile:$(".view input[name='mobileno']").val()};if(""===a.mobile)return c.alert({content:"手机号不能为空!"}),!1;var e=/1[3|5|7|8|][0-9]{9}/;return e.test(a.mobile)?""===a.code?(c.alert({content:"请输入验证码!"}),!1):void(a.code&&a.mobile&&$.post("/guestLogin/verifyCheckCode",a,function(e){if(e&&""===e.errorCode){var f=d("RedirectUrl");f?window.location.href=f:b.addPager({url:b.router.getUrlFromTpl("orderlist")+"?mobile="+a.mobile,active:!0})}else c.alert({content:e.errorMessage})},"json")):void c.alert({content:"请输入正确的手机号！"})})})}),function(a){"use strict";var b,c=a.Base64,d="2.1.9";if("undefined"!=typeof module&&module.exports)try{b=require("buffer").Buffer}catch(e){}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(f),h=String.fromCharCode,i=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?h(192|b>>>6)+h(128|63&b):h(224|b>>>12&15)+h(128|b>>>6&63)+h(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return h(240|b>>>18&7)+h(128|b>>>12&63)+h(128|b>>>6&63)+h(128|63&b)},j=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,k=function(a){return a.replace(j,i)},l=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),d=[f.charAt(c>>>18),f.charAt(c>>>12&63),b>=2?"=":f.charAt(c>>>6&63),b>=1?"=":f.charAt(63&c)];return d.join("")},m=a.btoa?function(b){return a.btoa(b)}:function(a){return a.replace(/[\s\S]{1,3}/g,l)},n=b?function(a){return(a.constructor===b.constructor?a:new b(a)).toString("base64")}:function(a){return m(k(a))},o=function(a,b){return b?n(String(a)).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):n(String(a))},p=function(a){return o(a,!0)},q=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),r=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return h((c>>>10)+55296)+h((1023&c)+56320);case 3:return h((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return h((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},s=function(a){return a.replace(q,r)},t=function(a){var b=a.length,c=b%4,d=(b>0?g[a.charAt(0)]<<18:0)|(b>1?g[a.charAt(1)]<<12:0)|(b>2?g[a.charAt(2)]<<6:0)|(b>3?g[a.charAt(3)]:0),e=[h(d>>>16),h(d>>>8&255),h(255&d)];return e.length-=[0,0,2,1][c],e.join("")},u=a.atob?function(b){return a.atob(b)}:function(a){return a.replace(/[\s\S]{1,4}/g,t)},v=b?function(a){return(a.constructor===b.constructor?a:new b(a,"base64")).toString()}:function(a){return s(u(a))},w=function(a){return v(String(a).replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(){var b=a.Base64;return a.Base64=c,b};if(a.Base64={VERSION:d,atob:u,btoa:m,fromBase64:w,toBase64:o,utob:k,encode:o,encodeURI:p,btou:s,decode:w,noConflict:x},"function"==typeof Object.defineProperty){var y=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};a.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",y(function(){return w(this)})),Object.defineProperty(String.prototype,"toBase64",y(function(a){return o(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",y(function(){return o(this,!0)}))}}a.Meteor&&(Base64=a.Base64)}(this),define("entry/train/js/base64",function(){}),define("entry/train/js/orderlist",["src/js/common","src/js/core","entry/train/js/dialog","entry/train/js/base64"],function(a,b,c){b.onrender("orderlist",function(a){function d(a,d){var f=$("[data-gorder-id="+a+"]"),h=$.post("http://m.elong.com/train/trainOrder/cancelorder",{orderId:f.attr("data-order-id"),gorderId:f.attr("data-gorder-id"),isNeedLogin12306:f.attr("data-need-login-12306")});h.done(function(a){var f;if(f="object"==typeof a?a:JSON.parse(a),0===f.ErrorCode)g.reload(g.url);else{if(-18===f.ErrorCode)return e(d),!1;if(-19===f.ErrorCode)return e(d),!1;c.alert({container:b.getActiveLayer(),content:f.ErrorMessage})}})}function e(a){var c=b.getHash("gorderId"),d=b.router.getUrlFromTpl("orderlist")+"?gorderId="+c;d=Base64.encodeURI(d);var e=b.router.getUrlFromTpl("login12306")+"?RedirectUrl="+d+"&trainUserName="+a;b.get("order12306")&&b.get("order12306").destroy(),b.addPager({url:e,active:!0})}try{ElongApp.dismissLoading()}catch(f){}var g=this,h=$("#sysHidden",a).val();h=h?JSON.parse(h):{siteName:"train",storage:!0};var i=b.getHash("origin");$(a).on("click",".data-rel-back-",function(a){a.stopPropagation(),a.preventDefault(),"app!"==i||"app"==i?ElongBridge.closeH5Page({onsuccess:function(){},onfail:function(){}}):b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),a.addEventListener("beforeshow",function(a){"orderlist"===a.detail}),$(a).on("click",".orderlist li",function(c){var d=$(c.currentTarget),e="ordertype="+d.attr("data-order-type"),f="gorderId="+d.attr("data-gorder-id"),g=$("#connectionMobile",a).val(),h=e+"&"+f;""!=g&&null!=g&&void 0!=g&&(h+="&connectionMobile="+g),b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?"+h,active:!0})}),$(a).on("click",".pay-waiting .cancel",function(a){a.stopPropagation();var e=$(a.target).parents("li.pay-waiting"),f=e.attr("data-trainUserName");c.confirm({container:b.getActiveLayer(),content:"您确定取消订单吗？",text:["确定","点错了"],success:function(){d(e.attr("data-gorder-id"),f)}})}),$(a).on("click",".list-login-btn",function(){return ElongBridge.accountLogin({isOrderFillin:!1,onsuccess:function(b){return g.startLoading(),b.error?void g.stopLoading():($.ajax({url:"http://m.elong.com/train/orderlist/",type:"GET",data:{sessiontoken:b.data.session_token},dataType:"json",success:function(b){var c=$(template("orderlist",b));$("#orderlistPage-content",a).html($("#orderlistPage-content",c).html()),$(".list-login-btn",a).hide(),g.stopLoading()},error:function(){g.stopLoading()}}),!1)},onfail:function(a){g.stopLoading()}}),!1}),$(a).on("click",".list-book-btn",function(){b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),$(a).on("click",".pay-waiting .pay",function(a){if(a.stopPropagation(),ElongBridge&&ElongBridge.RUNTIME_VERSION){var d=$(a.target).parents("li.pay-waiting"),e=d.attr("data-gorder-id"),f=(d.attr("data-order-id"),$.post("http://m.elong.com/train/trainOrder/continuepay",{gorderId:e,isAppFlag:"1"}));return f.done(function(a){var d;if(d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode)location.href=d.Data;else if("1"==d.ErrorCode){var e=JSON.parse(d.Data),f=e.orderId,g=e.gorderId;$("html").hasClass("android")&&(f=e.gorderId,g=e.orderId),ElongBridge.pay({payFrom:"3",orderId:f,gorderId:g,tradeToken:e.token,notifyUrl:e.notifyUrl,totalPrice:e.payAmount,weiXinProductName:"艺龙网火车票订单支付",isCanback:!1,descTitle:e.descTitle,descSubhead:e.descSubhead,descInfo:e.descInfo,onsuccess:function(a){0==a.error?(b.get("orderdetail")&&b.get("orderdetail").destroy(),b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+e.gorderId,active:!0})):1==a.error&&(b.get("orderdetail")&&b.get("orderdetail").destroy(),b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+e.gorderId,active:!0}))},onfail:function(a){b.get("orderdetail")&&b.get("orderdetail").destroy(),b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+e.gorderId,active:!0})}})}else c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})}),!1}var g=$(a.target).parents("li.pay-waiting"),h=$.post("http://m.elong.com/train/trainOrder/continuepay",{gorderId:g.attr("data-gorder-id")});h.done(function(a){var d;d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode?location.href=d.Data:c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})})})})}),require(["src/js/common","src/js/core"],function(a){!function(a){"use strict";function b(a){a.touches||(a.touches=a.originalEvent.touches)}function c(a,b){b._startY=a.touches[0].pageY,b._loadHeight=b.$element.height(),b._childrenHeight=b.$element.children().height(),b._scrollTop=b.$element.scrollTop()}function d(b,c){c._curY=b.touches[0].pageY,c._moveY=c._curY-c._startY,c._moveY>0?c.direction="down":c._moveY<0&&(c.direction="up");var d=Math.abs(c._moveY);""!=c.opts.loadUpFn&&c._scrollTop<=0&&"down"==c.direction&&(b.preventDefault(),c.insertDOM||(c.$element.prepend('<div class="'+c.opts.domUp.domClass+'"></div>'),c.insertDOM=!0),c.$domUp=a("."+c.opts.domUp.domClass),g(c.$domUp,0),d<=c.opts.distance?(c._offsetY=d,c.$domUp.html("").append(c.opts.domUp.domRefresh)):d>c.opts.distance&&d<=2*c.opts.distance?(c._offsetY=c.opts.distance+.5*(d-c.opts.distance),c.$domUp.html("").append(c.opts.domUp.domUpdate)):c._offsetY=c.opts.distance+.5*c.opts.distance+.2*(d-2*c.opts.distance),c.$domUp.css({height:c._offsetY})),""!=c.opts.loadDownFn&&c._childrenHeight<=c._loadHeight+c._scrollTop&&"up"==c.direction&&(b.preventDefault(),c.insertDOM||(c.$element.append('<div class="'+c.opts.domDown.domClass+'"></div>'),c.insertDOM=!0),c.$domDown=a("."+c.opts.domDown.domClass),g(c.$domDown,0),d<=c.opts.distance?(c._offsetY=d,c.$domDown.html("").append(c.opts.domDown.domRefresh)):d>c.opts.distance&&d<=2*c.opts.distance?(c._offsetY=c.opts.distance+.5*(d-c.opts.distance),c.$domDown.html("").append(c.opts.domDown.domUpdate)):c._offsetY=c.opts.distance+.5*c.opts.distance+.2*(d-2*c.opts.distance),c.$domDown.css({height:c._offsetY}),c.$element.scrollTop(c._offsetY+c._scrollTop))}function e(b){var c=Math.abs(b._moveY);b.insertDOM&&("down"==b.direction?(b.$domResult=b.$domUp,b.domLoad=b.opts.domUp.domLoad):"up"==b.direction&&(b.$domResult=b.$domDown,b.domLoad=b.opts.domDown.domLoad),g(b.$domResult,300),c>b.opts.distance?(b.$domResult.css({height:b.$domResult.children().height()}),b.$domResult.html("").append(b.domLoad),f(b)):b.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){b.insertDOM=!1,a(this).remove()}),b._moveY=0)}function f(a){a.loading=!0,""!=a.opts.loadUpFn&&"down"==a.direction?a.opts.loadUpFn(a):""!=a.opts.loadDownFn&&"up"==a.direction&&a.opts.loadDownFn(a)}function g(a,b){a.css({"-webkit-transition":"all "+b+"ms",transition:"all "+b+"ms"})}var h=function(b,c){var d=this;d.$element=a(b),d.insertDOM=!1,d.loading=!1,d.isLock=!1,d.init(c)};h.prototype.init=function(f){var g=this;g.opts=a.extend({},{domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新</div>',domUpdate:'<div class="dropload-update">↑释放更新</div>',domLoad:'<div class="dropload-load">○加载中...</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多</div>',domUpdate:'<div class="dropload-update">↓释放加载</div>',domLoad:'<div class="dropload-load">○加载中...</div>'},distance:50,loadUpFn:"",loadDownFn:""},f),g.$element.on("touchstart",function(a){g.loading||g.isLock||(b(a),c(a,g))}),g.$element.on("touchmove",function(a){g.loading||g.isLock||(b(a,g),d(a,g))}),g.$element.on("touchend",function(){g.loading||g.isLock||e(g)})},h.prototype.lock=function(){var a=this;a.isLock=!0},h.prototype.unlock=function(){var a=this;a.isLock=!1},h.prototype.resetload=function(){var b=this;b.$domResult&&b.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){b.loading=!1,b.insertDOM=!1,a(this).remove()})},a.fn.dropload=function(a){return new h(this,a)}}(window.jQuery)}),define("src/js/dropload",function(){}),define("entry/train/js/orderdetail",["src/js/common","src/js/core","entry/train/js/dialog","src/js/dropload","src/js/dateextend","entry/train/js/base64"],function(a,b,c){b.onrender("orderdetail",function(a){function d(d){var e=d.parents(".order-item"),f=$("#orderId").val(),g=e.attr("data-orderItemId"),j=$("#connectionMobile",a).val(),k=$("#isNeedLogin12306",a).val(),l=($("#train12306LoginUrlHidden",a).val(),$("#gorderId",a).val()),m=$.post("http://m.elong.com/train/trainOrder/refundmoney",{orderId:f,gorderId:l,orderItemId:g,connectionMobile:j,isNeedLogin12306:k});m.done(function(f){if(f="object"==typeof f?f:JSON.parse(f),0===f.ErrorCode)o.startLoading(),e.find(".ticket-state span").text("退票中"),$(".order-total span",a).text(f.Price),$(".order-bar .total-value").text(f.Price),d.remove(),i();else{if(-18===f.ErrorCode)return h(),!1;if(-19===f.ErrorCode)return c.alert(f.ErrorMessage),h(),!1;c.alert({container:b.getActiveLayer(),content:f.ErrorMessage})}})}function e(){$(a).children(".mask-layer").length?$(a).children(".mask-layer").show():$("<div class='mask-layer' style='-ms-touch-action: none;'></div>").appendTo(a)}function f(){$(".mask-layer",a).hide()}function g(){o.startLoading();var d=$("#orderId",a).val(),e=$("#connectionMobile",a).val(),f=$("#cancel12306ctripOrder",a).val(),g=$("#gorderId",a).val(),j=$("#isNeedLogin12306",a).val(),k=$.post("http://m.elong.com/train/trainOrder/cancelorder",{orderId:d,gorderId:g,connectionMobile:e,cancel12306ctripOrder:f,isNeedLogin12306:j});k.done(function(a){o.stopLoading();var d;if(d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode)i();else{if(-18===d.ErrorCode)return h(),!1;if(-19===d.ErrorCode)return c.alert(a.ErrorMessage),h(),!1;c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})}}),k.fail(function(a,b,d){o.stopLoading(),c.alert(d)})}function h(){var c=$("#trainUserName",a).val(),d=$("#gorderId",a).val(),e=b.router.getUrlFromTpl("orderdetail")+"?gorderId="+d;e=Base64.encodeURI(e);var f=b.router.getUrlFromTpl("login12306")+"?RedirectUrl="+e+"&trainUserName="+c;b.get("order12306")&&b.get("order12306").destroy(),b.addPager({url:f,active:!0})}function i(){var b=$("#gorderId",a).val();$.ajax({url:"http://m.elong.com/train/orderdetail/",type:"GET",data:{gorderId:b},dataType:"json",success:function(b){var c=$(template("orderdetail",b));$(".orderDetailPage-content",a).html($(".orderDetailPage-content",c).html()),$(".pay-message-time",c).html(""),$(a).find("#orderDetailPage-footer").prop("outerHTML",$("#orderDetailPage-footer",c).prop("outerHTML")),window.timeInterval&&(clearInterval(window.timeInterval),window.timeInterval=null),window._timeInterval&&(clearInterval(window._timeInterval),window._timeInterval=null),$(".pay-message-time",a).length&&j(b.orderDetailInfo.payDeadLine,b.orderDetailInfo.serverCurrentTime),s.resetload(),o.stopLoading()},error:function(){s.resetload(),o.stopLoading()}})}function j(a,b){k(a,b,0);var c=0;window._timeInterval=setInterval(function(){c+=1,k(a,b,c)},1e3)}function k(b,c,d){var e=1*b.substr(0,4),f=1*b.substr(5,2)-1,g=1*b.substr(8,2),h=1*b.substr(11,2),i=1*b.substr(14,2),j=1*b.substr(17,2),k=1*c.substr(0,4),n=1*c.substr(5,2)-1,p=1*c.substr(8,2),q=1*c.substr(11,2),r=1*c.substr(14,2),s=1*c.substr(17,2),t=new Date(e,f,g,h,i,j)-new Date(k,n,p,q,r,s)-1e3*d;if(0>t)return o.startLoading(),window._timeInterval&&(clearInterval(window._timeInterval),window._timeInterval=null),setTimeout(function(){m()},2e3),!1;var u=parseInt(t/1e3/60%60,10),v=parseInt(t/1e3%60,10);u=l(u),$(".pay-message-time",a).text(u+"分"+v+"秒")}function l(a){return 10>a&&(a="0"+a),a}function m(){var b=$("#gorderId",a).val();$.ajax({url:"http://m.elong.com/train/orderdetail/",type:"GET",data:{gorderId:b},dataType:"json",success:function(a){return window._timeInterval_&&(clearInterval(window._timeInterval),window._timeInterval=null),"001"==a.orderDetailInfo.appStatus?(window._timeInterval_=setTimeout(function(){m()},2e3),!1):(i(),!1)}})}try{ElongApp.dismissLoading()}catch(n){}var o=this;$(a).off("click");var p=$("html").hasClass("low-device"),q=b.getHash("origin");$(a).on("click",".data-rel-back-",function(a){a.stopPropagation(),a.preventDefault(),"app!"==q||"app"==q?ElongBridge.closeH5Page({onsuccess:function(){},onfail:function(){}}):(b.get("orderlist")&&b.get("orderlist").destroy(),b.addPager({url:b.router.getUrlFromTpl("orderlist"),active:!0}))});var r=$("#sysHidden",a).val();r=r?JSON.parse(r):{siteName:"train",storage:!0,serverDate:"2016-04-19 10:20:00"},b.get("orderlist")&&b.get("orderlist").destroy(),console.log($("#orderDetailPage-content",a).length);var s=$("#orderDetailPage-content",a).dropload({moveElement:$("#orderDetailPage-content",a),domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新</div>',domUpdate:'<div class="dropload-update">↑释放更新</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多</div>',domUpdate:'<div class="dropload-update">↓释放加载</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},loadUpFn:function(a){o.startLoading(),setTimeout(function(){a.resetload(),window.timeInterval&&(clearInterval(window.timeInterval),window.timeInterval=null),i()},1e3)}});s.unlock();var t=null,u=function(){window.timeInterval&&(clearInterval(window.timeInterval),window.timeInterval=null),window._timeInterval&&(clearInterval(window._timeInterval),window._timeInterval=null);var b=$(".pay-message-time",a);if(0!=arguments.length||0!=b.length){var c=Date.parseDate(r.serverDate),d=Date.parseDate($("#payDeadLine",a).val()).add(3,6),e=function(a){var c=d.diff(a,6);if(0>=c)return clearInterval(window.timeInterval),window.timeInterval=null,o.startLoading(),void setTimeout(function(){i()},2e3);var e=parseInt(c/60),f=c%60;b.text(e+"分"+f+"秒")};window.timeInterval&&(clearInterval(window.timeInterval),window.timeInterval=null),window.timeInterval=setInterval(function(){c=c.add(1,6),e(c),t=b.text()},1e3),e(c)}};u();var v={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){v.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).text()},e=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);e.done(function(a){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)}),e.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),v.show()})},afterShow:function(){p&&mainPageContent.hide()},afterHide:function(){p&&mainPageContent.show()}};PluginManager.add("stationTimeList",v),$(a).on("click",".ticket-return",function(a){var e=$(a.target);c.confirm({container:b.getActiveLayer(),content:"您确定退这张票吗？",success:function(){d(e)}})}),$(a).on("click",".order-detail-reload",function(){o.startLoading(),i()}),$(a).on("click",".j-expand header",function(a){var b=$(a.currentTarget);b.find("i").removeClass("icon-bottom").addClass("icon-top"),b.next().slideDown(),b.parent().removeClass("j-expand").addClass("j-shrink")}),$(a).on("click",".j-shrink header",function(a){var b=$(a.currentTarget);b.find("i").removeClass("icon-top").addClass("icon-bottom"),b.next().slideUp(),b.parent().removeClass("j-shrink").addClass("j-expand")});var w={TEMPLATE:{BODY:'<div class="totalPriceDes-page"></div>',CONTENT:'<ul><li><span class="left">${seat} (共${seatCount}人)</span><span class="right">￥ <span class="price">${seatPrice}</span><span></li><li data-type="insurance"><span class="left">保险 (共${insCount}份)</span><span class="right">￥ <span class="price">${insPrice}</span><span></li><li data-type="sendTicket"><span class="left">配送费</span><span class="right">￥ <span class="price">${deliverCost}</span><span></li><li data-type="sendTicket"><span class="left">代购费 (共${seatCount1}人)</span><span class="right">￥ <span class="price">${fee}</span><span></li><li data-type="redPacket"><span class="left">红包</span><span class="right">￥ <span class="price">-${redPacketPrice}</span><span></li></ul><div class="total">总额：￥ <span class="price">${totalPrice}</span></div>'},page:$(".totalPriceDes-page",a),option:{showType:"transition",transitionClass:"totalPriceDes-page-active"},IsShow:!1,init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),$(a).on("click",".totalPriceDes-page",function(){w.hide()}),$(a).on("click",".order-detail",function(){console.log("clicked"),w.IsShow?w.hide():w.show()})},beforeShow:function(){e(),$(".mask-layer").unbind("click").on("click",function(a){f(),w.hide(),a.preventDefault()});var b=$(".order-item",a),c=0,d=0,g=0,h=$(b[0]).attr("data-seat"),i=0,j=0,k=$("#fees",a).val(),l=$("#deliverCost",a).val(),m=Number($("#hiddenBonusPrice",a).val());isNaN(m)&&(m=0),b.each(function(){var a=Number($(this).attr("data-price"));a=isNaN(a)?0:a;var b=Number($(this).attr("data-isinsurance"));b=isNaN(b)?0:b,a>0&&d++,c+=a,1==b&&g++}),i=20*g,j=c+i+Number(k)+Number(l)-Number(m);var n=this.TEMPLATE.CONTENT;n=n.replace("${seat}",h),n=n.replace("${seatCount}",d),n=n.replace("${seatCount1}",d),n=n.replace("${seatPrice}",c),n=n.replace("${insCount}",g),n=n.replace("${insPrice}",i),n=n.replace("${totalPrice}",j),n=n.replace("${deliverCost}",l),n=n.replace("${fee}",k),n=n.replace("${redPacketPrice}",m);var o=$(n);0==l?$('[data-type="sendTicket"]',o).hide():$('[data-type="sendTicket"]',o).show(),0==i?$('[data-type="insurance"]',o).hide():$('[data-type="insurance"]',o).show(),0==m?$('[data-type="redPacket"]',o).hide():$('[data-type="redPacket"]',o).show(),this.page.append(o),$(".total").parent().attr("style","z-index:11010;"),w.IsShow=!0},beforeHide:function(){f(),$(".mask-layer").unbind("click"),w.IsShow=!1,$(".total").parent().removeAttr("style"),this.page.find("ul").remove(),this.page.find(".total").remove()}};PluginManager.add("totalPriceDes",w),$(a).on("click",".bar .next",function(d){if(d.stopPropagation(),ElongBridge&&ElongBridge.RUNTIME_VERSION){var e=$("#gorderId",a).val(),f=$.post("http://m.elong.com/train/trainOrder/continuepay",{gorderId:e,isAppFlag:"1"});return f.done(function(a){var d;if(d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode)location.href=d.Data;else if("1"==d.ErrorCode){var e=JSON.parse(d.Data),f=e.orderId,g=e.gorderId;$("html").hasClass("android")&&(f=e.gorderId,g=e.orderId),ElongBridge.pay({payFrom:"3",orderId:f,gorderId:g,tradeToken:e.token,notifyUrl:e.notifyUrl,totalPrice:e.payAmount,weiXinProductName:"艺龙网火车票订单支付",isCanback:!1,descTitle:e.descTitle,descSubhead:e.descSubhead,descInfo:e.descInfo,onsuccess:function(a){0==a.error?i():1==a.error&&i()},onfail:function(a){i()}})}else c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})}),!1}var g=$("#gorderId",a).val(),h=$.post("http://m.elong.com/train/trainOrder/continuepay",{gorderId:g});h.done(function(a){var d;d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode?location.href=d.Data:c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})})}),$(a).on("click",".cancelOrder .cancelOrderBtn",function(a){a.stopPropagation(),c.confirm({content:"确认取消订单？",text:["确定","点错了"],success:function(){g()}})}),$(a).on("click",".continueButton",function(){b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),$(a).on("click",".againButton",function(){b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),$(a).on("click",".reloadButton",function(){o.startLoading(),i()}),$(a).on("click",".btn-left",function(){var c=$("#sendTicketUrl",a).val(),d=c.indexOf("?"),e="";return d>-1&&(e=c.substr(d)),b.addPager({url:b.router.getUrlFromTpl("order")+e,active:!0}),!1}),$(a).on("click",".btn-right",function(){b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),$(a).on("click",".btn-qxbcxyd",function(){var c=$("#orderId",a).val(),d=$("#connectionMobile",a).val(),e=$("#cancel12306ctripOrder",a).val(),f=$("#isNeedLogin12306",a).val();$.post("http://m.elong.com/train/trainOrder/cancelorder",{orderId:c,connectionMobile:d,cancel12306ctripOrder:e,isNeedLogin12306:f});b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})})})}),define("entry/train/js/completed",["src/js/common","src/js/core","entry/train/js/dialog"],function(a,b,c){b.onrender("completed",function(a){$("#ctpBtn").on("click",function(){$.post("/huochejson/SuperContinuePay",{orderId:$("#gorderid").val()},function(a){var d;d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode?location.href=a.Data:c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})})});var d={TEMPLATE:'<div class="des-page page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">取票退票退保规则</h1></header><div class="page-content" style="padding:50px 10px"><span>1、取票</span><div style="height:10px"></div>1）确认出票成功后，您需携带预订时使用的有效身份证件前往火车站售票窗口、铁路客票代售点或车站自动售取票机上换取纸质车票，部分高铁动车车次支持刷二代身份证直接检票乘车。<br>2）二代身份证无法自动识别或者使用其他有效身份证购买的，需出示乘车人有效身份证原件和窗口取票号（短信中以大写字母E开头的号码）到车站窗口或代售点办理换票手续。<br>3）代售点收取代售费5元/张。另外车站售票窗口取异地票，火车站将收取代售费5元/张，此项收费与艺龙无关。<br>4）暂无配送服务。<br><div style="height:10px"></div><span>2、改签</span><div style="height:10px"></div>1）艺龙暂不提供改签服务，需您自行携带购票时使用的有效证件原件和火车票。在火车发车前前去始发地火车站窗口办理。如果改签过程中产生的应退票款，我们将会在3-20个工作日内原渠道退还。<br>2）特别提示：铁路局规定车票只能改签一次，且必须是目的地城市相同的车票。自2014年12月3日起，铁路客票延长预售期。客票预售期延长至60天后，开车前48小时（不含）以上，可改签预售期内的其他列车；开车前48小时以内，可改签开车前的其他列车，也可改签开车后至票面日期当日24:00之间的其他列车，不办理票面日期次日及以后的改签；开车之后，旅客仍可改签当日其他列车，但只能在票面发站办理改签。已经改签的车票不能再次改签，但可在改签后车票载明的列车开车前退票。<br><div style="height:10px"></div><span>3、退票</span><div style="height:10px"></div>1）订单已出票且未换取纸质车票，在发车前3小时可以在“火车票订单”中在线申请退票。我们在线退票处理时间是7:00-23:00。非工作时间或者已取票的乘客，如需退票，请凭购票时的有效证件在发车前到火车站退票窗口办理退票。<br>2）根据铁路局退票规定：自2014年12月3日起，铁路客票延长预售期；客票预售期延长至60天后，对开车前15天（不含）以上退票的，不收取退票费。距离票面乘车站开车时间15天（含）以内、48小时以上的按票价5%计；24小时以上、不足48小时的按票价10%计；不足24小时的按票价20%计。并按照最低2元/张收取退票费。如果改签后的车票乘车日期在春运（即2015年2月4日至3月15日）期间的，退票时一律收取20%的退票费。最终退款以铁路局实退为准。<br><div style="height:10px"></div><span>4、到账说明：</span><div style="height:10px"></div><span style="color:Red">由于各铁路局相关政策、火车票票源紧张等原因，支付后无法保证100%出票成功。</span><br>1）无票或取消订单退款到帐说明：退款到帐时间约为3-21天；应退票款按银行规定时限退还至购票时所使用的银行卡（原渠道返还），请注意查收。<br>2）特别注意事项：若您看到订单状态为“已退款”但久未收到退款，由于退款涉及个人帐号隐私，请您凭当时支付的交易号咨询支付平台客服热线。支付宝平台客服热线：95188(7*24小时服务，需支付交易号)<br>3）如需退票报销凭证，请凭购票所使用的乘车人有效身份证件原件和订单号码在办理退票之日起10日到车站退票窗口索取。<br><div style="height:10px"></div><span>5、退保</span><div style="height:10px"></div>1) 线上退票：如需退保，请您于该次列车正常时间出发前3小时（含），登陆艺龙网站（www.elong.com）或手机客户端申请退火车票的同时退订本保险产品。退保成功后，保费将退回至原支付帐户。<br>2) 窗口退票：如需退保，请您于该次列车正常时间出发前3小时（含），及时致电艺龙客服（4009333333）申请退保。否则将按照原车次信息生效。</div></div>',
init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),$(".train-des",a).on("click",function(){d.show()}),$(".des-page header a",a).on("click",function(){d.hide()})}};PluginManager.add("desPage",d)})}),define("entry/train/js/detail",["src/js/common","src/js/core","src/js/validate","entry/train/js/dialog","src/js/PluginManager","entry/train/js/base64","src/js/slideSelector","src/js/slideInput"],function(a,b,c,d,e,f){b.onrender("detail",function(a){function c(){var b=$("#train_12306_switch_hidden",a).val();"true"!=b&&$(".j-12306-allow").attr("class","forbidden"),"1"!=p()&&$(".j-ticket-allow").attr("class","forbidden")}function d(b){var c=["周日","周一","周二","周三","周四","周五","周六"],d=Date.parseDate(b),e=d.getDay(),f=d.toArray();f[1]=f[1]+1,$("#startdate",a).val(b);var g="",h=new Date,i=d.diff(h,3);g=0>=i?"今天":i>0&&1>=i?"明天":i>1&&2>=i?"后天":c[e],$(".date-btn",a).attr("data-date",b),$(".date-btn .date-btn-text",a).text(f[1]+"月"+f[2]+"日 "+g)}function f(){var a=[];return a.push("startstation="+decodeURI(b.getHash("startstation"))),a.push("endstation="+decodeURI(b.getHash("endstation"))),a.push("startdate="+decodeURI(b.getHash("startdate"))),a.push("trainNum="+decodeURI(b.getHash("trainNum"))),a}function g(a){var c=f();c.push("sessiontoken="+a);var d=b.router.getUrlFromTpl("detail")+"?"+c.join("&");m.reload(d)}function h(a){var c=f();c.push("isSendTicket=0"),c.push("seatTypeCode="+a),b.get("order")&&b.get("order").destroy(),b.addPager({url:b.router.getUrlFromTpl("order")+"?"+c.join("&"),active:!0})}function i(a){var c=f();c.push("isSendTicket=1"),c.push("seatTypeCode="+a),b.get("order")&&b.get("order").destroy(),b.addPager({url:b.router.getUrlFromTpl("order")+"?"+c.join("&"),active:!0})}function j(c){var d=f();d.push("isSendTicket=1"),d.push("seatTypeCode="+c),d.push("is12306Ticket=1"),b.get("order12306")&&b.get("order12306").destroy();var e=$("#train12306LoginUrlHidden",a).val();return e&&""!=e?void l(c):void b.addPager({url:b.router.getUrlFromTpl("order12306")+"?"+d.join("&"),active:!0})}function k(a,c){var d=[];d.push("url="+Base64.encodeURI(a)),d.push("note="+c),d.push("reload=detail");var e=b.router.getUrlFromTpl("detail")+"?"+f().join("&");d.push("backUrl="+Base64.encodeURI(e));var a=b.router.getUrlFromTpl("activity")+"?"+d.join("&");b.get("activity")&&b.get("activity").destroy(),b.addPager({url:a,active:!0})}function l(a){var c=f();c.push("isSendTicket=1"),c.push("seatTypeCode="+a),c.push("is12306Ticket=1");var d=b.router.getUrlFromTpl("order12306")+"?"+c.join("&");d=Base64.encodeURI(d);var e=b.router.getUrlFromTpl("login12306")+"?RedirectUrl="+d;b.get("order12306")&&b.get("order12306").destroy(),b.addPager({url:e,active:!0})}var m=this;$(a).off("click");var n=$("html").hasClass("low-device"),o=$("#sysHidden",a).val();o=o?JSON.parse(o):{siteName:"train",storage:!0};var p=function(){var b=$("#isSendTicket",a).val();return b&&""!==b||(b=0),b};c();var q={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){q.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).attr("data-date")},e=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);e.done(function(a){setTimeout(function(){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)},1e3)}),e.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),q.show()})},afterShow:function(){n&&mainPageContent.hide()},afterHide:function(){n&&mainPageContent.show()}};e.add("stationTimeList",q);var r=$("#adultPreSale",a).val();r=r?parseInt(r):59;var s=new Date,t=s.add(r,3),u=$("").calendar({mindate:s,maxdate:t,selectDate:function(){return $(".date-btn",a).attr("data-date")},eventCallBack:function(a){d(a),z(a)}});e.add("calendar",u);var v=function(){var b=$(".date-btn",a).attr("data-date");b<=s.format("yyyy-MM-dd")?$(".pre-day-btn",a).addClass("disabled"):$(".pre-day-btn",a).removeClass("disabled"),b>=t.format("yyyy-MM-dd")?$(".next-day-btn",a).addClass("disabled"):$(".next-day-btn",a).removeClass("disabled")};v();var w=function(a,b){var c=new Date(a),d=new Date(c.getTime()+864e5*b);return d.format("yyyy-MM-dd")},x=$(".date-btn",a).attr("data-date");d(x),$(a).on("click",".date-btn",function(){u.show()});var y=!1;$(a).on("click",".nav-train-list .next-day-btn",function(b){var c=$(b.currentTarget);if(1!=y&&!c.hasClass("disabled")){var d=$(".date-btn",a).attr("data-date"),e=w(d,1);z(e)}}),$(a).on("click",".nav-train-list .pre-day-btn",function(b){var c=$(b.currentTarget);if(!c.hasClass("disabled")){c.addClass("disabled");var d=$(".date-btn",a).attr("data-date"),e=w(d,-1);z(e)}}),$(a).on("click",".12306-footer-banner",function(b){var c=$(b.currentTarget),d=c.attr("data-link"),e=c.attr("data-note"),f=c.attr("data-bannerlogin"),h=$("#loginFlag",a).val();"1"!=f||h&&""!=h&&"false"!=h?k(d,e):ElongBridge&&0!=ElongBridge.RUNTIME_VERSION?ElongBridge.accountLogin({isOrderFillin:!1,onsuccess:function(a){a.error?alert("登录失败"):(sessionStorage.setItem("detail_jumpUrl",JSON.stringify({url:d,note:e,type:"5"})),g(a.data.session_token))},onfail:function(a){}}):k(d,e)}),$(a).on("click",".j-allow",function(b){var c=$(b.target);$(".grade-detail",a).addClass("hide"),$(".j-allow").text("预订").removeClass("expand"),"contract"==c.attr("data-state")?(c.parents(".grade-item").find(".grade-detail").removeClass("hide"),c.attr("data-state","expand").text("收起").addClass("expand")):c.attr("data-state","contract").text("预订").removeClass("expand")}),$(a).on("click",".j-elong-allow",function(b){var c=$(b.target),d=c.parents(".grade-item").attr("data-seattypecode"),e=$("#loginFlag",a).val();if(e&&""!=e&&"false"!=e)h(d);else if(ElongBridge&&0!=ElongBridge.RUNTIME_VERSION)ElongBridge.accountLogin({isOrderFillin:!0,onsuccess:function(a){a.error?alert("登录失败"):(sessionStorage.setItem("detail_jumpUrl",JSON.stringify({seatTypeCode:d,type:"1"})),g(a.data.session_token))},onfail:function(a){h(d)}});else{var f=o.loginUrl;""!=f?location.href=f+encodeURIComponent(location.href):h(d)}}),$(a).on("click",".j-ticket-allow",function(b){var c=$(b.target),d=c.parents(".grade-item").attr("data-seattypecode"),e=$("#loginFlag",a).val();if(e&&""!=e&&"false"!=e)i(d);else{if(ElongBridge&&0!=ElongBridge.RUNTIME_VERSION)return void ElongBridge.accountLogin({isOrderFillin:!0,onsuccess:function(a){a.error?alert("登录失败"):(sessionStorage.setItem("detail_jumpUrl",JSON.stringify({seatTypeCode:d,type:"2"})),g(a.data.session_token))},onfail:function(a){i(d)}});var f=o.loginUrl;""!=f?location.href=f+encodeURIComponent(location.href):i(d)}}),$(a).on("click",".j-12306-allow",function(c){var d=$(c.target),e=d.parents(".grade-item").attr("data-seattypecode");b.get("order12306")&&b.get("order12306").destroy();var f=$("#loginFlag",a).val(),h=o.loginUrl;$("#train12306LoginUrlHidden",a).val();f&&""!=f&&"false"!=f?j(e):ElongBridge&&0!=ElongBridge.RUNTIME_VERSION?ElongBridge.accountLogin({isOrderFillin:!1,onsuccess:function(a){a.error?alert("登录失败"):(sessionStorage.setItem("detail_jumpUrl",JSON.stringify({seatTypeCode:e,type:"3"})),g(a.data.session_token))},onfail:function(){}}):h&&(location.href=h+encodeURIComponent(location.href))}),$("#detailPage-header .icon-left-nav",a).on("click",function(a){a.stopPropagation(),a.preventDefault();var c=[];c.push("startdate="+decodeURI(b.getHash("startdate"))),c.push("startstation="+decodeURI(b.getHash("startstation"))),c.push("endstation="+decodeURI(b.getHash("endstation"))),c.push("traintype=0"),b.addPager({url:b.router.getUrlFromTpl("list")+"?"+c.join("&"),active:!0})}),$(document).on("onrender",function(){var a=sessionStorage.getItem("detail_jumpUrl");if(a&&""!=a)switch(sessionStorage.removeItem("detail_jumpUrl"),a=JSON.parse(a),a.type){case"1":h(a.seatTypeCode);break;case"2":i(a.seatTypeCode);break;case"3":j(a.seatTypeCode);break;case"4":l(a.seatTypeCode);break;case"5":k(a.url,a.note)}});var z=function(e){var f=$("#start",a).val(),g=$("#end",a).val(),h=$("#trainNumer",a).val(),i="startstation="+f,j="endstation="+g,k="startdate="+e,l="trainNum="+h,n=b.router.routers.detail.url;dataurl=n+"?"+i+"&"+j+"&"+k+"&"+l;var o=$.ajax(dataurl,{type:"get",headers:{Accept:"application/json; charset=utf-8"},dataType:"json"});m.startLoading(),y=!0,o.done(function(c){console.log(c);var f=$(template("detail",c));$("#isSendTicket",a).val(f.find("#isSendTicket").val()),$("#detailPage-content",a).eq(0).html(f.find("#detailPage-content").eq(0).html()),d(e),v();var g=f.find("title").text();history.replaceState({},g,b.router.getHashFromUrl(dataurl).replace("http://m.elong.com/train/","")),b.setHash([{name:"startdate",value:e}])}),o.always(function(){m.stopLoading(),c(),y=!1})}})}),define("entry/train/js/success",["src/js/common","src/js/core","entry/train/js/dialog"],function(a,b,c){b.onrender("success",function(a){var c=$("html").hasClass("low-device"),d=$("#sysHidden",a).val();d=d?JSON.parse(d):{siteName:"train",storage:!0},$(".ticket-rule",a).on("click",function(){b.moveWidget($(".des-page"),"right","center")}),$(".des-page header a").on("click",function(){b.moveWidget($(".des-page"),"center","right")}),$(".order-look",a).on("click",function(){var c="contectPhone="+$("#contectPhone",a).val();b.addPager({url:b.router.getUrlFromTpl("orderlist")+"?"+c,active:!0})}),$(".order-train",a).on("click",function(){b.addPager({url:b.router.getUrlFromTpl("entry"),active:!0})}),$(".hotel-look",a).on("click",function(){});var e={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){e.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).text()},f=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);f.done(function(a){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)}),f.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),e.show()})},afterShow:function(){c&&mainPageContent.hide()},afterHide:function(){c&&mainPageContent.show()}};PluginManager.add("stationTimeList",e)})}),define("entry/train/js/ordererror",["src/js/common","src/js/core","entry/train/js/dialog"],function(a,b,c){b.onrender("ordererror",function(a){var d=$("html").hasClass("low-device"),e=$("#sysHidden",a).val();e=e?JSON.parse(e):{siteName:"train",storage:!0},$(".ticket-rule",a).on("click",function(){b.moveWidget($(".des-page"),"right","center")}),$(".des-page header a").on("click",function(){b.moveWidget($(".des-page"),"center","right")});var f={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){f.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).text()},e=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);e.done(function(a){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)}),e.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),f.show()})},afterShow:function(){d&&mainPageContent.hide()},afterHide:function(){d&&mainPageContent.show()}};PluginManager.add("stationTimeList",f),$(".bar .next",a).on("click",function(d){d.stopPropagation();var e=$("#gorderId",a).val(),f=$.post("http://m.elong.com/train/trainOrder/continuepay",{gorderId:e});f.done(function(a){var d;d="object"==typeof a?a:JSON.parse(a),0===d.ErrorCode?location.href=d.Data:c.alert({container:b.getActiveLayer(),content:d.ErrorMessage})})})})}),define("entry/train/js/login12306",["src/js/common","src/js/core","entry/train/js/dialog","entry/train/js/base64"],function(a,b,c){b.onrender("login12306",function(a){function d(){var b=$("#checkCodeSwitchHidden",a).val();if(b&&""!=b&&"false"!=b){var d=$(".img-wrap .verify-img",a);$(".img-wrap .imgTags",a).html("");var e={type:1};f.startLoading();var g=$.post("http://m.elong.com/train/mode12306/getrandcode",e);g.done(function(a){var b;if(b="object"==typeof a?a:JSON.parse(a),b.IsError!==!1)return void c.alert(b.ErrorMessage);var e="data:image/png;base64,"+b.image;d.attr("src",e)}),g.always(function(){f.stopLoading()})}}var e=$("#sysHidden",a).val();e=e?JSON.parse(e):{siteName:"train",storage:!0};var f=this,g=function(){var c=b.getHash("trainUserName");c?$(".account",a).val(c).attr("disabled",!0):$(".account",a).attr("disabled",!1)};$(".img-wrap",a).on("click",function(a){var b=function(a,b){return $('<div class="tag" style="left:'+a+"px;top:"+b+'px;" pos="'+a+","+b+'"></div>')},c=parseInt(a.offsetX-12),d=parseInt(a.offsetY-12);$(this).find(".imgTags").append(b(c,d))}),$(".img-wrap",a).on("click",".tag",function(a){a.stopPropagation(),$(this).remove()}),$(".account",a).on("keyup",function(){0==$(this).val().length&&$(".password",a).val("")}),$(".reload-img",a).on("click",function(){d()}),$(".btn_login12306",a).on("click",function(){b.get("order12306")&&b.get("order12306").destroy();var e=$(".account",a).val(),g=$(".password",a).val(),h=[];if($(".tag",a).each(function(a,b){h.push($(b).attr("pos"))}),h=0==h.length?"":h.join(","),0==e.length)return void c.alert("请输入12306账户名");if(0==g.length)return void c.alert("请输入12306密码");if($(".verify-img").length>0&&""==h)return void c.alert("请选择验证码");var i={type:1,randCode:h,user:e,password:g};f.startLoading();var j=$.post("http://m.elong.com/train/mode12306/bindelongand12306",i);j.done(function(a){var e;if(e="object"==typeof a?a:JSON.parse(a),e.IsError!==!1)return void c.alert(e.ErrorMessage,function(){d()});var f=Base64.decode(b.getHash("RedirectUrl"));f&&b.addPager({url:f,active:!0})}),j.always(function(){f.stopLoading()})}),$(".reg12306",a).on("click",function(){b.addPager({url:b.router.getUrlFromTpl("regist12306"),active:!0})}),function(){g()}()})}),define("entry/train/js/register12306",["src/js/common","src/js/core","entry/train/js/dialog","src/js/PluginManager"],function(a,b,c,d){b.onrender("regist12306",function(a){function d(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?c[2]:null}$("#register12306Page-header .icon-left-nav",a).on("click",function(a){}),$(".nextButton",a).on("click",function(){var e=$(".loginInfo-item_userName .loginInfo-input",a).val();if(""==e)return void c.alert("请填写用户名");var f=/^[a-zA-Z][a-zA-Z_\d]{5,19}$/;if(!f.test(e))return void c.alert("请填写合法的用户名(6-20位字母、数字或“_”,字母开头)");var g=$(".loginInfo-item_password .loginInfo-input",a).val();if(""==g)return void c.alert("请填写密码");var h=/[a-zA-Z_\d]{6,20}$/;if(!h.test(g))return void c.alert("请填写合法的密码(6-20位字母、数字或“_”)");var i=$(".userInfo-item_name .userInfo-input",a).val();if(""==i)return void c.alert("请填写姓名");var j=$(".userInfo-item_card .userInfo-input",a).val();if(""==j)return void c.alert("请填写身份证");var k=/^(\d{15}|\d{18}|\d{17}(\d|X|x))?$/;if(!k.test(j))return void c.alert("请填写合法的身份证号码");var l=$(".userInfo-item_phone .userInfo-input",a).val();if(""==l)return void c.alert("请填写手机号码");if(11!=l.length)return void c.alert("请填写合法的手机号码");var m={userName:e,password:g,name:i,mobileNo:l,idNo:j},n=$.post("http://m.elong.com/train/validateregistparams",m);n.done(function(a){if(a="object"==typeof a?a:JSON.parse(a),"false"==a.IsSuccess||0==a.IsSuccess)return void c.alert(a.ErrorMessage);var e=JSON.parse(a.Data),f=[];f.push("successTips="+e.successTips),f.push("mobileNo="+e.mobileNo),f.push("back="+d("back")),b.addPager({url:b.router.getUrlFromTpl("registcode")+"?"+f.join("&"),active:!0})})})})}),define("entry/train/js/check12306",["src/js/common","src/js/core","entry/train/js/dialog","src/js/PluginManager"],function(a,b,c,d){b.onrender("registcode",function(a){function d(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?c[2]:null}ElongBridge&&0!=ElongBridge.RUNTIME_VERSION||$(".userInfo-sms",a).hide(),$(".userInfo-sms",a).on("click",function(){ElongBridge&&0!=ElongBridge.RUNTIME_VERSION&&ElongBridge.sendMessage({onsuccess:function(a){"1"==a.error&&c.alert(a.msg)},onfail:function(){},message:"999",phoneNum:"12306"})}),$(".nextButton",a).on("click",function(){var e=$(".userInfo-item_code .userInfo-input",a).val();if(""==e)return void c.alert("请输入手机验证码");var f=$(".userInfo-item_phone .userInfo-text",a).text(),g={mobile:f,randCode:e},h=$.post("http://m.elong.com/train/validateregistcode",g);h.done(function(a){if(a="object"==typeof a?a:JSON.parse(a),"false"==a.IsSuccess||0==a.IsSuccess)return void c.alert(a.ErrorMessage);var e=[];e.push("back="+d("back")),b.addPager({url:b.router.getUrlFromTpl("success12306")+"?"+e.join("&"),active:!0})})})})}),define("entry/train/js/success12306",["src/js/common","src/js/core"],function(a,b){b.onrender("registsuccess",function(a){$("#success12306Page-header .icon-left-nav",a).on("click",function(a){})})}),define("entry/train/js/order12306",["src/js/common","src/js/core","src/js/validate","entry/train/js/dialog","src/js/PluginManager","entry/train/js/redPacketPlugin","entry/train/js/activityPlugin","src/js/slideSelector","entry/train/js/datepicker","src/js/dateextend","src/js/slideInput"],function(a,b,c,d,e,f,g){b.onrender("order12306",function(a){function h(){var b="true"==$("#loginFlag",a).val()?!0:!1;return b}function i(){$(a).children(".mask-layer").length?$(a).children(".mask-layer").show():$("<div class='mask-layer' style='-ms-touch-action: none;'></div>").appendTo(a)}function j(){$(".mask-layer",a).hide()}function k(){var c=$("#isCtrip12306",a).val();if("1"!=c){var d={trainNumber:decodeURI(b.getHash("trainNum")),startStationName:decodeURI(b.getHash("startstation")),endStationName:decodeURI(b.getHash("endstation")),trainStartTime:decodeURI(b.getHash("startdate"))},e=$.post("http://m.elong.com/train/mode12306/checkorder",d);e.done(function(a){var b;b="object"==typeof a?a:JSON.parse(a),b.IsError===!1?(p=b.globalRepeatSubmitToken,q=b.keyCheckIsChange,r=b.leftTicketStr,s=b.purposeCodes,t=b.tourFlag,u=b.trainLocation):(v=b.ErrorMessage,"607"==b.ErrorCode&&(w=b.elongGorderId||""))}),e.fail(function(){v="网络繁忙,请稍后再试"})}}function l(){$(".getrandcode-tags",a).html("");var b={type:2};m.startLoading();var c=$.post("http://m.elong.com/train/mode12306/getrandcode",b);c.done(function(b){var c;if(c="object"==typeof b?b:JSON.parse(b),c.IsError!==!1)return void d.alert(c.ErrorMessage);var e="data:image/png;base64,"+c.image;$(".getrandcode-img",a).attr("src",e)}),c.always(function(){m.stopLoading()})}var m=this,n=b.transitionEnd,o=$("#sysHidden",a).val();o=o?JSON.parse(o):{siteName:"train",storage:!0};var p="",q="",r="",s="",t="",u="",v="",w="";$(a).off("click");var x=$("html").hasClass("low-device"),y=($(".go-login",a),$(".page-content .train-order",a).parent()),z=$("#insuranceInfo",a).length&&$("#insuranceInfo",a).val().length>0?JSON.parse($("#insuranceInfo",a).val()):null,A=$("#insuranceChoose",a),B=(A.val(),$("#isDefaultChooseSendTicket",a).val());B=0;var C=1,D=$("#insuranceChoose",a).val(),E=D,F=function(){switch($(".j-choose-seat .chosen-seat",a).attr("data-seat-type",B),B){case"0":$(".j-choose-seat .chosen-seat",a).text("不需要"),$(".j-choose-seat .seat-detail",a).addClass("hide"),$(".j-choose-seat .yield-seat",a).addClass("hide"),$(".j-choose-seat .set-ticket-type",a).text(""),$(".j-to-delivery",a).addClass("hide"),$(".ticket-tips",a).addClass("hide"),$(".deliveryInfo",a).addClass("hide");break;case"1":$(".j-choose-seat .chosen-seat",a).text("送票上门"),$(".j-choose-seat .seat-detail",a).addClass("hide"),$(".j-choose-seat .yield-seat",a).addClass("hide"),$(".j-choose-seat .set-ticket-type",a).text(""),$(".j-to-delivery",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide");break;case"3":$(".j-choose-seat .chosen-seat",a).text("我要下铺"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("下铺"),$(".j-choose-seat .yield-seat .title-span",a).text("当下铺无票时，接受非下铺"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide");break;case"5":$(".j-choose-seat .chosen-seat",a).text("我要靠窗"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("靠窗"),$(".j-choose-seat .yield-seat .title-span",a).text("当指定靠窗无票时，接受非靠窗"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide");break;case"6":$(".j-choose-seat .chosen-seat",a).text("连座/包厢"),$(".j-choose-seat .seat-detail",a).removeClass("hide"),$(".j-choose-seat .yield-seat",a).removeClass("hide"),$(".j-choose-seat .set-ticket-type",a).text("连座/包厢"),$(".j-choose-seat .yield-seat .title-span",a).text("当指定连座无票时，接受非连座"),$(".j-to-delivery",a).removeClass("hide"),$(".deliveryInfo",a).removeClass("hide"),$(".ticket-tips",a).removeClass("hide")}G(),I()},G=function(){var b=$(".minus",a),c=$(".plus",a);1>=C&&(C=1);var d=$(".people-list li",a).length;0>=d&&(d=1),C>=d&&(C=d),$(".set-num-area .count",a).text(C),1>=C?b.addClass("gray"):b.removeClass("gray"),C>=d?c.addClass("gray"):c.removeClass("gray")},H=function(){var b=$(".inSureSwitch.forInsure",a),c=$(".inSureSwitch.forReceipt",a);if(b.attr("data-needinsurance",E),0==E){var d="不需要保险";b.find(".insure-num").text(d),c.hide()}else{var d=z.name+" ",e=z.typePrice+"元",f=$(".user .people-list li[data-passenger-type=0][data-certtype=1]",a).length;d+=e+"X"+f+"份",b.find(".insure-num").text(d),c.show()}},I=function(){0==B||""==$.trim($(".delivery-to",a).text())?$(".delivery-to",a).hide():$(".delivery-to",a).show()},J=function(){var a=localStorage.getItem("postAddress");try{a=$.parseJSON(a),a||(a=[],1==o.storage&&localStorage.setItem("postAddress",JSON.stringify(a)))}catch(b){a=[],1==o.storage&&localStorage.setItem("postAddress",JSON.stringify(a))}return a},K=function(){var b="",c="false",d="",e=$(".j-choose-seat .chosen-seat",a).attr("data-seat-type"),f=$(".redPacket",a).attr("data-price");f=f||"";var g="";h()?"true"!=$("#hasBonus",a).val()?(b="1"==$("#noBonusForPrice",a).val()?"单张票价满30元可使用":"您没有可使用的优惠",c="false",d="",f="",g="redPacket-text_disabled"):e&&"0"!=e?(b="选座模式不可使用优惠",c="false",d="",f="",g="redPacket-text_disabled"):""==f||"0"==f?(b="请选择要使用的优惠",c="true",d="",f="",g=""):"-1"==f?(b="不使用优惠",c="true",d="",f="",g=""):(b=f+"元",c="true",d=$(".redPacket",a).attr("data-id"),g="redPacket-text_number"):(b="登录后可使用",c="false",d="",f="",g="redPacket-text_disabled"),$(".redPacket",a).attr("data-isuser",c).attr("data-id",d).attr("data-price",f),$(".redPacket-text",a).attr("class","redPacket-text "+g).text(b)},L=new f(o);e.add("redPacket",L),L.page.on("selected",function(b,c){L.hide(),$(".redPacket",a).attr("data-id",c.id).attr("data-price",c.price),O.changePrice(),K()}),L.page.on("back",function(){L.hide()});var M={data:{peopleList:[]},addAdult:function(a){var b=!1,c=(new Date).getTime()+Math.ceil(100*Math.random());console.log(c);for(var d=0;d<this.data.peopleList.length;d++){var e=this.data.peopleList[d];e.data==JSON.stringify(a)&&(b=!0)}b||this.data.peopleList.push({pid:c,data:JSON.stringify(a),childrenCount:0})},addChild:function(a,b){for(var c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid==a&&(d.childrenCount=d.childrenCount+b)}},getPeopleList:function(){return this.data.peopleList},updateData:function(a,b,c){for(var d=0;d<this.data.peopleList.length;d++){var e=this.data.peopleList[d];e.pid==a&&(b&&(e.childrenCount=b),e.data=JSON.stringify(c))}},refreshData:function(a){for(var b=[],c=0;c<this.data.peopleList.length;c++)for(var d=this.data.peopleList[c],e=0;e<a.length;e++)d.data===JSON.stringify(a[e])&&b.push(d);M.data.peopleList=b},getPeopleItem:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid==a&&(b=d)}return b},getPeopleItemByData:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.data===JSON.stringify(a)&&(b=d)}return b},removeItem:function(a){for(var b=[],c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.pid!=a&&b.push(d)}this.data.peopleList=b},removeAll:function(){M.data={peopleList:[]}},getPeopleCount:function(){for(var a=M.data.peopleList.length,b=0;b<this.data.peopleList.length;b++)a+=this.data.peopleList[b].childrenCount;return a},getKey:function(a){for(var b=null,c=0;c<this.data.peopleList.length;c++){var d=this.data.peopleList[c];d.data==JSON.stringify(a)&&(b=d.pid)}return b}},N="",O={TEMPLATE:{ADDLIST:'<li class="table-view-cell people-info"><div class="check-box label-checkbox" style="width: 95%"><span class="checkbox"></span><div class="people-info"><div class="people-name">${people}</div><div class="cert-number" cert-type="${certtype}" cert-number="${certnumber}">${certnumber}</div></div></div></li>',PEOPLELIST:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">成人票</div><div class="cert-number">${cert-number}</div></div></div></li>',PEOPLELIST_C:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>'},dataList:[],page:null,isLogin:"true"===$("#loginFlag",a).val()?!0:!1,init:function(){var a=localStorage.getItem("train-orderPeopleList");a&&(O.dataList=a.split(","));var c=O.dataList;this.page=$(template("order/addPeoplePlugin",{})),this.page.appendTo(b.getActiveLayer()),O.isLogin?$.ajax({type:"post",url:"http://m.elong.com/train/mode12306/getpassengerlist",timeout:5e3,success:function(a){var b;if(b="object"==typeof a?a:JSON.parse(a),0==b.IsError){for(var c=0;c<b.passengerList.length;c++){var d="";d+=b.passengerList[c].passengerName+"-",d+=b.passengerList[c].certNo+"-",d+=b.passengerList[c].certTypeCode.toLowerCase()+"-",d+=b.passengerList[c].createTime+"-",d+=111,O.dataList.push(d)}N=b.Data,O.dataList.length>0&&(O.initList(),O.renderPersonList(!0),G())}}}):a&&c.length>0&&(this.initList(),O.renderPersonList(!0),G()),O._bindEvent()},beforeShow:function(){return 0===this.dataList.length?(P.show(0,null,null,!0),!0):void 0},afterShow:function(){x&&y.hide()},afterHide:function(){x&&y.show()},initList:function(){var b=$(".add-people-list",a),c=O.dataList,d={1:"身份证",b:"护照",c:"港澳通行证",g:"台湾通行证"};$(".add-people-list .people-info",a).remove();for(var e=c.length-1;e>=0;e--){var f,g=c[e],h=g.split("-"),i=h[0],j=h[1],k=h[2];f=h.length>3&&""!==h[3]&&!isNaN(h[3])?h[3]+"-"+h[4]+"-"+h[5]:"1990-03-03";var l=h[6]||0,m=$(O.TEMPLATE.ADDLIST);m.find(".people-name").text(i),m.find(".cert-number").text(d[k]+"/ "+j),m.find(".cert-number").attr("cert-type",k),m.find(".cert-number").attr("cert-number",j),m.find(".cert-number").attr("cert-type-name",d[k]),m.find(".cert-number").attr("cert-type-day",f),m.find(".cert-number").attr("cert-id",l),e==c.length-1&&m.find(".label-checkbox .checkbox").addClass("checked"),b.append(m),O.fixedWidth(m)}},addPeople:function(){P.show(0)},editPeople:function(){var b=$(this).parent(),c={name:b.find(".people-name").text(),certnumber:b.find(".cert-number").attr("cert-number"),certtype:b.find(".cert-number").attr("cert-type"),certtypeName:b.find(".cert-number").attr("cert-type-name"),seat:$(".ticket li.selected",a).find(".ticket-name span").first().text(),date:b.find(".cert-number").attr("cert-type-day"),cid:b.find(".cert-number").attr("cert-id")?parseInt(b.find(".cert-number").attr("cert-id")):null},d=M.getKey(c);P.show(0,{name:b.find(".people-name").text(),certnumber:b.find(".cert-number").attr("cert-number"),certtype:b.find(".cert-number").attr("cert-type"),date:b.find(".cert-number").attr("cert-type-day"),cid:b.find(".cert-number").attr("cert-id")},b,!1,d)},cancelSelect:function(a){$(".add-people-list div[cert-number='"+a+"']").parent().prev().removeClass("checked")},renderPersonList:function(b){var c=$(".user .people-list",a),e=$(".add-people-list li span.checked",a),f=$(".ticket li.selected",a),g=[],h=[],i=[];if(e.length>5){var j={content:"单张订单乘客数量不能大于5个"};return void d.alert(j)}if(e.each(function(){var a=$(this).next(),b=(a.find(".cert-number").attr("seat"),{name:a.find(".people-name").text(),certnumber:a.find(".cert-number").attr("cert-number"),certtype:a.find(".cert-number").attr("cert-type"),certtypeName:a.find(".cert-number").attr("cert-type-name"),seat:f.find(".ticket-name span").first().text(),date:a.find(".cert-number").attr("cert-type-day"),cid:a.find(".cert-number").attr("cert-id")?parseInt(a.find(".cert-number").attr("cert-id")):null
});g.push(b),M.addAdult(b),"1"===a.find(".cert-number").attr("cert-type")&&(h.push({passengerName:a.find(".people-name").text(),certType:"1",certNo:a.find(".cert-number").attr("cert-number")}),i.push({key:a.find(".people-name").text(),el:$(this).parent().parent()}))}),M.refreshData(g),M.getPeopleCount()>5){var k={content:"单张订单乘客数量不能大于5个"};return void d.alert(k)}h.length>0&&!b?(c.find("li").remove(),$(M.getPeopleList()).each(function(){var a=JSON.parse(this.data),b=$(O.TEMPLATE.PEOPLELIST);b.find(".passenger-name").text(a.name),b.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),b.find(".cert-number").attr("cert-type",a.certtype),b.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),b.attr("pid",this.pid),b.attr("data-passenger-type","0"),b.attr("data-certTypeName",a.certtypeName),b.attr("data-certNumber",a.certnumber),c.append(b),b.attr("data-certType",a.certtype),b.attr("data-name",a.name),b.attr("data-date",a.date);for(var d=0;d<this.childrenCount;d++){var e=$(O.TEMPLATE.PEOPLELIST_C);e.find(".passenger-name").text(a.name),e.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),e.find(".cert-number").attr("cert-type",a.certtype),e.find(".cert-number").attr("cert-number",a.certnumber),e.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),e.attr("cid",this.pid),e.attr("data-passenger-type","1"),c.append(e)}}),H(),O.changePrice(),O.hide()):(c.find("li").remove(),$(M.getPeopleList()).each(function(){var a=JSON.parse(this.data),b=$(O.TEMPLATE.PEOPLELIST);b.find(".passenger-name").text(a.name),b.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),b.find(".cert-number").attr("cert-type",a.certtype),b.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),b.attr("pid",this.pid),b.attr("data-passenger-type","0"),b.attr("data-certTypeName",a.certtypeName),b.attr("data-certNumber",a.certnumber),b.attr("data-certType",a.certtype),b.attr("data-name",a.name),b.attr("data-date",a.date),c.append(b);var d=new Date;(d.diff(new Date(a.date),3)<30||d.diff(new Date(a.date),1)>80)&&b.find(".name").append('<span class="ins-des">不支持保险</span>');for(var e=0;e<this.childrenCount;e++){var f=$(O.TEMPLATE.PEOPLELIST_C);f.find(".passenger-name").text(a.name),f.find(".cert-number").text(a.certtypeName+"/ "+a.certnumber),f.find(".cert-number").attr("cert-type",a.certtype),f.find(".cert-number").attr("cert-number",a.certnumber),b.find(".cert-number").attr("cert-type-day",a.date),b.find(".cert-number").attr("cert-id",a.cid),f.attr("cid",this.pid),f.attr("data-passenger-type",1),c.append(f)}}),H(),G(),O.changePrice(),b||O.hide())},changePrice:function(){var b=0,c=$(".user .people-list li",a),d=$(".seat-type",a).attr("data-seat-price"),e=c.length,f=0;"1"==E&&(f=$(".user .people-list li[data-passenger-type=0][data-certtype=1]",a).length);var g=z?parseInt(z.typePrice):0,h=0,i=0,j=$(".redPacket",a).attr("data-price");return(void 0==j||""==j||0>j)&&(j=0),"0"!=B&&(h=Number($(".j-to-delivery",a).attr("data-deliverCost")),isNaN(h)&&(h=0),i=Number($(".j-to-delivery",a).attr("data-fee")),isNaN(i)&&(i=0)),b=Number(d*e)+Number(g*f)+h+Number(i*e)-Number(j),0>b&&(b=0),$(".order-bar .total div",a).first().text("￥"+b),{ticketPrice:d,passengerNumber:e,insuranceNumber:f,insprice:g,totalPrice:b,deliverCost:h,fee:i,needinsurance:E}},updateData:function(a){a?this.dateList=a:localStorage.getItem("train-orderPeopleList")&&(this.dataList=localStorage.getItem("train-orderPeopleList").split(","))},fixedWidth:function(a){var b=a.find(".people-info").width(),c=a.find(".label-checkbox").width();b>c-51&&a.find(".people-info").width(c-51)},showOnLowDevice:function(){this._isOnLowDeviceShow()&&this.page.show()},hideOnLowDevice:function(){this._isOnLowDeviceShow()&&this.page.hide()},_isOnLowDeviceShow:function(){return this.page.hasClass("page-on-center")&&x?!0:!1},_bindEvent:function(){$(".set-seat",a).on("click",function(){Q.show($(".set-seat .chosen-seat",a))}),$(".person-list .to-add-people",a).on("click",function(){O.addPeople()}),$(".person-list",a).on("click","li .to-edit",O.editPeople),$(".person-list .add-passenger",a).on("click",function(){O.renderPersonList()}),$(".person-list header a",a).on("click",function(){O.hide()})}},P={elem:null,TEMPLATE:'<div class="edit-people-info page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">编辑乘客</h1></header><div class="page-content" style="z-index: 9995;"><form class="input-group "><div class="input-row button-line"><label for="order-cert-type">证件类型</label><input id="order-cert-type" type="text" class="cert-type" readonly="readonly"><div class="triangle-right-buttom"></div></div><div class="input-row button-line"><label for="order-name">乘客姓名</label><input id="order-name" type="text" class="name"><div class="triangle-right-buttom"></div></div><div class="input-row button-line"><label for="order-cert-number">证件号码</label><input id="order-cert-number" type="text" class="cert-number"><div class="triangle-right-buttom"></div></div><div class="input-row button-line" style="display:none;"><label for="order-cert-day" style="width: 100%;z-index:2;">出生日期</label><input id="order-cert-day" readonly="readonly" placeholder="请选择您的出生日期" type="text" class="cert-day" style="position:absolute;right: 0px;z-index:1"><div class="triangle-right-buttom"></div></div></form></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block add-passenger">完成</button></nav></div>',page:null,type:0,isAddToPage:!1,people:null,certTypeSelector:null,pid:null,dp:null,init:function(){this.page=$(template("order/editPeopleInfoPlugin",{})),this.page.appendTo(b.getActiveLayer());var c=$("<div>");c.appendTo(b.getActiveLayer()),P.dp=c.datepicker({confirmFn:function(b){$("#order-cert-day",a).val(b.year+"-"+b.month+"-"+b.day),P.dp.hide()},cancelFn:function(){P.dp.hide(),console.log(" this is cancel call back")}}),e.add("datepicker",P.dp),$("#order-cert-day",a).on("click",function(){var b=/^\d{4}-([1-9]|(1[0-2]))-([1-9]|([1-2][0-9]|30|31))$/;b.test($("#order-cert-day",a).val())?P.dp.show(new Date($("#order-cert-day",a).val().replace(/-/g,"/"))):P.dp.show()}),$(".edit-people-info  .add-passenger",a).on("click",function(){P.renderPeopleList(),H()}),$(".edit-people-info header a",a).on("click",function(){P.hide()}),this.certTypeSelector=$(".cert-type",a).slideSelector({title:"证件类型",data:[{value:"1",text:"身份证"},{value:"b",text:"护照"},{value:"c",text:"港澳通行证"},{value:"g",text:"台湾通行证"}],callback:function(b){$(".cert-type",a).val(b.text),$(".cert-type",a).attr("val",b.value),"1"===b.value?$("#order-cert-day",a).parent().hide():$("#order-cert-day",a).parent().show()}}),e.add("certTypeSelector",this.certTypeSelector)},beforeShow:function(b,c,d,e,f){var g=$(".edit-people-info form",a),h={1:"身份证",b:"护照",c:"港澳通行证",g:"台湾通行证"};this.type=b,this.isAddToPage=!!e,d?(g.find(".cert-type").val(h[c.certtype]),g.find(".cert-type").attr("val",c.certtype),g.find(".name").val(c.name),g.find(".cert-number").val(c.certnumber),g.find(".cert-number").attr("cid",c.cid),g.find(".cert-day").val(c.date),g.attr("add",0),this.certTypeSelector.selectValue(c.certtype),"1"===c.certtype?$("#order-cert-day",a).parent().hide():$("#order-cert-day",a).parent().show()):(g.find(".cert-type").val(""),g.find(".name").val(""),g.find(".cert-number").val(""),g.find(".cert-day").val(""),g.attr("add",1),this.certTypeSelector.selectValue(""),$("#order-cert-day",a).parent().hide()),this.elem=d,this.people=c,this.pid=f},afterShow:function(){O.hideOnLowDevice(),x&&y.hide()},afterHide:function(){O.showOnLowDevice(),x&&y.show()},renderPersonListFn:function(b,c,d,e,f,g,h){var i=localStorage.getItem("train-orderPeopleList")?localStorage.getItem("train-orderPeopleList"):"";O.isLogin&&(i=N);var j,k,l=P.elem?P.elem:$(O.TEMPLATE.ADDLIST),m={name:b,certnumber:e,certtype:c,certtypeName:d,seat:$(".ticket li.selected",a).find(".ticket-name span").first().text(),date:f,cid:"undefined"!==h&&h?parseInt(h):null};if(M.updateData(P.pid,null,m),0===this.type)l.find(".people-name").text(b),l.find(".cert-number").text(d+"/ "+e),l.find(".cert-number").attr("cert-type-name",d),l.find(".cert-number").attr("cert-type",c),l.find(".cert-number").attr("cert-number",e),l.find(".cert-number").attr("cert-type-day",f),h&&l.find(".cert-number").attr("cert-id",h),P.elem?(j=P.people,k=j.name+"-"+j.certnumber+"-"+j.certtype+"-"+j.date,i=i.replace(k,g)):(i+=""===i?"":",",i+=g,l.insertAfter($(".person-list .add-people-list li",a).first())),O.fixedWidth(l),O.isLogin?(N=i,O.updateData(N)):(1==o.storage&&localStorage.setItem("train-orderPeopleList",i),O.updateData()),P.isAddToPage&&(l.find(".label-checkbox .checkbox").addClass("checked"),O.renderPersonList());else{var n=l.find(".people-info .cert-number"),p=$("li[cid='"+l.attr("pid")+"']",a);p.each(function(){var a=$(this).find(".people-info .cert-number");$(this).find(".passenger-name").text(m.name),$(this).find(".cert-number").text(m.certtypeName+"/ "+m.certnumber),$(this).find(".cert-number").attr("cert-type",m.certtype),$(this).find(".cert-number").attr("cert-number",m.certnumber),h&&a.attr("cert-id",h)});var q=$("li[pid='"+l.attr("pid")+"']",a);q.find(".passenger-name").text(m.name),q.find(".cert-number").text(m.certtypeName+"/ "+m.certnumber),q.find(".cert-number").attr("cert-type-name",m.certtypeName),q.find(".cert-number").attr("cert-type",m.certtype),q.find(".cert-number").attr("cert-number",m.certnumber),q.find(".cert-number").attr("cert-type-day",m.date),q.attr("data-certTypeName",m.certtypeName),q.attr("data-certNumber",m.certnumber),q.attr("data-certType",m.certtype),q.attr("data-name",m.name),h&&n.attr("cert-id",h),j=P.people,k=j.name+"-"+j.certnumber+"-"+j.certtype+"-"+j.date,i=i.replace(k,g),O.isLogin?(N=i,O.updateData(N)):(1==o.storage&&localStorage.setItem("train-orderPeopleList",i),O.updateData()),O.initList(),$(".person-list .add-people-list",a).find('[cert-number="'+e+'"]',a).parent().parent().find(".checkbox").addClass("checked")}P.hide()},renderPeopleList:function(){var b=$(".edit-people-info form",a),e=b.find(".name").val().replace("不支持保险",""),f=b.find(".cert-type").attr("val"),g=b.find(".cert-type").val(),h=b.find(".cert-number").val(),k=b.find(".cert-day").val(),l=b.find(".cert-number").attr("cid"),m=localStorage.getItem("train-orderPeopleList")?localStorage.getItem("train-orderPeopleList"):"";O.isLogin&&(m=N);var n=(P.elem?P.elem:$(O.TEMPLATE.ADDLIST),[]);void 0!=m&&null!=m&&""!=m&&(n=m.split(","));var o=!1,p=1==parseInt(b.attr("add"))?!0:!1;if(console.log(p),!f||""===f)return void d.alert("请选择证件类型");if(""===e)return void d.alert("请输入姓名");if(e.indexOf("-")>0)return void d.alert("姓名格式不正确");if(""===h)return void d.alert("请输入证件号");if("1"==f){var q=h.substring(0,h.length-1),r=h.substring(h.length-1);if(r=r.toUpperCase(),h=q+r,b.find(".cert-number").val(h),!c.idCard(h))return void d.alert("请输入正确的证件号")}else{if(void 0==k||null==k||""==k)return void d.alert("请选择出生日期");var s=Date.parseDate(k),t=(new Date).date(3),u=s.diff(t,3);if(u>0)return void d.alert("出生日期不能大于今天")}var v=0;if($.each(n,function(){var a=this.split(",")[0],b=a.split("-"),c=b[3]+"-"+b[4]+"-"+b[5];b[0]===e&&b[1]===h&&c===k&&(v++,o=!0)}),v>0)return void d.alert("不能添加重复的乘客人信息");var w=e+"-"+h+"-"+f+"-"+k;O.isLogin&&p&&!o?(i(),$.ajax({type:"post",url:"http://m.elong.com/train/mode12306/addpassenger",data:{passengerName:e,certTypeCode:f,certNo:h,birthDate:k},timeout:5e3,success:function(a){var b;b="object"==typeof a?a:JSON.parse(a),j(),b.IsError===!1?P.renderPersonListFn(e,f,g,h,k,w,111):d.alert(b.ErrorMessage,function(){})},error:function(a,b,c){j();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})):!O.isLogin||p||o?o?P.hide():P.renderPersonListFn(e,f,g,h,k,w):(i(),$.ajax({type:"post",url:"http://m.elong.com/train/trainCustomer/updateCustomer",data:{cid:l,name:e,ctype:f,cnumber:h,date:"1"===f?"":k},timeout:5e3,success:function(a){j();var b;b="object"==typeof a?a:JSON.parse(a),a&&0===b.ErrorCode?P.renderPersonListFn(e,f,g,h,k,w,b.Data):d.alert(b.ErrorMessage,function(){})},error:function(a,b,c){j();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}}))}},Q={TEMPLATE:{BODY:'<div class="seat-type-select page-plugin"><div class="masker"></div><div class="type-items"><div class="seat-title"><span class="seat-cancel">取消</span>可选服务类型</div><div class="seat-tips">选择我要选座预订的车票，将通过快递方式送达。</div><ul></ul></div></div>',ITEM:'<li class="delivery" value="delivery" data-seat-type="1"><span class="seat-icon"></span><span class="seat-info">送票上门</span><span class="seat-tip">方便快捷更省心</span></li><li class="bottom-seat" value="bottom" data-seat-type="3"><span class="seat-icon"></span><span class="seat-info">我要下铺</span><span class="seat-tip">更大空间，更好享受</span></li><li class="bywindow-seat" value="bywindow" data-seat-type="5"><span class="seat-icon"></span><span class="seat-info">靠窗</span><span class="seat-tip">看看沿途的风景</span></li><li class="adjacent-seat" value="adjacent" data-seat-type="6"><span class="seat-icon"></span><span class="seat-info">连座/包厢</span><span class="seat-tip">在一起，才好玩</span></li><li class="normal-seat" value="inAdjacent" data-seat-type="0"><span class="seat-icon"></span><span class="seat-info">不需要</span><span class="seat-tip">我不想选座</span></li>'},init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer());var c=this.page,d=$("ul",c);this.setArea=$(".choose-seat",a),d.append($(this.TEMPLATE.ITEM)),d.on("click","li",function(){B=$(this).attr("data-seat-type"),F(),K(),O.changePrice(),Q.hide()}),$(".seat-cancel",a).on("click",function(){Q.hide()})},beforeShow:function(b){var c=$(".seat-type-select li",a);c.hide();var d=JSON.parse($("#sendTicketList",a).val());d.push("0"),d.forEach(function(a){c.each(function(b,c){var d=$(c);d.attr("data-seat-type")==Number(a)&&d.show()})});b.attr("value");this.elem=b,$(".seat-type-select li",a).removeClass("selected"),$('.seat-type-select li[data-seat-type="'+B+'"]',a).addClass("selected")}},R={TEMPLATE:{BODY:'<div class="time-list page-plugin"><div class="bar bar-nav"><div class="time-list-close">关闭</div></div><div class="page-content"><div class="list-title">列车时刻表</div><div class="list-head"><span class="station-num">站次</span><span class="station-name">车站</span><span class="station-arrive">到时</span><span class="station-depart">发时</span><span class="station-stay">停留</span></div><div class="station-list" data-type="stationBody"></div></div></div>',STATION:'<div class="station"><span class="station-num">${station-num}</span><span class="station-name">${station-name}</span><span class="station-arrive">${station-arrive}</span><span class="station-depart">${station-depart}</span><span class="station-stay">${station-stay}</span></div>'},page:$(".time-list",a),option:{showType:"transition",transitionClass:"time-list-active"},init:function(){var b=this;this.page=$(this.TEMPLATE.BODY),$(a).on("click",".time-list-close",function(){R.hide()}),$(a).on("click",".schedule-content",function(){var c=$("[data-type=stationBody]",this.page);c.html('<div class="station">列车时刻表加载中...</div>');var d={trainNum:$(".coach",a).text(),startDate:$(".start .date",a).text()},e=$.post("http://m.elong.com/train/trainOrder/getStationInfo",d);e.done(function(a){setTimeout(function(){a=$.parseJSON(a);for(var d="",e=0;e<a.trainDetailList.length;e++){var f=a.trainDetailList[e],g=b.TEMPLATE.STATION.replace("${station-num}",e+1).replace("${station-name}",f.stationName).replace("${station-arrive}",f.arrivalTime).replace("${station-depart}",f.departTime).replace("${station-stay}",f.stopTime);d+=g}c.html(d)},1e3)}),e.fail(function(){c.html('<div class="station">获取列车时刻表出错</div>')}),R.show()})},afterShow:function(){x&&y.hide()},afterHide:function(){x&&y.show()}},S={TEMPLATE:'<div class="des-page page-on-right page-plugin"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title">取票退票退保规则</h1></header><div class="page-content" style="padding:50px 10px"><span>1、取票</span><div style="height:10px"></div>1）确认出票成功后，您需携带预订时使用的有效身份证件前往火车站售票窗口、铁路客票代售点或车站自动售取票机上换取纸质车票，部分高铁动车车次支持刷二代身份证直接检票乘车。<br>2）二代身份证无法自动识别或者使用其他有效身份证购买的，需出示乘车人有效身份证原件和窗口取票号（短信中以大写字母E开头的号码）到车站窗口或代售点办理换票手续。<br>3）代售点收取代售费5元/张。另外车站售票窗口取异地票，火车站将收取代售费5元/张，此项收费与艺龙无关。<br>4）暂无配送服务。<br><div style="height:10px"></div><span>2、改签</span><div style="height:10px"></div>1）艺龙暂不提供改签服务，需您自行携带购票时使用的有效证件原件和火车票。在火车发车前前去始发地火车站窗口办理。如果改签过程中产生的应退票款，我们将会在3-20个工作日内原渠道退还。<br>2）特别提示：铁路局规定车票只能改签一次，且必须是目的地城市相同的车票。自2014年12月3日起，铁路客票延长预售期。客票预售期延长至60天后，开车前48小时（不含）以上，可改签预售期内的其他列车；开车前48小时以内，可改签开车前的其他列车，也可改签开车后至票面日期当日24:00之间的其他列车，不办理票面日期次日及以后的改签；开车之后，旅客仍可改签当日其他列车，但只能在票面发站办理改签。已经改签的车票不能再次改签，但可在改签后车票载明的列车开车前退票。<br><div style="height:10px"></div><span>3、退票</span><div style="height:10px"></div>1）订单已出票且未换取纸质车票，在发车前3小时可以在“火车票订单”中在线申请退票。我们在线退票处理时间是7:00-23:00。非工作时间或者已取票的乘客，如需退票，请凭购票时的有效证件在发车前到火车站退票窗口办理退票。<br>2）根据铁路局退票规定：自2014年12月3日起，铁路客票延长预售期；客票预售期延长至60天后，对开车前15天（不含）以上退票的，不收取退票费。距离票面乘车站开车时间15天（含）以内、48小时以上的按票价5%计；24小时以上、不足48小时的按票价10%计；不足24小时的按票价20%计。并按照最低2元/张收取退票费。如果改签后的车票乘车日期在春运（即2015年2月4日至3月15日）期间的，退票时一律收取20%的退票费。最终退款以铁路局实退为准。<br><div style="height:10px"></div><span>4、到账说明：</span><div style="height:10px"></div><span style="color:Red">由于各铁路局相关政策、火车票票源紧张等原因，支付后无法保证100%出票成功。</span><br>1）无票或取消订单退款到帐说明：退款到帐时间约为3-21天；应退票款按银行规定时限退还至购票时所使用的银行卡（原渠道返还），请注意查收。<br>2）特别注意事项：若您看到订单状态为“已退款”但久未收到退款，由于退款涉及个人帐号隐私，请您凭当时支付的交易号咨询支付平台客服热线。支付宝平台客服热线：95188(7*24小时服务，需支付交易号)<br>3）如需退票报销凭证，请凭购票所使用的乘车人有效身份证件原件和订单号码在办理退票之日起10日到车站退票窗口索取。<br><div style="height:10px"></div><span>5、退保</span><div style="height:10px"></div>1) 线上退票：如需退保，请您于该次列车正常时间出发前3小时（含），登陆艺龙网站（www.elong.com）或手机客户端申请退火车票的同时退订本保险产品。退保成功后，保费将退回至原支付帐户。<br>2) 窗口退票：如需退保，请您于该次列车正常时间出发前3小时（含），及时致电艺龙客服（4009333333）申请退保。否则将按照原车次信息生效。</div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),$(".des",a).on("click",function(){S.show()}),$(".des-page header a",a).on("click",function(){S.hide()})}},T={TEMPLATE:'<div class="des-page page-on-right page-plugin inSurej" style="background:#000;color:#FFF;opacity: 0.8;"><header class="bar bar-nav" style="background:#000;color:#FFF;"><a class="icon icon-left-nav pull-left" style=""></a><h1 class="title">火车票交通意外险</h1></header><div class="page-content  page-content-inSure" style="padding:50px 10px;background: #000;">1. 艺龙提供交通意外险的产品和服务，是联合平安财产保险股份有限公司、新华人寿保险股份有限公司推出了全电子保单形式的艺龙铁路乘客意外险。<br>2. 保险保费：￥20元人民币/人；保额：最高赔付￥80万元人民币（未满18周岁投保最高赔付不超过10万）。<br>3. 保障范围：被保险人每次以乘客身份乘坐合法商业运营的客运火车，并遵守承运人关于安全乘坐的规定，自持有效车票检票并进入所乘客运火车车厢时起至抵达车票载明的终点离开所乘客运火车车厢的期间内遭受意外伤害所导致的保险责任。<br>4. 份数限制：18周岁(含)以上每人每车次限购1份。<br>5. 保险对象：凡零周岁（出生满30天）以上且80周岁以下的旅客，均可以作为被保险人。<br><div style="height:10px"></div><span>6. 退保</span><div style="height:10px"></div>1) 线上退保：在该次列车正常时间出发前3小时(含)，用户可在线申请退火车票的同时退订本保险产品; <br >2)线下退保：在该次列车正常时间出发前3小时之后，用户在火车站退票的，请及时通知我司客服(400-689-9617)申请退保。否则将按照原车次信息生效。<br >7. 改签：用户在火车站改签后，请及时致电保险公司客服电话进行报备。如没有及时通知，保险还是原车次生效，一旦出险，后果自行承担。<br >8.咨询：产品详细条款可分别致电保险公司客服电话进行垂询。保险公司网站及客服电话分别为：平安财产网站(www.pingan.com)、客服电话(95511)，新华人寿网站(www.newchinalife.com)、客服电话(95567)。具体投保公司请根据您接收短信里面购买的保险公司为准。 </div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),$(".des-page header a",a).on("click",function(){T.hide()})}},U={init:function(){this.page=$(template("order/insurancePlugin",{})),this.page.appendTo(b.getActiveLayer()),this.insuranceObj=z;var c=this.page,d=c.find(".insure-body");c.find(".icon-back").on("click",function(){U.hide()}),c.find(".filled").on("click",function(){E=d.find(".active").attr("data"),H(),O.changePrice(),U.hide()}),$(".forInsure",a).on("click",function(){U.show(),d.find(".insureName").text(z.name),d.find("li[data="+E+"]").click()}),d.on("click","li",function(){$(this).addClass("active").siblings().removeClass("active")}),c.find(".insure-illustrates").on("click",function(){e.add("inuresTip",T),T.show()})}},V={TEMPLATE:'<div class="add-post-addresses page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-left-nav pull-left"></a><h1 class="title" style="margin-bottom:13px;">新建邮寄地址</h1></header><div class="page-content"><div class="info-row" margin-top:10px;"><label for="add-post-name">姓名：</label><input id="add-post-name" type="text" class="add-post-name"></div><div class="info-row"><label for="add-post-address">地址：</label><input id="add-post-address" type="text" class="add-post-address" placeholder="请输入正确的地址,以方便邮寄"></div></div><nav class="bar bar-tab"><button class="btn btn-block btn-primary confirm">确定</button></nav></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var a=this.page;this.updateType=0,this.updateId=0,a.on("click",".confirm",$.proxy(this.confirm_click,this)),a.on("click",".icon",function(){V.hide()})},validateData:function(a,b){if(""===a)return void d.alert("请输入姓名");if(""===b)return void d.alert("请输入邮寄地址");var c=J(),e=!0;return c.forEach(function(c){c.name==a&&c.addressContent==b&&(e+=!1)}),e?!0:(d.alert("请勿添加重复的地址信息"),!1)},beforeShow:function(a,b,c,d){this.updateType=a;var e=this.page.find(".add-post-name"),f=this.page.find(".add-post-address");"0"==a?(e.val(""),f.val("")):(e.val(c),f.val(d),this.updateId=b)},confirm_click:function(){var b=this.page,c=b.find(".add-post-name").val(),d=b.find(".add-post-address").val();if(this.validateData(c,d)){var e='<label class="label-radio" data-group="order_receipt"  data-id="0" data-name="'+c+'" data-address="'+d+'"><span class="new-name">'+c+'</span><span class="new-address-t">地址:</span><span class="new-address">'+d+'</span><div class="checkbox"></div><div class="edit-address"></div></label>',f=$(".post-address",a),g=f.html();f.html(e+g),0==this.updateType?this.insertData(c,d):this.updateData(c,d),V.hide()}},insertData:function(a,c){var e=this;if(h()){var f={name:a,content:c},g=$.post("http://m.elong.com/train/trainAddress/saveInsuranceAddress",f);g.done(function(a){a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(e.hide(),W.renderReceiptAddress(a.Data)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})}).fail(function(a){console.log(a)})}else{var i=J();i.push({id:0,addressContent:c,name:a}),1==o.storage&&localStorage.setItem("postAddress",JSON.stringify(i))}},updateData:function(a,c){var e=this;if(h()){var f={id:this.updateId,name:a,content:c},g=$.post("http://m.elong.com/train/trainAddress/updateInsuranceAddress",f);g.done(function(a){a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(e.hide(),W.renderReceiptAddress(e.updateId)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})})}else{var i=J();i.push({id:0,addressContent:c,name:a}),1==o.storage&&localStorage.setItem("postAddress",JSON.stringify(i))}}},W={TEMPLATE:'<div class="receipt-wrapper page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">保险发票</h1></header><div class="page-content"><ul class="receipt-body"><li class="active">不需要保险发票</li><li>需要保险发票</li></ul><div class="receipt-address"><p class="insure-remind">发票将在您出行后第二个工作日内使用平邮方式寄出，预计15个工作日内送达；发票统一为定额发票，仅作报销凭证，不可作为保单凭证。</p><p class="add"><span>邮寄地址</span><span class="add-new-address">新增邮寄地址<b>+</b></span></p><div class="post-address clearfix"></div></div></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block filled">完成</button></nav></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var c=this.page,d=c.find(".receipt-body"),f=$(".forReceipt",a);this.plugins=e.plugins.order,f.on("click",function(){W.show()}),c.on("click",".icon-back",function(){W.hide()}),c.on("click",".filled",$.proxy(this.filled_click,this)),d.on("click","li",function(){var a=c.find(".receipt-address");W.needReceipt=$(this).index(),$(this).addClass("active").siblings().removeClass("active"),0==W.needReceipt?a.hide():a.show()}),c.on("click",".add-new-address",function(){V.show(0,0)}),c.on("click",".edit-address",$.proxy(this.editAddress_click,this)),this.renderReceiptAddress()},getAddressAjaxData:function(){var a=$.Deferred();if(console.log(h()),h()){var b=$.post("http://m.elong.com/train/trainAddress/getInsuranceAddresses");b.done(function(b){b="object"==typeof b?b:JSON.parse(b),0===b.ErrorCode?(b="object"!=typeof b.Data?JSON.parse(b.Data):b.Data,a.resolve(b)):a.resolve([])})}else a.resolve([]);return a.promise()},getLocalData:function(){var a=$.Deferred(),b=J();return a.resolve(b),a.promise()},renderReceiptAddress:function(b){$.when(this.getAddressAjaxData(),this.getLocalData()).then(function(c,d){var e=c;d.forEach(function(a){var b=!0;c.forEach(function(c){c.name==a.name&&c.addressContent==a.addressContent&&(b+=!1)}),b&&e.push(a)});var f=$(".post-address",a),g=[];if(e.forEach(function(a){var b='<label class="label-radio" data-group="order_receipt" data-id="'+a.id+'" data-name="'+a.name+'" data-address="'+a.addressContent+'"><span class="new-name">'+a.name+'</span><span class="new-address-t">地址:</span><span class="new-address">'+a.addressContent+'</span><div class="checkbox"></div><div class="edit-address"></div></label>';g.push($(b))}),f.html(g),void 0!=b){var h=f.find("label[data-id="+b+"]");$(":radio",f).prop("checked",!1),$(":radio",h).prop("checked",!0)}})},filled_click:function(){var b,c,e,f=this.page,g=(f.find(".receipt-body"),$(".forReceipt",a));if(W.needReceipt){var b=null;if($(".label-radio",f).each(function(){$(this).find(".checked").length>0&&(b=$(this))}),!b)return void d.alert("请选择邮寄地址");c=b.find(".new-name").text(),e=b.find(".new-address").text(),g.find(".need-receipt").text("需要").attr("data-name",c).attr("data-address",e).attr("data-needReceipt",1)}else g.find(".need-receipt").attr("data-needReceipt",0).text("不需要");W.hide()},editAddress_click:function(a){var b=$(a.currentTarget),c=b.parents(".label-radio").eq(0),d=c.attr("data-id"),e=c.attr("data-name"),f=c.attr("data-address");V.show(1,d,e,f)}},X={TEMPLATE:'<div class="delivery-address page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">配送地址</h1></header><div class="page-content"><div class="delivery-body"><label class="delivery-name"><span>收件人</span><input class="delivery_name" placeholder="请填写收件人姓名" type="text"/></label><label class="delivery-region"><span>配送区域</span><input readonly class="delivery_region" placeholder="请选择配送区域" type="text"/></label><label><span>详细地址</span><input class="delivery_street" placeholder="请填写详细地址" type="text"/></label></div><p style="padding: 5px 10px;">我要选座服务预售期一般为58天，超过58天的会在预售期开始后第一时间出票。</p></div><nav class="bar bar-tab"><button type="button" class="btn btn-primary btn-block filled">完成</button></nav><div class="delivery-tips"><div class="delivery-masker"></div><div class="delivery-detail"><p class="delivery-title">配送地址说明</p><p class="delivery-info">1、我们根据您的配送地址送票上门，不在选择范围内的地区请勿下单，如区域错误导致无法配送，责任自行承担。<br/>2、车站、机场、旅游度假区、岛屿、党政机关、部队、军事基地、偏远乡村暂不提供送票上门服务。</p></div></div>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer());var c=$(".delivery-address",a),f=localStorage||null;this.wrapper=c,this.selectedArea={},this.plugins=e.plugins.order,$(".to-delivery",a).on("click",function(){if(X.show(),X.plugins.hasOwnProperty("deliveryRegionPickPro")||e.add("deliveryRegionPickPro",Y),Y.show||e.add("deliveryRegionPickPro",Y),f.getItem("deliveryCityList")){var a=f.getItem("deliveryCityList");a=JSON.parse(a),X.renderCity(a)}else $.ajax({type:"get",url:"http://m.elong.com/train/trainAddress/queryDeliveryCity",timeout:5e3,success:function(a){console.log(a),a="object"==typeof a?a:JSON.parse(a),0===a.ErrorCode?(a="object"!=typeof a.Data?JSON.parse(a.Data):a.Data,X.renderCity(a),a=JSON.stringify(a),f.setItem("deliveryCityList",a)):d.alert({container:b.getActiveLayer(),content:a.ErrorMessage})},error:function(a,b,c){var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})}),$(".icon-back",c).on("click",function(){X.hide()}),$(".filled",c).on("click",function(){X.saveDeliveryAddress()}),$(".delivery_region",c).on("click",function(){Y.show()}),$(".delivery-region span",c).on("click",function(){$(".delivery-tips",c).addClass("deli-show")}),$(".delivery-tips",c).on("click",function(){$(this).removeClass("deli-show")})},renderCity:function(b){var c,d=b.provinceList,e=d.length,f=$(".regions",a),g="";for(c=0;e>c;c++)g+='<li class="dr-item prov-item" data="'+d[c].provinceId+'"">'+d[c].provinceName+"</li>";f.html(g),f.on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");var b=a.attr("data"),c=null;X.selectedArea.prov=b,X.selectedArea.provName=a.text();for(var f=0;e>f;f++)d[f].provinceId==b&&(c=d[f].cityList);X.showDeliveryRegionCity(c)})},saveDeliveryAddress:function(){var c=this.wrapper,e=$(".delivery_name",c).val(),f=$(".delivery_region",c).val(),g=$(".delivery_street",c).val(),h=X.selectedArea,i=$("#ticketTime",a).val();return e&&g?(m.startLoading(),void $.ajax({type:"post",url:"http://m.elong.com/train/trainAddress/getDeliveryByAreaId",timeout:"10000",data:{areaId:h.area,ticketTime:i},success:function(c){if(m.stopLoading(),c="object"==typeof c?c:JSON.parse(c),0===c.ErrorCode){c=JSON.parse(c.Data);var i={receiver:e,details:g,areaInfo:{provinceId:h.prov,provinceName:h.provName,cityId:h.city,cityName:h.cityName,areaId:h.area,areaName:h.areaName}},j=JSON.stringify(i);console.log(j),$(".delivery-to",a).attr("data-address",j),$(".delivery-to",a).show().text("配送至："+f+g),$(".post-tips",a).text(f+g),c.deliverDescription&&""!=c.deliverDescription&&$(".deliveryInfo",a).text(c.deliverDescription).show(),$(".j-to-delivery",a).attr("data-deliverCost",c.deliverCost).attr("data-fee",c.fee),O.changePrice(),X.hide()}else d.alert({container:b.getActiveLayer(),content:c.ErrorMessage})},error:function(a,b,c){m.stopLoading();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}})):void d.alert("您的配送信息不完整！")},showDeliveryRegionCity:function(b){Z.show||e.add("deliveryRegionPickCity",Z),Z.show();var c,d=b,f=d.length,g=$(".citys",a),h="";for(c=0;f>c;c++)h+='<li class="dr-item prov-item" data="'+d[c].cityId+'"">'+d[c].cityName+"</li>";g.html(h),g.off("click").on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");for(var b=a.attr("data"),c=null,e=X.selectedArea,g=0;f>g;g++)d[g].cityId==b&&(c=d[g].areaList);e.city=b,e.cityName=a.text(),X.showDeliveryRegionArea(c)})},showDeliveryRegionArea:function(b){_.show||e.add("deliveryRegionPickArea",_),_.show();var c,d=b,f=d.length,g=$(".areas",a),h="";for(c=0;f>c;c++)h+='<li class="dr-item prov-item" data="'+d[c].areaId+'"">'+d[c].areaName+"</li>";g.html(h),g.off("click").on("click","li",function(){var a=$(this);a.addClass("chosen-region").siblings().removeClass("chosen-region");var b=a.attr("data");X.selectedArea.area=b,X.selectedArea.areaName=a.text(),X.renderAddress()})},renderAddress:function(){var a="",b=X.selectedArea;a=b.provName+b.cityName+b.areaName,X.wrapper.find(".delivery_region").val(a),_.hide(),Y.hide(),Z.hide()}},Y={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list regions"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){Y.hide()})}},Z={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list citys"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){Z.hide()})}},_={TEMPLATE:'<div class="delivery-region-pick page-plugin page-on-right"><header class="bar bar-nav"><a class="icon icon-back pull-left"></a><h1 class="title">地址选择</h1></header><ul class="region-list areas"><li>北京</li></ul>',init:function(){this.page=$(this.TEMPLATE),
this.page.appendTo(b.getActiveLayer()),this.page.find(".icon-back").on("click",function(){_.hide()})}},aa={TEMPLATE:{BODY:'<div class="addChild-page"><div class="addChild-title">使用成人证件购买儿童票,请选择</div><ul></ul></div>',ADDLIST:"<li>${name}</li>",PEOPLELIST:'<li><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>'},page:$(".addChild-page",a),option:{showType:"transition",transitionClass:"addChild-page-active"},init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),this.page.on("click touchstart pointerdown",function(a){}),$(".addChild-page",a).on("click","ul li",function(){var b=M.getPeopleItem($(this).attr("pid")),c=$(this).attr("pid");if(b){var d=JSON.parse(b.data),e=$("li[pid='"+c+"']",a)?$("li[pid='"+c+"']",a):$(".user .people-list",a),f=$(aa.TEMPLATE.PEOPLELIST);f.find(".passenger-name").text(d.name),f.find(".cert-number").text(d.certtypeName+"/ "+d.certnumber),f.find(".cert-number").attr("cert-type",d.certtype),f.find(".cert-number").attr("cert-number",d.certnumber),f.attr("cid",b.pid),f.attr("data-passenger-type",1),$("li[pid='"+c+"']",a)?e.after(f):e.append(f),O.changePrice(),M.addChild(b.pid,1)}aa.hide()})},beforeShow:function(){i(),$(".mask-layer",a).unbind("click").on("click",function(b){j(),$(".addChild-page ul li",a).remove(),aa.hide(),b.preventDefault(),b.stopPropagation()});var b=[],c=$(".people-list li",a);c.each(function(){var a=($(this).find(".people-info"),$(this));"0"===$(this).attr("data-passenger-type")&&b.push({name:a.attr("data-name"),certType:a.attr("data-certType"),certNumber:a.attr("data-certNumber"),certText:a.attr("data-certTypeName"),seatName:$(this).find(".seat").text(),seatCode:$(this).find(".seat").attr("code"),pid:$(this).attr("pid"),type:a.attr("data-passenger-type")})}),$(b).each(function(){var b=$(aa.TEMPLATE.ADDLIST.replace("${name}",this.name));b.attr("pid",this.pid),$(".addChild-page ul",a).append(b)})},beforeHide:function(){j(),$(".mask-layer",a).unbind("click"),$(".addChild-page ul li",a).remove()},afterShow:function(){},afterHide:function(){}},ba={TEMPLATE:{BODY:'<div class="totalPriceDes-page"></div>',CONTENT:'<ul><li><span class="left">${seat} (共${seatCount}人)</span><span class="right">￥ <span class="price">${seatPrice}</span><span></li><li data-type="insurance"><span class="left">保险 (共${insCount}份)</span><span class="right">￥<span class="price">${insPrice}</span><span></li><li data-type="sendTicket"><span class="left">配送费</span><span class="right">￥ <span class="price">${deliverCost}</span><span></li><li data-type="sendTicket"><span class="left">代购费 (共${seatCount1}人)</span><span class="right">￥ <span class="price">${fee}</span><span></li><li data-type="redPacket"><span class="left">红包</span><span class="right">￥ <span class="price">-${redPacketPrice}</span><span></li></ul><div class="total">总额：￥<span class="price">${totalPrice}</span></div>'},page:$(".totalPriceDes-page",a),option:{showType:"transition",transitionClass:"totalPriceDes-page-active"},IsShow:!1,init:function(){this.page=$(this.TEMPLATE.BODY),this.page.appendTo(b.getActiveLayer()),$(".totalPriceDes-page",a).on("click",function(){ba.hide()}),$(".order-detail",a).on("click",function(){console.log("clicked"),ba.IsShow?ba.hide():ba.show()})},beforeShow:function(){i(),$(".mask-layer",a).unbind("click").on("click",function(a){j(),ba.hide(),a.preventDefault()}),$(".totalPriceDes-page ul",a).remove(),$(".totalPriceDes-page div",a).remove();var b=O.changePrice(),c=$(".seat-type-wrap .seat-type",a).text(),d=Number($(".redPacket",a).attr("data-price"));isNaN(d)&&(d=0);var e=this.TEMPLATE.CONTENT;e=e.replace("${seat}",c),e=e.replace("${seatCount}",b.passengerNumber),e=e.replace("${seatCount1}",b.passengerNumber),e=e.replace("${seatPrice}",b.ticketPrice*b.passengerNumber),e=e.replace("${insCount}",b.insuranceNumber),e=e.replace("${insPrice}",b.insprice*b.insuranceNumber),e=e.replace("${totalPrice}",b.totalPrice),e=e.replace("${deliverCost}",b.deliverCost),e=e.replace("${fee}",b.fee*b.passengerNumber),e=e.replace("${redPacketPrice}",d);var f=$(e);0==B?$('[data-type="sendTicket"]',f).hide():$('[data-type="sendTicket"]',f).show(),0==E?$('[data-type="insurance"]',f).hide():$('[data-type="insurance"]',f).show(),0==d?$('[data-type="redPacket"]',f).hide():$('[data-type="redPacket"]',f).show(),this.page.append(f),$(".total",a).parent().attr("style","z-index:11010;"),ba.IsShow=!0},beforeHide:function(){j(),$(".mask-layer",a).unbind("click"),ba.IsShow=!1,$(".total",a).parent().removeAttr("style")}};e.add("addPeople",O),e.add("editPeopleInfo",P),e.add("siteList",Q),e.add("stationTimeList",R),e.add("desPage",S),e.add("addChild",aa),e.add("totalPriceDes",ba),e.add("deliveryAddress",X),e.add("insurance",U),e.add("receipt",W),e.add("addPostAddress",V);var ca={startdate:decodeURI(b.getHash("startdate")),startstation:decodeURI(b.getHash("startstation")),endstation:decodeURI(b.getHash("endstation")),trainNum:decodeURI(b.getHash("trainNum")),seatTypeCode:decodeURI(b.getHash("seatTypeCode"))},L=new f(o,ca);e.add("redPacket",L),L.page.on("selected",function(b,c){L.hide(),$(".redPacket",a).attr("data-id",c.id).attr("data-price",c.price),O.changePrice(),K()}),L.page.on("back",function(){L.hide()}),L.page.on("explain",function(){da.show("红包使用说明","http://promotion.elong.com/wireless/H5/html/bus/trainpacket.html")});var da=new g;e.add("explain",da),da.page.on("back",function(){da.hide()}),$(".user .add-adult",a).on("click",function(){return $(".people-list li",a).length>=5?void d.alert("单张订单乘客数量不能大于5个"):void O.show()}),$(".user .add-child",a).on("click",function(){if(0===$(".people-list li",a).length)return void d.alert("请先添加成人乘客信息");if($(".people-list li",a).length>=5)return void d.alert("单张订单乘客数量不能大于5个");var b=[],c=0,e=$(".people-list li",a);if(e.each(function(){var a=($(this),$(this));"0"===$(this).attr("data-passenger-type")&&c++,b.push({name:a.attr("data-name"),certType:a.attr("data-certType"),certNumber:a.attr("data-certNumber"),certText:a.attr("data-certTypeName"),pid:a.attr("pid"),type:a.attr("data-passenger-type")})}),c>1&&aa.show(),1==c){var f=$(".people-list",a),g='<li data-passenger-type="1"><div class="icon-block"><span class="icon-delete"></span></div><div class="passenger-name">张三</div><div class="people-info"><div class="passenger-type">儿童票</div><div class="cert-number">${cert-number}</div></div></div></li>',h=$(g);$(b).each(function(){"0"==this.type&&(h.find(".passenger-name").text(this.name),h.find(".cert-number").text(this.certText+"/ "+this.certNumber),h.find(".cert-number").attr("cert-type",this.certType),h.find(".cert-number").attr("cert-number",this.certNumber),h.find(".seat").text(this.seatName),h.find(".seat").attr("code",this.seatCode),h.attr("cid",this.pid),h.attr("data-passenger-type",1),f.append(h),O.changePrice(),M.addChild(this.pid,1))})}G()}),$(".people-list",a).on("click",".icon-block",function(c){var e=$(this).parent();if(e.attr("cid")&&(M.addChild(e.attr("cid"),-1),$('li[cid="'+e.attr("pid")+'"]',a).remove(),e.on(n,function(){setTimeout(function(){O.changePrice()},100)}),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),G(),H()}),e.addClass("before-remove")):(e.remove(),G(),H())),e.attr("pid")){var f=M.getPeopleItem(e.attr("pid"));if((void 0==f||null==f)&&(console.log(M),console.log(e)),f&&f.childrenCount>0){var g=JSON.parse(f.data);d.confirm({content:'移除 "'+g.name+'" 将同步移除与其同行的所有儿童票,是否确定该操作',success:function(){M.removeItem(e.attr("pid")),$('li[cid="'+e.attr("pid")+'"]',a).remove(),e.on(n,function(){setTimeout(function(){O.changePrice()},100)}),O.cancelSelect(e.find(".cert-number").attr("cert-number").trim()),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),G(),H()}),e.addClass("before-remove")):(e.remove(),G(),H())}})}else M.removeItem(e.attr("pid")),e.on(n,function(){setTimeout(function(){O.changePrice()},100)}),O.cancelSelect(e.find(".cert-number").attr("cert-number").trim()),b.transitionEnd?(e.on(b.transitionEnd,function(){e.remove(),G(),H()}),e.addClass("before-remove")):(e.remove(),G(),H())}return!1}),$(".bar .next",a).on("click",function(){if(""!=v)return""==w?void d.alert(v):void d.alert(v,function(){setTimeout(function(){b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+w,active:!0})},100)});var e=$(".people-list li",a),f=$(".phone-info input",a).val(),g=!0;if(0===e.length)return d.alert("请添加乘客"),!1;if(e.length>5)return void d.alert("单张订单乘客数量不能大于5个");if(""===f)return d.alert("请输入手机号",function(){$(".phone-info input",a).focus()}),!1;if(!c.mobile(f)||11!=f.length)return d.alert("请输入合法的手机号",function(){$(".phone-info input",a).focus()}),!1;var h=[],i=$(".seat-type",a).text(),j=$(".seat-type",a).attr("data-seat-code"),k=$(".seat-type",a).attr("data-seat-price"),n=$(".yield-seat .checkbox",a).hasClass("checked");n=n?1:0;var o={};if(e.each(function(){var b=($(this).find(".people-info"),$(this)),c=b.attr("data-name"),e=b.attr("data-certtype"),f=b.attr("data-certnumber"),k=b.attr("data-passenger-type"),l=$(".inSureSwitch",a).attr("data-needInsurance"),m=(JSON.stringify($("#insuranceInfo",a).val()),b.attr("data-date"));if("1"==k){var n=b.attr("cid"),p=$(".people-list li[pid="+n+"]",a);c=p.attr("data-name"),e=p.attr("data-certtype"),f=p.attr("data-certnumber"),m=p.attr("data-date")}if("1"!=k&&("0"!=k||o[f]))return d.alert("同一身份证乘客只能买一张票"),g=!1,!0;o[f]=!0;var q={name:c,certType:e,certNumber:f,seatname:i,seatcode:j,ticketType:k,needInsurance:0,insuranceType:0,insuranceNum:0};"1"==l&&"0"==k&&"1"==e&&(q.needInsurance=1,q.insuranceType=z.typeCode,q.insuranceNum=1),h.push(JSON.stringify(q))}),!g)return!1;var x=(location.search.split("&"),b.getHash("startdate"));invoiceAddress="",invoicePerson="";var y=$(".delivery-to",a).attr("data-address"),A=$(".redPacket",a).attr("data-id")||"",C=$(".forReceipt .need-receipt",a),D="";if("ON"==$("#randCodeSwitch",a).val()){var E=[];if($(".getrandcode-tag",a).each(function(a,b){E.push($(b).attr("pos"))}),D=E.join(","),""==D)return void d.alert("请选择验证码")}var F="0";ElongBridge&&0!=ElongBridge.RUNTIME_VERSION&&($("html").hasClass("ios")&&(F="1"),$("html").hasClass("android")&&(F="2"));var G={connectionmobile:f,customers:"["+h.join(",")+"]",enddate:$(".end .time",a).text(),endstation:$(".end .station",a).text(),seatlowprice:k,seatname:i,seatcode:j,startdate:$(".start .time",a).text(),startstation:$(".start .station",a).text(),trainno:$(".train .coach",a).text(),ordertime:x,durationtime:$(".during",a).text(),needInvoice:C.attr("data-needReceipt"),invoiceAddress:C.attr("data-address"),invoicePerson:C.attr("data-name"),personalTypeCode:B,address:y,personalParams:$(".set-num-area .count",a).text(),acceptOther:n,incomeDiscountId:A,orderType:2,isCtrip12306:$("#isCtrip12306",a).val(),randCode:D,globalRepeatSubmitToken:p,keyCheckIsChange:q,leftTicketStr:r,purposeCodes:s,tourFlag:t,trainLocation:u,customizedClientType:F};return"0"==G.personalTypeCode||void 0!=y&&null!=y&&""!=y?(console.log(G),m.startLoading(),$.ajax({type:"post",url:"http://m.elong.com/train/trainOrder/orderSubmit",data:G,success:function(a){if(m.stopLoading(),"object"==typeof a?result=a:result=JSON.parse(a),a&&0===result.ErrorCode)$("input[type=hidden]").remove(),location.href=result.Data;else if("1"==result.ErrorCode){var c=JSON.parse(result.Data),e=c.orderId,f=c.gorderId;if($("html").hasClass("android"))var e=c.gorderId,f=c.orderId;ElongBridge.pay({payFrom:"3",orderId:e,gorderId:f,tradeToken:c.token,notifyUrl:c.notifyUrl,totalPrice:c.payAmount,weiXinProductName:"艺龙网火车票订单支付",isCanback:!1,descTitle:c.descTitle,descSubhead:c.descSubhead,descInfo:c.descInfo,onsuccess:function(a){0==a.error?b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0}):1==a.error&&b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0})},onfail:function(a){b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+c.gorderId,active:!0})}})}else if("2"==result.ErrorCode)b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+result.Data,active:!0});else if("113"==result.ErrorCode){var g={content:result.ErrorMessage,btnArr:[{text:"查看原订单",type:"button",click:function(){setTimeout(function(){b.addPager({url:b.router.getUrlFromTpl("orderdetail")+"?gorderId="+result.Data,active:!0})},100)}}]};d.show(g)}else"509"==result.ErrorCode?d.alert(result.ErrorMessage,function(){l()}):d.alert(result.ErrorMessage,function(){})},error:function(a,b,c){m.stopLoading();var e="timeout"===b?"请求超时":"网络连接错误";d.alert(e)}}),!1):void d.alert("请选择配送地址")}),$(".redPacket",a).on("click",function(a){var b=$(a.currentTarget);if("false"!=b.attr("data-isUser")){var c=b.attr("data-id")||"";L.show(c)}}),$(".getrandcode-icon",a).on("click",function(){l()}),$(".getrandcode-body",a).on("click",function(a){var b=function(a,b){return $('<div class="getrandcode-tag" style="left:'+a+"px;top:"+b+'px;" pos="'+a+","+b+'"></div>')},c=parseInt(a.offsetX-12),d=parseInt(a.offsetY-12);$(this).find(".getrandcode-tags").append(b(c,d))}),$(".getrandcode-body",a).on("click",".getrandcode-tag",function(a){a.stopPropagation(),$(this).remove()}),$(".phone-info-icon",a).on("click",function(){ElongBridge.getTelephone({onsuccess:function(b){b.error?alert("联系人电话获取失败"):$("#order-mobile",a).val(b.data.phoneNum)},onfail:function(){}})}),$(".go-login",a).on("click",function(a){a.stopPropagation(),a.preventDefault(),ElongBridge.accountLogin({onsuccess:function(a){if(a.error)alert("登录失败");else{var b="https://msecure.elong.com/Member/SSO?redirecturl="+encodeURIComponent(location.href)+"&cardno="+a.data.cardno+"&sessiontoken="+a.data.session_token;location.href=b,setTimeout(function(){location.reload()},1e3)}},onfail:function(a){}})}),$("[data-rel=back]",a).on("click",function(a){a.stopPropagation(),a.preventDefault();var c=[];c.push("startstation="+decodeURI(b.getHash("startstation"))),c.push("endstation="+decodeURI(b.getHash("endstation"))),c.push("startdate="+decodeURI(b.getHash("startdate"))),c.push("trainNum="+decodeURI(b.getHash("trainNum"))),b.get("detail")&&b.get("detail").destroy(),b.addPager({url:b.router.getUrlFromTpl("detail")+"?"+c.join("&"),active:!0})}),function(){h(),F(),H(),K(),k(),b.get("detail")&&b.get("detail").destroy()}()})}),define("entry/train/js/bind12306",["src/js/common","src/js/core","entry/train/js/dialog"],function(a,b,c){b.onrender("bind12306",function(a){function d(){var b=$(".img-wrap .verify-img",a);$(".img-wrap .imgTags",a).html("");var d={type:1};f.startLoading();var e=$.post("http://m.elong.com/train/mode12306/getrandcode",d);e.done(function(a){var d;if(d="object"==typeof a?a:JSON.parse(a),d.IsError!==!1)return void c.alert(d.ErrorMessage);var e="data:image/png;base64,"+d.image;b.attr("src",e)}),e.always(function(){f.stopLoading()})}var e=$("#sysHidden",a).val();e=e?JSON.parse(e):{siteName:"train",storage:!0};var f=this,g=$("#isBind12306Hidden",a).val(),h=function(b){"0"==b?($(".binded",a).hide(),$(".unbind",a).show(),$(".account",a).val(""),$(".password",a).val("")):($(".binded",a).show(),$(".unbind",a).hide())};$(".img-wrap",a).on("click",function(a){var b=function(a,b){return $('<div class="tag" style="left:'+a+"px;top:"+b+'px;" pos="'+a+","+b+'"></div>')},c=parseInt(a.offsetX-12),d=parseInt(a.offsetY-12);$(this).find(".imgTags").append(b(c,d))}),$(".img-wrap",a).on("click",".tag",function(a){a.stopPropagation(),$(this).remove()}),$(".account",a).on("keyup",function(){0==$(this).val().length&&$(".password",a).val("")}),$(".reload-img",a).on("click",function(){d()}),$(".btn_bind12306",a).on("click",function(){b.get("order12306")&&b.get("order12306").destroy();var e=$(".account",a).val(),g=$(".password",a).val(),h=[];if($(".tag",a).each(function(a,b){h.push($(b).attr("pos"))}),h=0==h.length?"":h.join(","),0==e.length)return void c.alert("请输入12306账户名");if(0==g.length)return void c.alert("请输入12306密码");if($(".verify-img").length>0&&""==h)return void c.alert("请选择验证码");var i={type:1,randCode:h,user:e,password:g};f.startLoading();var j=$.post("http://m.elong.com/train/mode12306/bindelongand12306",i);j.done(function(a){var e;return e="object"==typeof a?a:JSON.parse(a),e.IsError!==!1?void c.alert(e.ErrorMessage,function(){d()}):void f.reload(b.router.getUrlFromTpl("bind12306"))}),j.always(function(){f.stopLoading()})}),$(".nav12306-reg",a).on("click",function(){b.addPager({id:"regist12306",url:b.router.getUrlFromTpl("regist12306"),active:!0})}),$(".nav12306-remove",a).on("click",function(){var a=$.post("http://m.elong.com/train/mode12306/unbindelongand12306");f.startLoading(),a.done(function(a){var d;return d="object"==typeof a?a:JSON.parse(a),d.IsError!==!1?void c.alert(d.ErrorMessage):void f.reload(b.router.getUrlFromTpl("bind12306"))}),a.always(function(){f.startLoading()})}),$(".nav12306-change",a).on("click",function(){h("0"),d()}),function(){h(g)}()})}),require.config({baseUrl:"../../",waitSeconds:10,paths:{}}),require(["src/js/core","src/js/j","entry/train/js/dialog","entry/train/js/route","entry/train/js/index","entry/train/js/activity","entry/train/js/list","entry/train/js/order","entry/train/js/login","entry/train/js/orderlist","entry/train/js/orderdetail","entry/train/js/completed","entry/train/js/detail","entry/train/js/success","entry/train/js/ordererror","src/js/slideInput","entry/train/js/cityDataCopy","entry/train/js/login12306","entry/train/js/register12306","entry/train/js/check12306","entry/train/js/success12306","entry/train/js/order12306","entry/train/js/base64","entry/train/js/bind12306","entry/train/js/calendar"],function(a,b){a.init(),b.setChannel("webapp","train"),a.baseUrl=location.origin+location.pathname,ElongBridge&&0!=ElongBridge.RUNTIME_VERSION&&(window.progress=function(a){a.err?(101==a.err.code&&console.log("package.json error:"+JSON.stringify(a)),103==a.err.code?console.log("no newVersion:"+JSON.stringify(a)):0==a.err.code?console.log("success:"+JSON.stringify(a)):102==a.err.code||201==a.err.code?console.log("progress:"+JSON.stringify(a)):console.log("update error:"+JSON.stringify(a))):console.log("error:"+JSON.stringify(a))},ElongBridge.update({onfail:function(a){console.log("error"+JSON.stringify(a))},moduleName:"train",onprogress:progress}))}),define("entry/train/main",function(){})}();